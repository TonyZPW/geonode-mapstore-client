(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./MapStore2/web/client/actions/additionallayers.js":function(e,t){e.exports={UPDATE_ADDITIONAL_LAYER:"ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",updateAdditionalLayer:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",n=arguments.length>3?arguments[3]:void 0;return{type:"ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",id:e,owner:t,actionType:r,options:n}},REMOVE_ADDITIONAL_LAYER:"ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",removeAdditionalLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:"ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",id:t,owner:r}},REMOVE_ALL_ADDITIONAL_LAYERS:"ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",removeAllAdditionalLayers:function(){return{type:"ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS"}},UPDATE_OPTIONS_BY_OWNER:"ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",updateOptionsByOwner:function(e,t){return{type:"ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",owner:e,options:t}}}},"./MapStore2/web/client/actions/annotations.js":function(e,t,r){var n="ANNOTATIONS:LOADING";var o=r("./MapStore2/node_modules/lodash/lodash.js").head;e.exports={SHOW_ANNOTATION:"ANNOTATIONS:SHOW",EDIT_ANNOTATION:"ANNOTATIONS:EDIT",NEW_ANNOTATION:"ANNOTATIONS:NEW",REMOVE_ANNOTATION:"ANNOTATIONS:REMOVE",CONFIRM_REMOVE_ANNOTATION:"ANNOTATIONS:CONFIRM_REMOVE",CANCEL_REMOVE_ANNOTATION:"ANNOTATIONS:CANCEL_REMOVE",CANCEL_EDIT_ANNOTATION:"ANNOTATIONS:CANCEL_EDIT",SAVE_ANNOTATION:"ANNOTATIONS:SAVE",TOGGLE_ADD:"ANNOTATIONS:TOGGLE_ADD",UPDATE_ANNOTATION_GEOMETRY:"ANNOTATIONS:UPDATE_GEOMETRY",VALIDATION_ERROR:"ANNOTATIONS:VALIDATION_ERROR",REMOVE_ANNOTATION_GEOMETRY:"ANNOTATIONS:REMOVE_GEOMETRY",TOGGLE_STYLE:"ANNOTATIONS:TOGGLE_STYLE",SET_STYLE:"ANNOTATIONS:SET_STYLE",RESTORE_STYLE:"ANNOTATIONS:RESTORE_STYLE",HIGHLIGHT:"ANNOTATIONS:HIGHLIGHT",CLEAN_HIGHLIGHT:"ANNOTATIONS:CLEAN_HIGHLIGHT",CANCEL_SHOW_ANNOTATION:"ANNOTATIONS:CANCEL_SHOW",FILTER_ANNOTATIONS:"ANNOTATIONS:FILTER",CLOSE_ANNOTATIONS:"ANNOTATIONS:CLOSE",CONFIRM_CLOSE_ANNOTATIONS:"ANNOTATIONS:CONFIRM_CLOSE",CANCEL_CLOSE_ANNOTATIONS:"ANNOTATIONS:CANCEL_CLOSE",START_DRAWING:"ANNOTATIONS:START_DRAWING",startDrawing:function(){return{type:"ANNOTATIONS:START_DRAWING"}},UNSAVED_CHANGES:"ANNOTATIONS:UNSAVED_CHANGES",setUnsavedChanges:function(e){return{type:"ANNOTATIONS:UNSAVED_CHANGES",unsavedChanges:e}},UNSAVED_STYLE:"ANNOTATIONS:UNSAVED_STYLE",setUnsavedStyle:function(e){return{type:"ANNOTATIONS:UNSAVED_STYLE",unsavedStyle:e}},TOGGLE_ANNOTATION_VISIBILITY:"ANNOTATIONS:VISIBILITY",toggleVisibilityAnnotation:function(e){return{type:"ANNOTATIONS:VISIBILITY",id:e}},TOGGLE_CHANGES_MODAL:"ANNOTATIONS:TOGGLE_CHANGES_MODAL",toggleUnsavedChangesModal:function(){return{type:"ANNOTATIONS:TOGGLE_CHANGES_MODAL"}},TOGGLE_STYLE_MODAL:"ANNOTATIONS:TOGGLE_STYLE_MODAL",toggleUnsavedStyleModal:function(){return{type:"ANNOTATIONS:TOGGLE_STYLE_MODAL"}},CHANGED_PROPERTIES:"ANNOTATIONS:CHANGED_PROPERTIES",changedProperties:function(e,t){return{type:"ANNOTATIONS:CHANGED_PROPERTIES",field:e,value:t}},ADD_TEXT:"ANNOTATIONS:ADD_TEXT",addText:function(){return{type:"ANNOTATIONS:ADD_TEXT"}},editAnnotation:function(e){return function(t,r){var n=o(o(r().layers.flat.filter((function(e){return"annotations"===e.id}))).features.filter((function(t){return t.properties.id===e})));"FeatureCollection"===n.type?t({type:"ANNOTATIONS:EDIT",feature:n,featureType:n.type}):t({type:"ANNOTATIONS:EDIT",feature:n,featureType:n.geometry.type})}},newAnnotation:function(){return{type:"ANNOTATIONS:NEW"}},removeAnnotation:function(e){return{type:"ANNOTATIONS:REMOVE",id:e}},confirmRemoveAnnotation:function(e,t){return{type:"ANNOTATIONS:CONFIRM_REMOVE",id:e,attribute:t}},cancelRemoveAnnotation:function(){return{type:"ANNOTATIONS:CANCEL_REMOVE"}},cancelEditAnnotation:function(){return{type:"ANNOTATIONS:CANCEL_EDIT"}},saveAnnotation:function(e,t,r,n,o,a){return{type:"ANNOTATIONS:SAVE",id:e,fields:t,geometry:r,style:n,newFeature:o,properties:a}},toggleAdd:function(e){return{type:"ANNOTATIONS:TOGGLE_ADD",featureType:e}},updateAnnotationGeometry:function(e,t,r){return{type:"ANNOTATIONS:UPDATE_GEOMETRY",geometry:e,textChanged:t,circleChanged:r}},validationError:function(e){return{type:"ANNOTATIONS:VALIDATION_ERROR",errors:e}},removeAnnotationGeometry:function(e){return{type:"ANNOTATIONS:REMOVE_GEOMETRY",id:e}},toggleStyle:function(){return{type:"ANNOTATIONS:TOGGLE_STYLE"}},setStyle:function(e){return{type:"ANNOTATIONS:SET_STYLE",style:e}},restoreStyle:function(){return{type:"ANNOTATIONS:RESTORE_STYLE"}},highlight:function(e){return{type:"ANNOTATIONS:HIGHLIGHT",id:e}},cleanHighlight:function(){return{type:"ANNOTATIONS:CLEAN_HIGHLIGHT"}},showAnnotation:function(e){return{type:"ANNOTATIONS:SHOW",id:e}},cancelShowAnnotation:function(){return{type:"ANNOTATIONS:CANCEL_SHOW"}},filterAnnotations:function(e){return{type:"ANNOTATIONS:FILTER",filter:e}},closeAnnotations:function(){return{type:"ANNOTATIONS:CLOSE"}},confirmCloseAnnotations:function(){return{type:"ANNOTATIONS:CONFIRM_CLOSE"}},cancelCloseAnnotations:function(){return{type:"ANNOTATIONS:CANCEL_CLOSE"}},DOWNLOAD:"ANNOTATIONS:DOWNLOAD",download:function(e){return{type:"ANNOTATIONS:DOWNLOAD",annotation:e}},OPEN_EDITOR:"ANNOTATIONS:OPEN_EDITOR",openEditor:function(e){return{type:"ANNOTATIONS:OPEN_EDITOR",id:e}},CONFIRM_DELETE_FEATURE:"ANNOTATIONS:CONFIRM_DELETE_FEATURE",confirmDeleteFeature:function(){return{type:"ANNOTATIONS:CONFIRM_DELETE_FEATURE"}},TOGGLE_DELETE_FT_MODAL:"ANNOTATIONS:TOGGLE_DELETE_FT_MODAL",toggleDeleteFtModal:function(){return{type:"ANNOTATIONS:TOGGLE_DELETE_FT_MODAL"}},HIGHLIGHT_POINT:"ANNOTATIONS:HIGHLIGHT_POINT",highlightPoint:function(e){return{type:"ANNOTATIONS:HIGHLIGHT_POINT",point:e}},ADD_NEW_FEATURE:"ANNOTATIONS:ADD_NEW_FEATURE",addNewFeature:function(){return{type:"ANNOTATIONS:ADD_NEW_FEATURE"}},SET_EDITING_FEATURE:"ANNOTATIONS:SET_EDITING_FEATURE",setEditingFeature:function(e){return{type:"ANNOTATIONS:SET_EDITING_FEATURE",feature:e}},LOAD_ANNOTATIONS:"ANNOTATIONS:LOAD_ANNOTATIONS",loadAnnotations:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"ANNOTATIONS:LOAD_ANNOTATIONS",features:e,override:t}},RESET_COORD_EDITOR:"ANNOTATIONS:RESET_COORD_EDITOR",resetCoordEditor:function(){return{type:"ANNOTATIONS:RESET_COORD_EDITOR"}},CHANGE_TEXT:"ANNOTATIONS:CHANGE_TEXT",changeText:function(e,t){return{type:"ANNOTATIONS:CHANGE_TEXT",text:e,components:t}},CHANGE_RADIUS:"ANNOTATIONS:CHANGE_RADIUS",changeRadius:function(e,t,r){return{type:"ANNOTATIONS:CHANGE_RADIUS",radius:e,components:t,crs:r}},TOGGLE_GEOMETRY_MODAL:"ANNOTATIONS:TOGGLE_GEOMETRY_MODAL",toggleUnsavedGeometryModal:function(){return{type:"ANNOTATIONS:TOGGLE_GEOMETRY_MODAL"}},SET_INVALID_SELECTED:"ANNOTATIONS:SET_INVALID_SELECTED",setInvalidSelected:function(e,t){return{type:"ANNOTATIONS:SET_INVALID_SELECTED",errorFrom:e,coordinates:t}},CHANGE_FORMAT:"ANNOTATIONS:CHANGE_FORMAT",changeFormat:function(e){return{type:"ANNOTATIONS:CHANGE_FORMAT",format:e}},CHANGED_SELECTED:"ANNOTATIONS:CHANGED_SELECTED",changeSelected:function(e,t,r,n){return{type:"ANNOTATIONS:CHANGED_SELECTED",coordinates:e,radius:t,text:r,crs:n}},UPDATE_SYMBOLS:"ANNOTATIONS:UPDATE_SYMBOLS",updateSymbols:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"ANNOTATIONS:UPDATE_SYMBOLS",symbols:e}},ERROR_SYMBOLS:"ANNOTATIONS:ERROR_SYMBOLS",setErrorSymbol:function(e){return{type:"ANNOTATIONS:ERROR_SYMBOLS",symbolErrors:e}},SET_DEFAULT_STYLE:"ANNOTATIONS:SET_DEFAULT_STYLE",setDefaultStyle:function(e,t){return{type:"ANNOTATIONS:SET_DEFAULT_STYLE",path:e,style:t}},LOAD_DEFAULT_STYLES:"ANNOTATIONS:LOAD_DEFAULT_STYLES",loadDefaultStyles:function(e,t,r,n,o){return{type:"ANNOTATIONS:LOAD_DEFAULT_STYLES",shape:e,size:t,fillColor:r,strokeColor:n,symbolsPath:o}},LOADING:n,loading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading";return{type:n,name:t,value:e}},CHANGE_GEOMETRY_TITLE:"ANNOTATIONS:CHANGE_GEOMETRY_TITLE",changeGeometryTitle:function(e){return{type:"ANNOTATIONS:CHANGE_GEOMETRY_TITLE",title:e}}}},"./MapStore2/web/client/actions/backgroundselector.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ADD_BACKGROUND",(function(){return n})),r.d(t,"REMOVE_BACKGROUND",(function(){return o})),r.d(t,"SET_CURRENT_BACKGROUND_LAYER",(function(){return a})),r.d(t,"BACKGROUND_ADDED",(function(){return i})),r.d(t,"BACKGROUND_EDITED",(function(){return s})),r.d(t,"ADD_BACKGROUND_PROPERTIES",(function(){return l})),r.d(t,"SET_BACKGROUND_MODAL_PARAMS",(function(){return c})),r.d(t,"UPDATE_BACKGROUND_THUMBNAIL",(function(){return u})),r.d(t,"BACKGROUNDS_CLEAR",(function(){return p})),r.d(t,"CREATE_BACKGROUNDS_LIST",(function(){return f})),r.d(t,"CLEAR_MODAL_PARAMETERS",(function(){return d})),r.d(t,"CONFIRM_DELETE_BACKGROUND_MODAL",(function(){return m})),r.d(t,"ALLOW_BACKGROUNDS_DELETION",(function(){return y})),r.d(t,"createBackgroundsList",(function(){return b})),r.d(t,"addBackground",(function(){return g})),r.d(t,"addBackgroundProperties",(function(){return h})),r.d(t,"setBackgroundModalParams",(function(){return v})),r.d(t,"backgroundAdded",(function(){return S})),r.d(t,"backgroundEdited",(function(){return O})),r.d(t,"setCurrentBackgroundLayer",(function(){return w})),r.d(t,"allowBackgroundsDeletion",(function(){return E})),r.d(t,"updateThumbnail",(function(){return j})),r.d(t,"removeBackground",(function(){return T})),r.d(t,"clearBackgrounds",(function(){return A})),r.d(t,"clearModalParameters",(function(){return _})),r.d(t,"confirmDeleteBackgroundModal",(function(){return x}));var n="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",a="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",i="BACKGROUND_SELECTOR:BACKGROUND_ADDED",s="BACKGROUND_SELECTOR:BACKGROUND_EDITED",l="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",c="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",u="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",p="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",f="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",d="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",m="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",y="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function b(e){return{type:f,backgrounds:e}}function g(e){return{type:n,source:e}}function h(e){return{type:l,modalParams:e}}function v(e){return{type:c,modalParams:e}}function S(e){return{type:i,layerId:e}}function O(e){return{type:s,layerId:e}}function w(e){return{type:a,layerId:e}}function E(e){return{type:y,allow:e}}function j(e,t){return{type:u,thumbnailData:e,id:t}}function T(e){return{type:o,backgroundId:e}}function A(){return{type:p}}function _(){return{type:d}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:m,show:e,layerTitle:t,layerId:r}}},"./MapStore2/web/client/actions/catalog.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ADD_LAYERS_FROM_CATALOGS",(function(){return E})),r.d(t,"TEXT_SEARCH",(function(){return j})),r.d(t,"RECORD_LIST_LOADED",(function(){return T})),r.d(t,"RESET_CATALOG",(function(){return A})),r.d(t,"CATALOG_CLOSE",(function(){return _})),r.d(t,"RECORD_LIST_LOAD_ERROR",(function(){return x})),r.d(t,"CHANGE_CATALOG_FORMAT",(function(){return M})),r.d(t,"ADD_LAYER_ERROR",(function(){return P})),r.d(t,"DESCRIBE_ERROR",(function(){return C})),r.d(t,"CHANGE_SELECTED_SERVICE",(function(){return L})),r.d(t,"CHANGE_CATALOG_MODE",(function(){return R})),r.d(t,"CHANGE_METADATA_TEMPLATE",(function(){return I})),r.d(t,"CHANGE_TITLE",(function(){return D})),r.d(t,"CHANGE_TEXT",(function(){return N})),r.d(t,"CHANGE_TYPE",(function(){return k})),r.d(t,"CHANGE_SERVICE_PROPERTY",(function(){return F})),r.d(t,"CHANGE_SERVICE_FORMAT",(function(){return G})),r.d(t,"FOCUS_SERVICES_LIST",(function(){return U})),r.d(t,"CHANGE_URL",(function(){return B})),r.d(t,"ADD_CATALOG_SERVICE",(function(){return H})),r.d(t,"DELETE_CATALOG_SERVICE",(function(){return z})),r.d(t,"ADD_SERVICE",(function(){return V})),r.d(t,"DELETE_SERVICE",(function(){return W})),r.d(t,"SAVING_SERVICE",(function(){return Y})),r.d(t,"CATALOG_INITED",(function(){return q})),r.d(t,"GET_METADATA_RECORD_BY_ID",(function(){return Z})),r.d(t,"SET_LOADING",(function(){return K})),r.d(t,"TOGGLE_TEMPLATE",(function(){return Q})),r.d(t,"TOGGLE_THUMBNAIL",(function(){return X})),r.d(t,"TOGGLE_ADVANCED_SETTINGS",(function(){return J})),r.d(t,"addLayersMapViewerUrl",(function(){return $})),r.d(t,"textSearch",(function(){return ee})),r.d(t,"recordsLoaded",(function(){return te})),r.d(t,"changeCatalogFormat",(function(){return re})),r.d(t,"savingService",(function(){return ne})),r.d(t,"setLoading",(function(){return oe})),r.d(t,"changeSelectedService",(function(){return ae})),r.d(t,"focusServicesList",(function(){return ie})),r.d(t,"changeCatalogMode",(function(){return se})),r.d(t,"changeTitle",(function(){return le})),r.d(t,"changeText",(function(){return ce})),r.d(t,"changeServiceProperty",(function(){return ue})),r.d(t,"changeServiceFormat",(function(){return pe})),r.d(t,"changeType",(function(){return fe})),r.d(t,"changeUrl",(function(){return de})),r.d(t,"addService",(function(){return me})),r.d(t,"addCatalogService",(function(){return ye})),r.d(t,"deleteCatalogService",(function(){return be})),r.d(t,"deleteService",(function(){return ge})),r.d(t,"resetCatalog",(function(){return he})),r.d(t,"recordsLoadError",(function(){return ve})),r.d(t,"catalogInited",(function(){return Se})),r.d(t,"initCatalog",(function(){return Oe})),r.d(t,"catalogClose",(function(){return we})),r.d(t,"getRecords",(function(){return Ee})),r.d(t,"describeError",(function(){return je})),r.d(t,"addLayerAndDescribe",(function(){return Te})),r.d(t,"addLayer",(function(){return Ae})),r.d(t,"addLayerError",(function(){return _e})),r.d(t,"getMetadataRecordById",(function(){return xe})),r.d(t,"changeMetadataTemplate",(function(){return Me})),r.d(t,"toggleAdvancedSettings",(function(){return Pe})),r.d(t,"toggleTemplate",(function(){return Ce})),r.d(t,"toggleThumbnail",(function(){return Le})),r.d(t,"recordsNotFound",(function(){return Re}));var n=r("./MapStore2/web/client/api/CSW.js"),o=r.n(n),a=r("./MapStore2/web/client/api/WMS.js"),i=r.n(a),s=r("./MapStore2/web/client/api/WMTS.js"),l=r.n(s),c=r("./MapStore2/web/client/api/mapBackground.js"),u=r.n(c),p=r("./MapStore2/web/client/actions/layers.js"),f=r("./MapStore2/web/client/actions/map.js"),d=r("./MapStore2/web/client/utils/LayersUtils.js"),m=r("./MapStore2/web/client/utils/ConfigUtils.js"),y=r("./MapStore2/node_modules/lodash/lodash.js"),b=r("./MapStore2/web/client/selectors/catalog.js"),g=r("./MapStore2/web/client/selectors/layers.js"),h=r("./MapStore2/web/client/actions/notifications.js");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={csw:o.a,wms:i.a,wmts:l.a,backgrounds:u.a},E="CATALOG:ADD_LAYERS_FROM_CATALOGS",j="CATALOG:TEXT_SEARCH",T="CATALOG:RECORD_LIST_LOADED",A="CATALOG:RESET_CATALOG",_="CATALOG:CATALOG_CLOSE",x="CATALOG:RECORD_LIST_LOAD_ERROR",M="CATALOG:CHANGE_CATALOG_FORMAT",P="CATALOG:ADD_LAYER_ERROR",C="CATALOG:DESCRIBE_ERROR",L="CATALOG:CHANGE_SELECTED_SERVICE",R="CATALOG:CHANGE_CATALOG_MODE",I="CATALOG:CHANGE_METADATA_TEMPLATE",D="CATALOG:CHANGE_TITLE",N="CATALOG:CHANGE_TEXT",k="CATALOG:CHANGE_TYPE",F="CATALOG:CHANGE_SERVICE_PROPERTY",G="CATALOG:CHANGE_SERVICE_FORMAT",U="CATALOG:FOCUS_SERVICES_LIST",B="CATALOG:CHANGE_URL",H="CATALOG:ADD_CATALOG_SERVICE",z="CATALOG:DELETE_CATALOG_SERVICE",V="CATALOG:ADD_SERVICE",W="CATALOG:DELETE_SERVICE",Y="CATALOG:SAVING_SERVICE",q="CATALOG:INIT",Z="CATALOG:GET_METADATA_RECORD_BY_ID",K="CATALOG:SET_LOADING",Q="CATALOG:TOGGLE_TEMPLATE",X="CATALOG:TOGGLE_THUMBNAIL",J="CATALOG:TOGGLE_ADVANCED_SETTINGS";function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:E,layers:e,sources:t}}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=e.url,n=e.startPosition,o=e.maxRecords,a=e.text,i=e.options,s=void 0===i?{}:i;return{type:j,format:t,url:r,startPosition:n,maxRecords:o,text:a,options:s}}function te(e,t){return{type:T,searchOptions:e,result:t}}function re(e){return{type:M,format:e}}function ne(e){return{type:Y,status:e}}function oe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:K,loading:e}}function ae(e){return{type:L,service:e}}function ie(e){return{type:U,status:e}}function se(e,t){return{type:R,mode:e,isNew:t}}function le(e){return{type:D,title:e}}function ce(e){return{type:N,text:e}}function ue(e,t){return{type:F,property:e,value:t}}function pe(e){return{type:G,format:e}}function fe(e){return{type:k,newType:e}}function de(e){return{type:B,url:e}}function me(){return{type:V}}function ye(e){return{type:H,service:e}}function be(e){return{type:z,service:e}}function ge(){return{type:W}}function he(){return{type:A}}function ve(e){return{type:x,error:e}}function Se(){return{type:q}}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return function(t){Object.keys(e).forEach((function(t){e[t].reset()})),t(Se())}}function we(){return{type:_}}function Ee(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return function(i){i(oe(!0)),w[e].getRecords(t,r,n,o,a).then((function(e){e.error?i(ve(e)):i(te({url:t,startPosition:r,maxRecords:n,filter:o},e))})).catch((function(e){i(ve(e))}))}}function je(e,t){return{type:C,layer:e,error:t}}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.zoomToLayer,n=void 0!==r&&r;return function(t,r){var o=r(),a=Object(g.layersSelector)(o),i=d.getLayerId(e,a||[]);return t(Object(p.addLayer)(S(S({},e),{},{id:i}))),n&&e.bbox&&t(Object(f.zoomToExtent)(e.bbox.bounds,e.bbox.crs)),"wms"===e.type?w.wms.describeLayers(d.getLayerUrl(e),e.name).then((function(r){if(r){var n=Object(y.find)(r,(function(t){return t.name===e.name}));if(n&&"WFS"===n.owsType){var a=m.filterUrlParams(m.cleanDuplicatedQuestionMarks(n.owsURL),Object(b.authkeyParamNameSelector)(o));t(Object(p.changeLayerProperties)(i,{search:{url:a,type:"wfs"}}))}}})).catch((function(r){return t(je(e,r))})):null}}var Ae=Te;function _e(e){return{type:P,error:e}}function xe(e){return{type:Z,metadataOptions:e}}var Me=function(e){return{type:I,metadataTemplate:e}},Pe=function(){return{type:J}},Ce=function(){return{type:Q}},Le=function(){return{type:X}};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(h.error)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}},"./MapStore2/web/client/actions/contenttabs.js":function(e,t){e.exports={onTabSelected:function(e){return{type:"CONTENT_TABS:ON_TAB_SELECTED",id:e}},ON_TAB_SELECTED:"CONTENT_TABS:ON_TAB_SELECTED",setTabsHidden:function(e){return{type:"CONTENT_TABS:SET_TABS_HIDDEN",tabs:e}},SET_TABS_HIDDEN:"CONTENT_TABS:SET_TABS_HIDDEN"}},"./MapStore2/web/client/actions/dashboards.js":function(e,t){var r="DASHBOARDS:RELOAD_DASHBOARDS",n="DASHBOARDS:LOADING";e.exports={SET_DASHBOARDS_AVAILABLE:"DASHBOARDS:SET_DASHBOARDS_AVAILABLE",setDashboardsAvailable:function(e){return{type:"DASHBOARDS:SET_DASHBOARDS_AVAILABLE",available:e}},SEARCH_DASHBOARDS:"DASHBOARDS:SEARCH_DASHBOARDS",searchDashboards:function(e,t){return{type:"DASHBOARDS:SEARCH_DASHBOARDS",searchText:e,params:t}},LOADING:n,dashboardsLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading";return{type:n,name:t,value:e}},DASHBOARDS_LIST_LOADED:"DASHBOARDS:DASHBOARDS_LIST_LOADED",dashboardListLoaded:function(e){var t=e.results,r=e.success,n=e.totalCount,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.searchText,i=o.options;return{type:"DASHBOARDS:DASHBOARDS_LIST_LOADED",results:t,success:r,totalCount:n,searchText:a,options:i}},DELETE_DASHBOARD:"DASHBOARDS:DELETE_DASHBOARD",deleteDashboard:function(e){return{type:"DASHBOARDS:DELETE_DASHBOARD",id:e}},DASHBOARD_DELETED:"DASHBOARDS:DASHBOARD_DELETED",RELOAD:r,reloadDashboards:function(){return{type:r}},dashboardDeleted:function(e){return{type:"DASHBOARDS:DASHBOARD_DELETED",id:e}}}},"./MapStore2/web/client/actions/draw.js":function(e,t){function r(e,t,r,n,o,a){return{type:"CHANGE_DRAWING_STATUS",status:e,method:t,owner:r,features:n,options:o,style:a}}e.exports={CHANGE_DRAWING_STATUS:"CHANGE_DRAWING_STATUS",changeDrawingStatus:r,drawSupportReset:function(e){return r("clean","",e,[],{})},END_DRAWING:"DRAW:END_DRAWING",endDrawing:function(e,t){return{type:"DRAW:END_DRAWING",geometry:e,owner:t}},SET_CURRENT_STYLE:"DRAW:SET_CURRENT_STYLE",setCurrentStyle:function(e){return{type:"DRAW:SET_CURRENT_STYLE",currentStyle:e}},FEATURES_SELECTED:"DRAW:FEATURES_SELECTED",selectFeatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"DRAW:FEATURES_SELECTED",features:e}},DRAWING_FEATURE:"DRAW:DRAWING_FEATURES",drawingFeatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"DRAW:DRAWING_FEATURES",features:e}},DRAW_SUPPORT_STOPPED:"DRAW:DRAW_SUPPORT_STOPPED",drawStopped:function(){return{type:"DRAW:DRAW_SUPPORT_STOPPED"}},GEOMETRY_CHANGED:"DRAW:GEOMETRY_CHANGED",geometryChanged:function(e,t,r,n,o){return{type:"DRAW:GEOMETRY_CHANGED",features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}}},"./MapStore2/web/client/actions/featuregrid.js":function(e,t){var r="FEATUREGRID:TOGGLE_MODE",n="FEATUREGRID:INIT_PLUGIN",o={EDIT:"EDIT",VIEW:"VIEW"};e.exports={SELECT_FEATURES:"FEATUREGRID:SELECT_FEATURES",DESELECT_FEATURES:"FEATUREGRID:DESELECT_FEATURES",CLEAR_SELECTION:"FEATUREGRID:CLEAR_SELECTION",TOGGLE_FEATURES_SELECTION:"FEATUREGRID:TOGGLE_FEATURES_SELECTION",SET_SELECTION_OPTIONS:"FEATUREGRID:SET_SELECTION_OPTIONS",SET_FEATURES:"SET_FEATURES",FEATURES_MODIFIED:"FEATUREGRID:FEATURES_MODIFIED",CREATE_NEW_FEATURE:"FEATUREGRID:NEW_FEATURE",SAVE_CHANGES:"FEATUREGRID:SAVE_CHANGES",CLEAR_CHANGES:"FEATUREGRID:CLEAR_CHANGES",SAVE_SUCCESS:"FEATUREGRID:SAVE_SUCCESS",SAVE_ERROR:"FEATUREGRID:SAVE_ERROR",DELETE_SELECTED_FEATURES_CONFIRM:"FEATUREGRID:DELETE_SELECTED_FEATURES_CONFIRM",DELETE_SELECTED_FEATURES:"FEATUREGRID:DELETE_SELECTED_FEATURES",DOCK_SIZE_FEATURES:"DOCK_SIZE_FEATURES",SORT_BY:"FEATUREGRID:SORT_BY",CHANGE_PAGE:"FEATUREGRID:CHANGE_PAGE",SET_LAYER:"FEATUREGRID:SET_LAYER",TOGGLE_TOOL:"FEATUREGRID:TOGGLE_TOOL",CUSTOMIZE_ATTRIBUTE:"FEATUREGRID:CUSTOMIZE_ATTRIBUTE",TOGGLE_MODE:r,MODES:o,SAVING:"FEATUREGRID:SAVING",SET_PERMISSION:"FEATUREGRID:SET_PERMISSION",setPermission:function(e){return{type:"FEATUREGRID:SET_PERMISSION",permission:e}},START_EDITING_FEATURE:"FEATUREGRID:START_EDITING_FEATURE",startEditingFeature:function(){return{type:"FEATUREGRID:START_EDITING_FEATURE"}},START_DRAWING_FEATURE:"FEATUREGRID:START_DRAWING_FEATURE",startDrawingFeature:function(){return{type:"FEATUREGRID:START_DRAWING_FEATURE"}},GEOMETRY_CHANGED:"FEATUREGRID:GEOMETRY_CHANGED",geometryChanged:function(e){return{type:"FEATUREGRID:GEOMETRY_CHANGED",features:e}},DELETE_GEOMETRY:"FEATUREGRID:DELETE_GEOMETRY",deleteGeometry:function(){return{type:"FEATUREGRID:DELETE_GEOMETRY"}},DELETE_GEOMETRY_FEATURE:"FEATUREGRID:DELETE_GEOMETRY_FEATURE",deleteGeometryFeature:function(e){return{type:"FEATUREGRID:DELETE_GEOMETRY_FEATURE",features:e}},CLEAR_CHANGES_CONFIRMED:"FEATUREGRID:CLEAR_CHANGES_CONFIRMED",clearChangeConfirmed:function(){return{type:"FEATUREGRID:CLEAR_CHANGES_CONFIRMED"}},CLOSE_FEATURE_GRID:"FEATUREGRID:CLOSE_GRID",closeFeatureGrid:function(){return{type:"FEATUREGRID:CLOSE_GRID"}},OPEN_FEATURE_GRID:"FEATUREGRID:OPEN_GRID",openFeatureGrid:function(){return{type:"FEATUREGRID:OPEN_GRID"}},CLOSE_FEATURE_GRID_CONFIRM:"ASK_CLOSE_FEATURE_GRID_CONFIRM",closeFeatureGridConfirm:function(){return{type:"ASK_CLOSE_FEATURE_GRID_CONFIRM"}},FEATURE_GRID_CLOSE_CONFIRMED:"FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",closeFeatureGridConfirmed:function(){return{type:"FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED"}},SET_UP:"FEATUREGRID:SET_UP",setUp:function(e){return{type:"FEATUREGRID:SET_UP",options:e}},DISABLE_TOOLBAR:"FEATUREGRID:DISABLE_TOOLBAR",disableToolbar:function(e){return{type:"FEATUREGRID:DISABLE_TOOLBAR",disabled:e}},OPEN_ADVANCED_SEARCH:"FEATUREGRID:ADVANCED_SEARCH",openAdvancedSearch:function(){return{type:"FEATUREGRID:ADVANCED_SEARCH"}},ZOOM_ALL:"FEATUREGRID:ZOOM_ALL",zoomAll:function(){return{type:"FEATUREGRID:ZOOM_ALL"}},UPDATE_FILTER:"QUERY:UPDATE_FILTER",updateFilter:function(e){return{type:"QUERY:UPDATE_FILTER",update:e}},SIZE_CHANGE:"FEATUREGRID:SIZE_CHANGE",sizeChange:function(e,t){return{type:"FEATUREGRID:SIZE_CHANGE",size:e,dockProps:t}},setLayer:function(e){return{type:"FEATUREGRID:SET_LAYER",id:e}},selectFeatures:function(e,t){return{type:"FEATUREGRID:SELECT_FEATURES",features:e,append:t}},deselectFeatures:function(e){return{type:"FEATUREGRID:DESELECT_FEATURES",features:e}},setSelectionOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,r=void 0!==t&&t;return{type:"FEATUREGRID:SET_SELECTION_OPTIONS",multiselect:r}},clearSelection:function(){return{type:"FEATUREGRID:CLEAR_SELECTION"}},toggleSelection:function(e){return{type:"FEATUREGRID:TOGGLE_FEATURES_SELECTION",features:e}},setFeatures:function(e){return{type:"SET_FEATURES",features:e}},featureModified:function(e,t){return{type:"FEATUREGRID:FEATURES_MODIFIED",features:e,updated:t}},createNewFeatures:function(e){return{type:"FEATUREGRID:NEW_FEATURE",features:e}},saveChanges:function(){return{type:"FEATUREGRID:SAVE_CHANGES"}},featureSaving:function(){return{type:"FEATUREGRID:SAVING"}},clearChanges:function(){return{type:"FEATUREGRID:CLEAR_CHANGES"}},saveSuccess:function(){return{type:"FEATUREGRID:SAVE_SUCCESS"}},saveError:function(){return{type:"FEATUREGRID:SAVE_ERROR"}},deleteFeaturesConfirm:function(){return{type:"FEATUREGRID:DELETE_SELECTED_FEATURES_CONFIRM"}},deleteFeatures:function(){return{type:"FEATUREGRID:DELETE_SELECTED_FEATURES"}},dockSizeFeatures:function(e){return{type:"DOCK_SIZE_FEATURES",dockSize:e}},sort:function(e,t){return{type:"FEATUREGRID:SORT_BY",sortBy:e,sortOrder:t}},changePage:function(e,t){return{type:"FEATUREGRID:CHANGE_PAGE",page:e,size:t}},toggleTool:function(e,t){return{type:"FEATUREGRID:TOGGLE_TOOL",tool:e,value:t}},customizeAttribute:function(e,t,r){return{type:"FEATUREGRID:CUSTOMIZE_ATTRIBUTE",name:e,key:t,value:r}},toggleEditMode:function(){return{type:r,mode:o.EDIT}},toggleViewMode:function(){return{type:r,mode:o.VIEW}},initPlugin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n,options:e}},INIT_PLUGIN:n,hideSyncPopover:function(){return{type:"FEATUREGRID:HIDE_SYNC_POPOVER"}},HIDE_SYNC_POPOVER:"FEATUREGRID:HIDE_SYNC_POPOVER",toggleShowAgain:function(){return{type:"FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG"}},TOGGLE_SHOW_AGAIN_FLAG:"FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",START_SYNC_WMS:"FEATUREGRID:START_SYNC_WMS",startSyncWMS:function(){return{type:"FEATUREGRID:START_SYNC_WMS"}},STOP_SYNC_WMS:"FEATUREGRID:STOP_SYNC_WMS",storeAdvancedSearchFilter:function(e){return{type:"STORE_ADVANCED_SEARCH_FILTER",filterObj:e}},STORE_ADVANCED_SEARCH_FILTER:"STORE_ADVANCED_SEARCH_FILTER",moreFeatures:function(e){return{type:"LOAD_MORE_FEATURES",pages:e}},LOAD_MORE_FEATURES:"LOAD_MORE_FEATURES",activateTemporaryChanges:function(e){return{type:"FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",activated:e}},ACTIVATE_TEMPORARY_CHANGES:"FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",deactivateGeometryFilter:function(e){return{type:"FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",deactivated:e}},DEACTIVATE_GEOMETRY_FILTER:"FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",fatureGridQueryResult:function(e,t){return{type:"FEATUREGRID:QUERY_RESULT",features:e,pages:t}},GRID_QUERY_RESULT:"FEATUREGRID:QUERY_RESULT",setTimeSync:function(e){return{type:"FEATUREGRID:SET_TIME_SYNC",value:e}},SET_TIME_SYNC:"FEATUREGRID:SET_TIME_SYNC"}},"./MapStore2/web/client/actions/fullscreen.js":function(e,t){e.exports={toggleFullscreen:function(e,t){return{type:"TOGGLE_FULLSCREEN",enable:e,elementSelector:t}},TOGGLE_FULLSCREEN:"TOGGLE_FULLSCREEN"}},"./MapStore2/web/client/actions/highlight.js":function(e,t){e.exports={HIGHLIGHT_STATUS:"HIGHLIGHT_STATUS",highlightStatus:function(e){return{type:"HIGHLIGHT_STATUS",status:e}},UPDATE_HIGHLIGHTED:"UPDATE_HIGHLIGHTED",updateHighlighted:function(e,t){return{type:"UPDATE_HIGHLIGHTED",features:e,status:t}},SET_HIGHLIGHT_FEATURES_PATH:"HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH",setHighlightFeaturesPath:function(e){return{type:"HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH",featuresPath:e}}}},"./MapStore2/web/client/actions/locate.js":function(e,t){e.exports={CHANGE_LOCATE_STATE:"CHANGE_LOCATE_STATE",LOCATE_ERROR:"LOCATE_ERROR",changeLocateState:function(e){return{type:"CHANGE_LOCATE_STATE",state:e}},onLocateError:function(e){return{type:"LOCATE_ERROR",error:e}}}},"./MapStore2/web/client/actions/mapInfo.js":function(e,t,r){var n=r("./MapStore2/web/client/api/Nominatim.js");function o(e){return{type:"SHOW_REVERSE_GEOCODE",reverseGeocodeData:e.data}}e.exports={ERROR_FEATURE_INFO:"ERROR_FEATURE_INFO",EXCEPTIONS_FEATURE_INFO:"EXCEPTIONS_FEATURE_INFO",LOAD_FEATURE_INFO:"LOAD_FEATURE_INFO",CHANGE_MAPINFO_STATE:"CHANGE_MAPINFO_STATE",NEW_MAPINFO_REQUEST:"NEW_MAPINFO_REQUEST",PURGE_MAPINFO_RESULTS:"PURGE_MAPINFO_RESULTS",CHANGE_MAPINFO_FORMAT:"CHANGE_MAPINFO_FORMAT",SHOW_MAPINFO_MARKER:"SHOW_MAPINFO_MARKER",HIDE_MAPINFO_MARKER:"HIDE_MAPINFO_MARKER",SHOW_REVERSE_GEOCODE:"SHOW_REVERSE_GEOCODE",HIDE_REVERSE_GEOCODE:"HIDE_REVERSE_GEOCODE",GET_VECTOR_INFO:"GET_VECTOR_INFO",NO_QUERYABLE_LAYERS:"NO_QUERYABLE_LAYERS",CLEAR_WARNING:"CLEAR_WARNING",FEATURE_INFO_CLICK:"FEATURE_INFO_CLICK",TOGGLE_HIGHLIGHT_FEATURE:"IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",toggleHighlightFeature:function(e){return{type:"IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",enabled:e}},CHANGE_PAGE:"IDENTIFY:CHANGE_PAGE",changePage:function(e){return{type:"IDENTIFY:CHANGE_PAGE",index:e}},TOGGLE_MAPINFO_STATE:"TOGGLE_MAPINFO_STATE",UPDATE_CENTER_TO_MARKER:"UPDATE_CENTER_TO_MARKER",CLOSE_IDENTIFY:"IDENTIFY:CLOSE_IDENTIFY",TOGGLE_EMPTY_MESSAGE_GFI:"IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",toggleEmptyMessageGFI:function(){return{type:"IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI"}},TOGGLE_SHOW_COORD_EDITOR:"IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",toggleShowCoordinateEditor:function(e){return{type:"IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",showCoordinateEditor:e}},CHANGE_FORMAT:"IDENTIFY:CHANGE_FORMAT",changeFormat:function(e){return{type:"IDENTIFY:CHANGE_FORMAT",format:e}},closeIdentify:function(){return{type:"IDENTIFY:CLOSE_IDENTIFY"}},exceptionsFeatureInfo:function(e,t,r,n){return{type:"EXCEPTIONS_FEATURE_INFO",reqId:e,exceptions:t,requestParams:r,layerMetadata:n}},changeMapInfoState:function(e){return{type:"CHANGE_MAPINFO_STATE",enabled:e}},newMapInfoRequest:function(e,t){return{type:"NEW_MAPINFO_REQUEST",reqId:e,request:t}},purgeMapInfoResults:function(){return{type:"PURGE_MAPINFO_RESULTS"}},changeMapInfoFormat:function(e){return{type:"CHANGE_MAPINFO_FORMAT",infoFormat:e}},showMapinfoMarker:function(){return{type:"SHOW_MAPINFO_MARKER"}},hideMapinfoMarker:function(){return{type:"HIDE_MAPINFO_MARKER"}},revGeocodeInfo:o,hideMapinfoRevGeocode:function(){return{type:"HIDE_REVERSE_GEOCODE"}},showMapinfoRevGeocode:function(e){return function(t){n.reverseGeocode(e).then((function(e){t(o(e))})).catch((function(e){t(o(e))}))}},getVectorInfo:function(e,t,r,n){return{type:"GET_VECTOR_INFO",layer:e,request:t,metadata:r,queryableLayers:n}},noQueryableLayers:function(){return{type:"NO_QUERYABLE_LAYERS"}},clearWarning:function(){return{type:"CLEAR_WARNING"}},errorFeatureInfo:function(e,t,r,n){return{type:"ERROR_FEATURE_INFO",error:t,reqId:e,requestParams:r,layerMetadata:n}},loadFeatureInfo:function(e,t,r,n,o){return{type:"LOAD_FEATURE_INFO",data:t,reqId:e,requestParams:r,layerMetadata:n,layer:o}},toggleMapInfoState:function(){return{type:"TOGGLE_MAPINFO_STATE"}},updateCenterToMarker:function(e){return{type:"UPDATE_CENTER_TO_MARKER",status:e}},featureInfoClick:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:"FEATURE_INFO_CLICK",point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}},UPDATE_FEATURE_INFO_CLICK_POINT:"IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",updateFeatureInfoClickPoint:function(e){return{type:"IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",point:e}},EDIT_LAYER_FEATURES:"IDENTIFY:EDIT_LAYER_FEATURES",editLayerFeatures:function(e){return{type:"IDENTIFY:EDIT_LAYER_FEATURES",layer:e}},SET_CURRENT_EDIT_FEATURE_QUERY:"IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",setCurrentEditFeatureQuery:function(e){return{type:"IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",query:e}},SET_MAP_TRIGGER:"IDENTIFY:SET_MAP_TRIGGER",setMapTrigger:function(e){return{type:"IDENTIFY:SET_MAP_TRIGGER",trigger:e}}}},"./MapStore2/web/client/actions/mapPopups.js":function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,"ADD_MAP_POPUP",(function(){return i})),r.d(t,"REMOVE_MAP_POPUP",(function(){return s})),r.d(t,"CLEAN_MAP_POPUPS",(function(){return l})),r.d(t,"addPopup",(function(){return c})),r.d(t,"removePopup",(function(){return u})),r.d(t,"cleanPopups",(function(){return p}));var i="MAP:ADD_POPUP",s="MAP:REMOVE_POPUP",l="MAP:CLEAN_POPUPS",c=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:i,id:e,popup:o({id:e},t),single:r}},u=function(e){return{type:s,id:e}},p=function(){return{type:l}}},"./MapStore2/web/client/actions/maplayout.js":function(e,t){e.exports={UPDATE_MAP_LAYOUT:"MAP_LAYOUT:UPDATE_MAP_LAYOUT",updateMapLayout:function(e){return{type:"MAP_LAYOUT:UPDATE_MAP_LAYOUT",layout:e}}}},"./MapStore2/web/client/actions/maptype.js":function(e,t){e.exports={MAP_TYPE_CHANGED:"MAP_TYPE_CHANGED",changeMapType:function(e){return{type:"MAP_TYPE_CHANGED",mapType:e}}}},"./MapStore2/web/client/actions/measurement.js":function(e,t){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o="MEASUREMENT:INIT";function a(e){return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({type:"CHANGE_MEASUREMENT_TOOL"},e)}e.exports={CHANGE_MEASUREMENT_TOOL:"CHANGE_MEASUREMENT_TOOL",CHANGE_MEASUREMENT_STATE:"CHANGE_MEASUREMENT_STATE",changeUom:function(e,t,r){return{type:"MEASUREMENT:CHANGE_UOM",uom:e,value:t,previousUom:r}},CHANGE_UOM:"MEASUREMENT:CHANGE_UOM",changeGeometry:function(e){return{type:"MEASUREMENT:CHANGED_GEOMETRY",features:e}},CHANGED_GEOMETRY:"MEASUREMENT:CHANGED_GEOMETRY",setTextLabels:function(e){return{type:"MEASUREMENT:SET_TEXT_LABELS",textLabels:e}},SET_TEXT_LABELS:"MEASUREMENT:SET_TEXT_LABELS",setCurrentFeature:function(e){return{type:"MEASUREMENT:SET_CURRENT_FEATURE",featureIndex:e}},SET_CURRENT_FEATURE:"MEASUREMENT:SET_CURRENT_FEATURE",addAsLayer:function(e,t,r){return{type:"MEASUREMENT:ADD_AS_LAYER",features:e,textLabels:t,uom:r}},ADD_AS_LAYER:"MEASUREMENT:ADD_AS_LAYER",changeFormatMeasurement:function(e){return{type:"MEASUREMENT:CHANGE_FORMAT",format:e}},CHANGE_FORMAT:"MEASUREMENT:CHANGE_FORMAT",updateMeasures:function(e){return{type:"MEASUREMENT:UPDATE_MEASURES",measures:e}},UPDATE_MEASURES:"MEASUREMENT:UPDATE_MEASURES",changeCoordinates:function(e){return{type:"MEASUREMENT:CHANGE_COORDINATES",coordinates:e}},CHANGE_COORDINATES:"MEASUREMENT:CHANGE_COORDINATES",resetGeometry:function(){return{type:"MEASUREMENT:RESET_GEOMETRY"}},RESET_GEOMETRY:"MEASUREMENT:RESET_GEOMETRY",addAnnotation:function(e,t,r){return{type:"MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",features:e,textLabels:t,uom:r}},ADD_MEASURE_AS_ANNOTATION:"MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:o,defaultOptions:e}},INIT:o,changeMeasurement:function(e){return function(t){t(a(e))}},toggleMeasurement:a,changeMeasurementState:function(e){return{type:"CHANGE_MEASUREMENT_STATE",pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}}},"./MapStore2/web/client/actions/playback.js":function(e,t){var r="PLAYBACK:START",n="PLAYBACK:STOP";e.exports={play:function(){return{type:r}},stop:function(){return{type:n}},pause:function(){return{type:"PLAYBACK:PAUSE"}},setFrames:function(e){return{type:"PLAYBACK:SET_FRAMES",frames:e}},appendFrames:function(e){return{type:"PLAYBACK:APPEND_FRAMES",frames:e}},framesLoading:function(e){return{type:"PLAYBACK:FRAMES_LOADING",loading:e}},setCurrentFrame:function(e){return{type:"PLAYBACK:SET_CURRENT_FRAME",frame:e}},selectPlaybackRange:function(e){return{type:"PLAYBACK:SELECT_PLAYBACK_RANGE",range:e}},changeSetting:function(e,t){return{type:"PLAYBACK:SETTINGS_CHANGE",name:e,value:t}},toggleAnimationMode:function(){return{type:"PLAYBACK:TOGGLE_ANIMATION_MODE"}},animationStepMove:function(e){return{type:"PLAYBACK:ANIMATION_STEP_MOVE",direction:e}},updateMetadata:function(e){var t=e.next,r=e.previous;return{type:"PLAYBACK:UPDATE_METADATA",forTime:e.forTime,next:t,previous:r}},PLAY:r,PAUSE:"PLAYBACK:PAUSE",STOP:n,STATUS:{PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},SET_FRAMES:"PLAYBACK:SET_FRAMES",APPEND_FRAMES:"PLAYBACK:APPEND_FRAMES",FRAMES_LOADING:"PLAYBACK:FRAMES_LOADING",SET_CURRENT_FRAME:"PLAYBACK:SET_CURRENT_FRAME",SELECT_PLAYBACK_RANGE:"PLAYBACK:SELECT_PLAYBACK_RANGE",CHANGE_SETTING:"PLAYBACK:SETTINGS_CHANGE",TOGGLE_ANIMATION_MODE:"PLAYBACK:TOGGLE_ANIMATION_MODE",ANIMATION_STEP_MOVE:"PLAYBACK:ANIMATION_STEP_MOVE",UPDATE_METADATA:"PLAYBACK:UPDATE_METADATA"}},"./MapStore2/web/client/actions/search.js":function(e,t,r){"use strict";r.r(t),r.d(t,"SEARCH_LAYER_WITH_FILTER",(function(){return o})),r.d(t,"TEXT_SEARCH_STARTED",(function(){return a})),r.d(t,"TEXT_SEARCH_RESULTS_LOADED",(function(){return i})),r.d(t,"TEXT_SEARCH_PERFORMED",(function(){return s})),r.d(t,"TEXT_SEARCH_RESULTS_PURGE",(function(){return l})),r.d(t,"TEXT_SEARCH_RESET",(function(){return c})),r.d(t,"TEXT_SEARCH_ADD_MARKER",(function(){return u})),r.d(t,"TEXT_SEARCH_TEXT_CHANGE",(function(){return p})),r.d(t,"TEXT_SEARCH_LOADING",(function(){return f})),r.d(t,"TEXT_SEARCH_NESTED_SERVICES_SELECTED",(function(){return d})),r.d(t,"TEXT_SEARCH_ERROR",(function(){return m})),r.d(t,"TEXT_SEARCH_CANCEL_ITEM",(function(){return y})),r.d(t,"TEXT_SEARCH_ITEM_SELECTED",(function(){return b})),r.d(t,"TEXT_SEARCH_SHOW_GFI",(function(){return g})),r.d(t,"TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",(function(){return h})),r.d(t,"UPDATE_RESULTS_STYLE",(function(){return v})),r.d(t,"CHANGE_SEARCH_TOOL",(function(){return S})),r.d(t,"ZOOM_ADD_POINT",(function(){return O})),r.d(t,"CHANGE_FORMAT",(function(){return w})),r.d(t,"CHANGE_COORD",(function(){return E})),r.d(t,"changeFormat",(function(){return j})),r.d(t,"searchLayerWithFilter",(function(){return T})),r.d(t,"zoomAndAddPoint",(function(){return A})),r.d(t,"changeActiveSearchTool",(function(){return _})),r.d(t,"searchResultLoaded",(function(){return x})),r.d(t,"searchTextChanged",(function(){return M})),r.d(t,"searchTextLoading",(function(){return P})),r.d(t,"searchResultError",(function(){return C})),r.d(t,"resultsPurge",(function(){return L})),r.d(t,"resetSearch",(function(){return R})),r.d(t,"addMarker",(function(){return I})),r.d(t,"textSearch",(function(){return D})),r.d(t,"selectSearchItem",(function(){return N})),r.d(t,"showGFI",(function(){return k})),r.d(t,"selectNestedService",(function(){return F})),r.d(t,"cancelSelectedItem",(function(){return G})),r.d(t,"setHighlightedFeature",(function(){return U})),r.d(t,"updateResultsStyle",(function(){return B})),r.d(t,"changeCoord",(function(){return H})),r.d(t,"nonQueriableLayerError",(function(){return z})),r.d(t,"serverError",(function(){return V}));var n=r("./MapStore2/web/client/actions/notifications.js"),o="SEARCH:SEARCH_WITH_FILTER",a="TEXT_SEARCH_STARTED",i="TEXT_SEARCH_RESULTS_LOADED",s="TEXT_SEARCH_PERFORMED",l="TEXT_SEARCH_RESULTS_PURGE",c="TEXT_SEARCH_RESET",u="TEXT_SEARCH_ADD_MARKER",p="TEXT_SEARCH_TEXT_CHANGE",f="TEXT_SEARCH_LOADING",d="TEXT_SEARCH_NESTED_SERVICE_SELECTED",m="TEXT_SEARCH_ERROR",y="TEXT_SEARCH_CANCEL_ITEM",b="TEXT_SEARCH_ITEM_SELECTED",g="TEXT_SEARCH_SHOW_GFI",h="TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",v="UPDATE_RESULTS_STYLE",S="CHANGE_SEARCH_TOOL",O="SEARCH:ZOOM_ADD_POINT",w="SEARCH:CHANGE_FORMAT",E="SEARCH:CHANGE_COORD";function j(e){return{type:w,format:e}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,r=e.cql_filter;return{type:o,layer:t,cql_filter:r}}function A(e,t,r){return{type:O,pos:e,zoom:t,crs:r}}function _(e){return{type:S,activeSearchTool:e}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;return{type:i,results:e,append:t,services:r}}function M(e){return{type:p,searchText:e}}function P(e){return{type:f,loading:e}}function C(e){return{type:m,error:e}}function L(){return{type:l}}function R(){return{type:c}}function I(e,t){return{type:u,markerPosition:e,markerLabel:t}}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.services,n=void 0===r?null:r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return{type:a,searchText:e,services:n,maxResults:o}}function N(e,t,r){return{type:b,item:e,mapConfig:t,resultsStyle:r}}var k=function(e){return{type:g,item:e}};function F(e,t,r){return{type:d,searchText:r,services:e,items:t}}function G(e){return{type:y,item:e}}function U(e){return{type:h,highlightedFeature:e}}function B(e){return{type:v,style:e}}function H(e,t){return{type:E,coord:e,val:t}}function z(){return Object(n.error)({title:"Error",position:"tc",message:"search.errors.nonQueriableLayers",autoDismiss:10})}function V(){return Object(n.error)({title:"Error",position:"tc",message:"search.errors.serverError",autoDismiss:10})}},"./MapStore2/web/client/actions/selection.js":function(e,t){e.exports={CHANGE_SELECTION_STATE:"CHANGE_SELECTION_STATE",changeSelectionState:function(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}}},"./MapStore2/web/client/actions/styleeditor.js":function(e,t){e.exports={UPDATE_TEMPORARY_STYLE:"STYLEEDITOR:UPDATE_TEMPORARY_STYLE",UPDATE_STATUS:"STYLEEDITOR:UPDATE_STATUS",TOGGLE_STYLE_EDITOR:"STYLEEDITOR:TOGGLE_STYLE_EDITOR",RESET_STYLE_EDITOR:"STYLEEDITOR:RESET_STYLE_EDITOR",SELECT_STYLE_TEMPLATE:"STYLEEDITOR:SELECT_STYLE_TEMPLATE",CREATE_STYLE:"STYLEEDITOR:CREATE_STYLE",LOADING_STYLE:"STYLEEDITOR:LOADING_STYLE",LOADED_STYLE:"STYLEEDITOR:LOADED_STYLE",ADD_STYLE:"STYLEEDITOR:ADD_STYLE",ERROR_STYLE:"STYLEEDITOR:ERROR_STYLE",UPDATE_STYLE_CODE:"STYLEEDITOR:UPDATE_STYLE_CODE",EDIT_STYLE_CODE:"STYLEEDITOR:EDIT_STYLE_CODE",DELETE_STYLE:"STYLEEDITOR:DELETE_STYLE",INIT_STYLE_SERVICE:"STYLEEDITOR:INIT_STYLE_SERVICE",SET_EDIT_PERMISSION:"STYLEEDITOR:SET_EDIT_PERMISSION",SET_DEFAULT_STYLE:"STYLEEDITOR:SET_DEFAULT_STYLE",UPDATE_EDITOR_METADATA:"STYLEEDITOR:UPDATE_EDITOR_METADATA",updateTemporaryStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.temporaryId,r=e.templateId,n=e.code,o=e.format,a=e.languageVersion,i=e.init;return{type:"STYLEEDITOR:UPDATE_TEMPORARY_STYLE",temporaryId:t,templateId:r,code:n,format:o,init:i,languageVersion:a}},updateStatus:function(e){return{type:"STYLEEDITOR:UPDATE_STATUS",status:e}},toggleStyleEditor:function(e,t){return{type:"STYLEEDITOR:TOGGLE_STYLE_EDITOR",layer:e,enabled:t}},resetStyleEditor:function(){return{type:"STYLEEDITOR:RESET_STYLE_EDITOR"}},selectStyleTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,r=e.templateId,n=e.format,o=e.languageVersion,a=e.init;return{type:"STYLEEDITOR:SELECT_STYLE_TEMPLATE",code:t,templateId:r,format:n,init:a,languageVersion:o}},createStyle:function(e){return{type:"STYLEEDITOR:CREATE_STYLE",settings:e}},loadingStyle:function(e){return{type:"STYLEEDITOR:LOADING_STYLE",status:e}},loadedStyle:function(){return{type:"STYLEEDITOR:LOADED_STYLE"}},addStyle:function(e){return{type:"STYLEEDITOR:ADD_STYLE",add:e}},errorStyle:function(e,t){return{type:"STYLEEDITOR:ERROR_STYLE",status:e,error:t}},updateStyleCode:function(){return{type:"STYLEEDITOR:UPDATE_STYLE_CODE"}},editStyleCode:function(e){return{type:"STYLEEDITOR:EDIT_STYLE_CODE",code:e}},deleteStyle:function(e){return{type:"STYLEEDITOR:DELETE_STYLE",styleName:e}},initStyleService:function(e,t){return{type:"STYLEEDITOR:INIT_STYLE_SERVICE",service:e,canEdit:t}},setEditPermissionStyleEditor:function(e){return{type:"STYLEEDITOR:SET_EDIT_PERMISSION",canEdit:e}},setDefaultStyle:function(){return{type:"STYLEEDITOR:SET_DEFAULT_STYLE"}},updateEditorMetadata:function(e){return{type:"STYLEEDITOR:UPDATE_EDITOR_METADATA",metadata:e}}}},"./MapStore2/web/client/actions/wfsquery.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r("./MapStore2/web/client/libs/ajax.js");function a(e,t){return{type:"FEATURE_LOADED",typeName:e,feature:t}}function i(e,t){return{type:"FEATURE_ERROR",typeName:e,error:t}}e.exports={LAYER_SELECTED_FOR_SEARCH:"LAYER_SELECTED_FOR_SEARCH",layerSelectedForSearch:function(e){return{type:"LAYER_SELECTED_FOR_SEARCH",id:e}},FEATURE_TYPE_SELECTED:"FEATURE_TYPE_SELECTED",featureTypeSelected:function(e,t){return{type:"FEATURE_TYPE_SELECTED",url:e,typeName:t}},FEATURE_TYPE_LOADED:"FEATURE_TYPE_LOADED",featureTypeLoaded:function(e,t){return{type:"FEATURE_TYPE_LOADED",typeName:e,featureType:t}},FEATURE_TYPE_ERROR:"FEATURE_TYPE_ERROR",featureTypeError:function(e,t){return{type:"FEATURE_TYPE_ERROR",typeName:e,error:t}},FEATURE_ERROR:"FEATURE_ERROR",featureError:i,QUERY_CREATE:"QUERY_CREATE",createQuery:function(e,t){return{type:"QUERY_CREATE",searchUrl:e,filterObj:t}},QUERY_RESULT:"QUERY_RESULT",querySearchResponse:function(e,t,r,n,o){return{type:"QUERY_RESULT",searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}},QUERY_ERROR:"QUERY_ERROR",queryError:function(e){return{type:"QUERY_ERROR",error:e}},RESET_QUERY:"RESET_QUERY",resetQuery:function(){return{type:"RESET_QUERY"}},QUERY:"QUERY",query:function(e,t,r,n){return{type:"QUERY",searchUrl:e,filterObj:t,queryOptions:r,reason:n}},UPDATE_QUERY:"QUERY:UPDATE_QUERY",updateQuery:function(e,t){return{type:"QUERY:UPDATE_QUERY",updates:e,reason:t}},FEATURE_LOADING:"FEATURE_LOADING",featureLoading:function(e){return{type:"FEATURE_LOADING",isLoading:e}},FEATURE_LOADED:"FEATURE_LOADED",featureLoaded:a,INIT_QUERY_PANEL:"INIT_QUERY_PANEL",initQueryPanel:function(){return{type:"INIT_QUERY_PANEL"}},loadFeature:function(e,t){return function(r){return o.get(e+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t+"&outputFormat=application/json").then((function(e){if("object"===n(e.data))r(a(t,e.data));else try{JSON.parse(e.data)}catch(e){r(i(t,"Error from WFS: "+e.message))}})).catch((function(e){r(i(t,e))}))}},TOGGLE_SYNC_WMS:"QUERY:TOGGLE_SYNC_WMS",toggleSyncWms:function(){return{type:"QUERY:TOGGLE_SYNC_WMS"}},TOGGLE_LAYER_FILTER:"QUERY:TOGGLE_LAYER_FILTER",toggleLayerFilter:function(){return{type:"QUERY:TOGGLE_LAYER_FILTER"}}}},"./MapStore2/web/client/api/CSW.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./node_modules/url/url.js"),i=r("./MapStore2/web/client/utils/ConfigUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./node_modules/object-assign/index.js"),c=function(e){var t=a.parse(e,!0);return a.format(l({},t,{search:null},{query:l({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},u={parseUrl:c,getRecordById:function(e){return new Promise((function(t){Promise.all([r.e(0),r.e(14)]).then(function(){t(n.get(e).then((function(e){if(e){var t=r("./MapStore2/web/client/utils/ogc/CSW.js").unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var n=t.value.abstractRecord[0].value.dcElement;if(n){for(var o={references:[]},a=0;a<n.length;a++){var s=n[a],l=s.name.localPart,c={};if("references"===l&&s.value)c={value:s.value.content&&i.cleanDuplicatedQuestionMarks(s.value.content[0])||s.value.content||s.value,scheme:s.value.scheme};else c=s.value.content&&s.value.content[0]||s.value.content||s.value;o[l]&&Array.isArray(o[l])?o[l].push(c):o[l]?o[l]=[o[l],c]:o[l]=c}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,r)).catch(r.oe)}))},getRecords:function(e,t,a,l){return new Promise((function(u){Promise.all([r.e(0),r.e(3)]).then(function(){var p=r("./MapStore2/web/client/utils/ogc/CSW.js"),f=p.CSW,d=p.marshaller,m=p.unmarshaller,y=d.marshalString({name:"csw:GetRecords",value:f.getRecords(t,a,l)});u(n.post(c(e),y,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=m.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var r=t.value,n=r.searchResults.abstractRecord||r.searchResults.any,a={numberOfRecordsMatched:r.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:r.searchResults.numberOfRecordsReturned,nextRecord:r.searchResults.nextRecord},l=[];if(n)for(var c=0;c<n.length;c++){var u=n[c].value,p={dateStamp:u.dateStamp&&u.dateStamp.date,fileIdentifier:u.fileIdentifier&&u.fileIdentifier.characterString&&u.fileIdentifier.characterString.value,identificationInfo:u.abstractMDIdentification&&u.abstractMDIdentification.value};if(u.boundingBox){var f=void 0,d=void 0,y=void 0;if((y=Array.isArray(u.boundingBox)?o.head(u.boundingBox):u.boundingBox)&&y.value){var b,g,h,v,S=null!==(b=null===(g=y.value)||void 0===g?void 0:g.crs)&&void 0!==b?b:"",O=null===(h=S.match(/[\w-]*:[\w-]*:[\w-]*:[\w-]*:[\w-]*:[^:]*:(([\w-]+\s[\w-]+)|[\w-]*)/))||void 0===h?void 0:h[0],w=s.makeNumericEPSG(null===(v=S.match(/EPSG:[0-9]+/))||void 0===v?void 0:v[0]),E=y.value.lowerCorner,j=y.value.upperCorner,T=w||s.extractCrsFromURN(O)||o.last(S.split(":"));if(T){if("EPSG:"===T.slice(0,5)){if(!(d=s.makeNumericEPSG(T)))throw new Error('No suitable EPSG numeric conversion found for "'.concat(T,'"'))}else if(!(d=s.makeNumericEPSG("EPSG:".concat(T))))throw new Error('No suitable EPSG numeric conversion found for "'.concat(T,'"'))}else d="EPSG:4326";"EPSG:4326"===d&&"CRS84"!==T&&"OGC:CRS84"!==T&&(E=[E[1],E[0]],j=[j[1],j[0]]),f=s.makeBboxFromOWS(E,j)}p.boundingBox={extent:f,crs:d}}var A=u.dcElement;if(A){for(var _={references:[]},x=0;x<A.length;x++){var M=A[x],P=M.name.localPart,C={};if("references"===P&&M.value)C={value:M.value.content&&i.cleanDuplicatedQuestionMarks(M.value.content[0])||M.value.content||M.value,scheme:M.value.scheme};else C=M.value.content&&M.value.content[0]||M.value.content||M.value;_[P]&&Array.isArray(_[P])?_[P].push(C):_[P]?_[P]=[_[P],C]:_[P]=C}p.dc=_}l.push(p)}return a.records=l,a}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,r)).catch(r.oe)}))},textSearch:function(e,t,n,o){return new Promise((function(a){Promise.all([r.e(0),r.e(3)]).then(function(){var i=r("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,s=null;if(o){var l=i.propertyIsLike("csw:AnyText","%"+o+"%");s=i.filter(l)}a(u.getRecords(e,t,n,s))}.bind(null,r)).catch(r.oe)}))},workspaceSearch:function(e,t,n,o,a){return new Promise((function(i){Promise.all([r.e(0),r.e(3)]).then(function(){var s=r("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,l=a||"%",c=o&&"%"+o+"%"||"%",p=s.propertyIsLike("identifier",l+":"+c),f=s.filter(p);i(u.getRecords(e,t,n,f))}.bind(null,r)).catch(r.oe)}))},reset:function(){}};e.exports=u},"./MapStore2/web/client/api/Nominatim.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./node_modules/url/url.js"),a=r("./node_modules/object-assign/index.js"),i={format:"json",bounded:0,polygon_geojson:1,priority:5},s={geocode:function(e,t){var r=a({q:e},i,t||{}),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return n.get(s)},reverseGeocode:function(e,t){var r=a({lat:e.lat,lon:e.lng},t||{},i),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return n.get(s)}};e.exports=s},"./MapStore2/web/client/api/WMTS.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./MapStore2/web/client/utils/ConfigUtils.js"),a=r("./node_modules/url/url.js"),i=r("./node_modules/object-assign/index.js"),s=r("./node_modules/xml2js/lib/xml2js.js"),l={},c=r("./MapStore2/node_modules/lodash/lodash.js").castArray,u=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),p=r("./MapStore2/web/client/utils/WMTSUtils.js"),f=p.getOperations,d=p.getOperation,m=p.getRequestEncoding,y=p.getDefaultStyleIdentifier,b=p.getDefaultFormat,g=function(e){var t=a.parse(e,!0);return a.format(i({},t,{search:null},{query:i({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},h=function(e,t,r,n,o){for(var a=e.Capabilities.Contents,s=f(e),l=m(e),p=a.TileMatrixSet&&c(a.TileMatrixSet)||[],g=[],h=p.length,v=0;v<h;v++)g.push(u.getEPSGCode(p[v]["ows:SupportedCRS"]));var S=a.Layer,O=c(S).filter((function(e){return!n||-1!==e["ows:Identifier"].toLowerCase().indexOf(n.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(n.toLowerCase())}));return{numberOfRecordsMatched:O.length,numberOfRecordsReturned:Math.min(r,O.length),nextRecord:t+Math.min(r,O.length)+1,records:O.filter((function(e,n){return n>=t-1&&n<t-1+r})).map((function(e){return i({},e,{SRS:g,TileMatrixSet:p,queryable:!!d(s,"GetFeatureInfo","KVP"),requestEncoding:l,style:y(e),format:b(e),GetTileURL:d(s,"GetTile",l),capabilitiesURL:o})}))}},v={parseUrl:g,getRecords:function(e,t,r,a){var i=l[e];return i&&(new Date).getTime()<i.timestamp+1e3*(o.getConfigProp("cacheExpire")||60)?new Promise((function(n){n(h(i.data,t,r,a,e))})):n.get(g(e)).then((function(n){var o;return s.parseString(n.data,{explicitArray:!1},(function(e,t){o=t})),l[e]={timestamp:(new Date).getTime(),data:o},h(o,t,r,a,e)}))},getCapabilities:function(e){var t=l[e];return t&&(new Date).getTime()<t.timestamp+1e3*(o.getConfigProp("cacheExpire")||60)?new Promise((function(e){e(t.data)})):n.get(g(e)).then((function(t){var r;return s.parseString(t.data,{explicitArray:!1},(function(e,t){r=t})),l[e]={timestamp:(new Date).getTime(),data:r},r}))},textSearch:function(e,t,r,n){return v.getRecords(e,t,r,n)},reset:function(){Object.keys(l).forEach((function(e){delete l[e]}))}};e.exports=v},"./MapStore2/web/client/api/identify.jsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./node_modules/rxjs/Rx.js"),a=r("./MapStore2/web/client/utils/MapInfoUtils.js"),i=r.n(a),s=r("./MapStore2/web/client/libs/ajax.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/CoordinatesUtils.js");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.attachJSON,p=a.itemId,f=void 0===p?null:p,m=function(t){return o.Observable.defer((function(){return l.a.get(e,{params:t})}))},y=function(t){return i.a.getIdentifyFlow(r,e,t)},b=i.a.getIdentifyFlow(r,e,t)?y:m;return s&&"application/json"!==t.info_format&&"application/json"!==t.outputFormat?o.Observable.forkJoin(b(t),b(d(d({},t),{},{info_format:"application/json"})).map((function(e){return e.data})).catch((function(){return o.Observable.of({})}))).map((function(e){var t=u(e,2),r=t[0],o=t[1];return d(d({},r),{},{features:o&&o.features&&o.features.filter((function(e){return!!Object(n.isNil)(f)||e.id===f})),featuresCrs:o&&o.crs&&Object(c.parseURN)(o.crs)})})):b(t).map((function(e){return e.data})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:Object(n.isString)(e)?e:d(d({},e),{},{features:e.features&&e.features.filter((function(e){return!f||e.id===f}))}),features:e.features&&e.features.filter((function(e){return!f||e.id===f})),featuresCrs:e&&e.crs&&Object(c.parseURN)(e.crs)}}))}},"./MapStore2/web/client/api/mapBackground.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js").get,o=r("./MapStore2/web/client/utils/ConfigUtils.js"),a=function(e,t,r,a){var i=n(o.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!a||e.title.indexOf(a)>-1})),s=i.filter((function(e,n){return n>=t-1&&n<r+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:i.length,numberOfRecordsReturned:s.length,records:s,service:{Name:"Background Provider"}})}))};e.exports={getRecords:a,reset:function(){},textSearch:function(e,t,r,n){return a(0,t,r,n)}}},"./MapStore2/web/client/components/I18N/HTML.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),d=r("./node_modules/react-intl/lib/index.es.js").FormattedHTMLMessage,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return this.context.intl?f.createElement(d,{id:this.props.msgId,values:this.props.msgParams}):f.createElement("span",null,this.props.msgId||"")}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);u(m,"propTypes",{msgId:p.string.isRequired,msgParams:p.object}),u(m,"contextTypes",{intl:p.object}),e.exports=m},"./MapStore2/web/client/components/I18N/Message.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./node_modules/react-intl/lib/index.es.js").FormattedMessage,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderFormattedMsg",(function(e){var t=e.msgId,r=e.msgParams,n=e.children;return n&&"function"==typeof n?d.createElement(m,{id:t,values:r},(function(e){return n(e)})):d.createElement(m,{id:t,values:r})})),p(c(e),"renderMsg",(function(e){var t=e.msgId,r=e.children;return r&&"function"==typeof r?r(t):d.createElement("span",null,t||"")})),e}return t=u,(r=[{key:"render",value:function(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(y,"propTypes",{msgId:f.string.isRequired,msgParams:f.object}),p(y,"contextTypes",{intl:f.object}),e.exports=y},"./MapStore2/web/client/components/I18N/Number.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").isNil,y=r("./node_modules/react-intl/lib/index.es.js").FormattedNumber,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return a(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return this.context.intl?d.createElement(y,o({value:this.props.value},this.props.numberParams)):d.createElement("span",null,!m(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(b,"propTypes",{value:f.oneOfType([f.object,f.number]),numberParams:f.object}),p(b,"contextTypes",{intl:f.object}),e.exports=b},"./MapStore2/web/client/components/I18N/enhancers/addI18NProps.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react-intl/lib/index.es.js").injectIntl,s=r("./node_modules/prop-types/index.js"),l=r("./MapStore2/node_modules/lodash/lodash.js").omit,c=r("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.branch,f=c.getContext,d=c.withProps,m=c.withPropsOnChange,y=c.mapProps,b=function(e){return y((function(t){return l(t,e)}))},g={locale:navigator&&navigator.language,formats:{},messages:{},defaultLocale:"en",defaultFormats:{},formatDate:function(e){return e},formatTime:function(e){return e},formatRelative:function(e){return e},formatNumber:function(e){return e},formatPlural:function(e){return e},formatMessage:function(e){return e},formatHTMLMessage:function(e){return e},now:function(){return new Date}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(f({intl:s.object}),p((function(e){return!!e.intl}),i,d({intl:g})),m(["intl"],(function(t){var r=t.intl,n=void 0===r?{}:r;return e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return o(o({},e),{},a({},t,n[t]))}),{})})),b(["intl"]))}},"./MapStore2/web/client/components/background/BackgroundDialog.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return k}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/prop-types/index.js"),i=r.n(a),s=r("./node_modules/react-select/dist/react-select.es.js"),l=r("./node_modules/object-assign/index.js"),c=r.n(l),u=r("./node_modules/uuid/v1.js"),p=r.n(u),f=r("./MapStore2/node_modules/lodash/lodash.js"),d=r("./MapStore2/web/client/components/I18N/Message.jsx"),m=r.n(d),y=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),b=r.n(y),g=r("./node_modules/react-bootstrap/es/index.js"),h=r("./MapStore2/web/client/components/maps/forms/Thumbnail.jsx"),v=r.n(h),S=r("./MapStore2/web/client/utils/LocaleUtils.js"),O=r.n(S),w=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var o=I(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return L(this,r)}}function L(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N=r.n(w)()(g.Button),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,e);var t,r,n,a=C(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),D(R(t=a.call(this,e)),"state",{title:"",format:"image/png",thumbnail:{},additionalParameters:[]}),D(R(t),"assignParameters",(function(e){return Object(f.keys)(e).map((function(t,r){var n=e[t],o=Object(f.isNumber)(n)?"number":Object(f.isBoolean)(n)?"boolean":"string";return{id:r,param:t,type:o,val:"string"===o?n.toString():n}}))})),D(R(t),"addAdditionalParameter",(function(e,r,n,o){t.setState({additionalParameters:t.state.additionalParameters.map((function(t){if(t.id===n){var a,i;if("val"===r)switch(o){case"number":(i=Number(e))&&!isNaN(i)||(i=0);break;case"boolean":i=!Object(f.isBoolean)(e)||e;break;default:i=e?e.toString():""}else i=e;return c()({},t,(D(a={},r,i),D(a,"type",o),a))}return t}))})})),D(R(t),"resetParameters",(function(){return t.setState({additionalParameters:[]})}));var r=Object(f.pick)(t.props,"title","format","style","thumbnail"),n=c()({},r,{additionalParameters:t.assignParameters(t.props.additionalParameters)});return t.state=n,t}return t=i,(r=[{key:"renderStyleSelector",value:function(){var e=this;return this.props.capabilities?o.a.createElement(g.FormGroup,null,o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.style"})),o.a.createElement(s.default,{onChange:function(t){return e.setState({style:t?t.value:void 0})},clearable:!0,value:this.state.style,options:(this.props.capabilities.availableStyles||[]).map((function(e){var t=e.name;return{label:t,value:t}}))})):null}},{key:"renderThumbnailErrors",value:function(){var e={FORMAT:o.a.createElement(m.a,{msgId:"map.errorFormat"}),SIZE:o.a.createElement(m.a,{msgId:"map.errorSize"})};return this.state.thumbnailErrors&&this.state.thumbnailErrors.length>0?o.a.createElement("div",{className:"dropzone-errorBox alert-danger"},o.a.createElement("p",null,o.a.createElement(m.a,{msgId:"map.error"})),this.state.thumbnailErrors.map((function(t){return o.a.createElement("div",{id:"error"+t,key:"error"+t,className:"error"+t},e[t])}))):null}},{key:"renderSpecificTypeForm",value:function(){var e=this;return"wms"===this.props.layer.type?o.a.createElement(o.a.Fragment,null,o.a.createElement(g.FormGroup,{controlId:"formControlsSelect"},o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.format"})),o.a.createElement(s.default,{onChange:function(t){return e.setState({format:t&&t.value})},value:this.state.format||this.props.defaultFormat,clearable:!0,options:this.props.formatOptions})),this.renderStyleSelector(),o.a.createElement(N,null,o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(g.ControlLabel,{style:{flex:1}},o.a.createElement(m.a,{msgId:"backgroundDialog.additionalParameters"})),o.a.createElement(N,{className:"square-button-md",tooltipId:"backgroundDialog.addAdditionalParameterTooltip",style:{borderColor:"transparent"},onClick:function(){var t=Math.max.apply(Math,_(e.state.additionalParameters.length>0?e.state.additionalParameters.map((function(e){return e.id})):[-1]))+1;e.setState({additionalParameters:[].concat(_(e.state.additionalParameters),[{id:t,type:"string",param:"",val:""}])})}},o.a.createElement(g.Glyphicon,{glyph:"plus"}))),this.state.additionalParameters.map((function(t){return o.a.createElement("div",{key:"val:"+t.id,style:{display:"flex",marginTop:8}},o.a.createElement("div",{style:{display:"flex",flex:1,marginRight:8}},o.a.createElement(g.FormControl,{style:{width:"50%",marginRight:8,minWidth:0},placeholder:O.a.getMessageById(e.context.messages,"backgroundDialog.parameter"),value:t.param,onChange:function(r){return e.addAdditionalParameter(r.target.value,"param",t.id,t.type)}}),"boolean"===t.type?o.a.createElement("div",{style:{width:"50%"}},o.a.createElement(s.default,{onChange:function(r){return e.addAdditionalParameter(r.value,"val",t.id,t.type)},clearable:!1,value:t.val,options:e.props.booleanOptions})):o.a.createElement(g.FormControl,{style:{width:"50%",minWidth:0},placeholder:O.a.getMessageById(e.context.messages,"backgroundDialog.value"),value:t.val.toString(),onChange:function(r){return e.addAdditionalParameter(r.target.value,"val",t.id,t.type)}})),o.a.createElement(s.default,{style:{flex:1,width:90},onChange:function(r){return e.addAdditionalParameter(t.val,"val",t.id,r.value)},clearable:!1,value:t.type,options:e.props.parameterTypeOptions.map((function(t){var r=t.label;return T(T({},A(t,["label"])),{},{label:O.a.getMessageById(e.context.messages,r)})}))}),o.a.createElement(N,{onClick:function(){return e.setState({additionalParameters:e.state.additionalParameters.filter((function(e){return t.id!==e.id}))})},tooltipId:"backgroundDialog.removeAdditionalParameterTooltip",className:"square-button-md",style:{borderColor:"transparent"}},o.a.createElement(g.Glyphicon,{glyph:"trash"})))})))):null}},{key:"render",value:function(){var e=this;return o.a.createElement(b.a,{fitContent:!0,title:o.a.createElement(m.a,{msgId:this.props.editing?"backgroundDialog.editTitle":"backgroundDialog.addTitle"}),show:!0,fade:!0,clickOutEnabled:!1,bodyClassName:"ms-flex modal-properties-container background-dialog",loading:this.props.loading,onClose:function(){e.props.onClose(),e.resetParameters()},buttons:this.props.loading?[]:[{text:o.a.createElement(m.a,{msgId:this.props.editing?"save":"backgroundDialog.add"}),bsStyle:"primary",onClick:function(){var t=e.props.editing?e.props.layer.id:p()(),r=e.props.layer.thumbURL||"",n=e.state.format||e.props.defaultFormat;e.props.updateThumbnail(e.state.thumbnail.data,t),e.props.onSave(c()({},e.props.layer,Object(f.omit)(e.state,"thumbnail"),e.props.editing?{}:{id:t},{params:Object(f.omit)(e.state.additionalParameters.reduce((function(e,t){return c()(e,D({},t.param,t.val))}),{}),["source","title"]),format:n,group:"background"},r||e.state.thumbnail.data?{thumbURL:e.state.thumbnail.url}:{})),e.resetParameters()}}]},o.a.createElement(g.Form,{style:{width:"100%"}},this.renderThumbnailErrors(),o.a.createElement(v.a,{onUpdate:function(t,r){return e.setState({thumbnail:{data:t,url:r}})},onError:function(t){return e.setState({thumbnailErrors:t})},message:o.a.createElement(m.a,{msgId:"backgroundDialog.thumbnailMessage"}),suggestion:"",map:{newThumbnail:Object(f.get)(this.state.thumbnail,"url")||"NODATA"}}),o.a.createElement(g.FormGroup,null,o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.title"})),o.a.createElement(g.FormControl,{value:this.state.title,placeholder:O.a.getMessageById(this.context.messages,"backgroundDialog.titlePlaceholder"),onChange:function(t){return e.setState({title:t.target.value})}})),this.renderSpecificTypeForm()))}}])&&M(t.prototype,r),n&&M(t,n),i}(o.a.Component);D(k,"propTypes",{loading:i.a.bool,editing:i.a.bool,layer:i.a.object,capabilities:i.a.object,onAdd:i.a.func,onClose:i.a.func,source:i.a.string,onSave:i.a.func,addParameters:i.a.func,updateThumbnail:i.a.func,thumbURL:i.a.string,title:i.a.string,format:i.a.string,style:i.a.string,thumbnail:i.a.object,additionalParameters:i.a.object,addParameter:i.a.func,defaultFormat:i.a.string,formatOptions:i.a.array,parameterTypeOptions:i.a.array,booleanOptions:i.a.array}),D(k,"contextTypes",{messages:i.a.object}),D(k,"defaultProps",{updateThumbnail:function(){},onClose:function(){},onSave:function(){},addParameters:function(){},addParameter:function(){},loading:!1,editing:!1,layer:{},capabilities:{},title:"",thumbnail:{},additionalParameters:{},formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}],parameterTypeOptions:[{label:"backgroundDialog.string",value:"string"},{label:"backgroundDialog.number",value:"number"},{label:"backgroundDialog.boolean",value:"boolean"}],booleanOptions:[{label:"True",value:!0},{label:"False",value:!1}]})},"./MapStore2/web/client/components/background/BackgroundSelector.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),m=r("./node_modules/object-assign/index.js"),y=r("./MapStore2/web/client/components/I18N/Message.jsx"),b=r("./MapStore2/web/client/components/background/PreviewButton.jsx"),g=r("./MapStore2/web/client/components/background/PreviewList.jsx"),h=r("./MapStore2/web/client/components/background/PreviewIcon.jsx"),v=r("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),S=r("./MapStore2/web/client/components/background/BackgroundDialog.jsx").default,O=r("./MapStore2/web/client/components/misc/ConfirmDialog.jsx"),w=r("./node_modules/prop-types/index.js"),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=c.call.apply(c,[this].concat(r))),"getThumb",(function(t){return t.thumbURL||e.props.thumbs[t.source]&&e.props.thumbs[t.source][t.name]||e.props.thumbs.unknown})),f(u(e),"getIcons",(function(t,r,n,o){return e.props.enabled?e.props.layers.map((function(a,i){var s=e.getThumb(a);return d.createElement("div",{style:{width:(o?n:0)+(o?0:n)+t+r,height:n+t+r},className:"background-preview-container"},"mobile"!==e.props.mode&&d.createElement("div",{style:{width:(o?n:0)+t+r},className:"background-tool-buttons"},e.props.mapIsEditable&&e.props.allowDeletion&&e.props.layers.length>1&&d.createElement(v,{glyph:"trash",className:"square-button-md background-tool-button delete-button",bsStyle:"primary",onClick:function(){e.props.onRemoveBackground(!0,a.title||a.name||"",a.id)}}),e.props.mapIsEditable&&!e.props.enabledCatalog&&!("wms"!==a.type&&"wmts"!==a.type&&"tms"!==a.type&&"tileprovider"!==a.type)&&d.createElement(v,{glyph:"wrench",className:"square-button-md background-tool-button edit-button",bsStyle:"primary",onClick:function(){e.props.addBackgroundProperties({layer:a,editing:!0})}})),d.createElement(h,{projection:e.props.projection,vertical:o,key:i,src:s,currentLayer:e.props.currentLayer,margin:n,side:t,frame:r,layer:a,onToggle:e.props.onToggle,onPropertiesChange:e.props.onPropertiesChange,onLayerChange:e.props.onLayerChange,setCurrentBackgroundLayer:e.props.setCurrentBackgroundLayer}))})):[]})),f(u(e),"getDimensions",(function(t,r,n,o,a,i){var s=a/2-(t+2*r+2*n)-o,l=t+2*r+2*n+(t+2*r+n)*i+o>a/2,c=Math.floor(s/(t+2*r+n));return c=c>i?i:c,{pagination:l,listSize:e.props.enabled?(t+r+n)*c+52:0,visibleIconsLength:c}})),f(u(e),"renderBackgroundSelector",(function(){var t=m({side:78,sidePreview:104,frame:3,margin:5,label:!0,vertical:!1},e.props.dimensions),r=2*t.frame,n=t.side-r,a=e.props.enabled?t.sidePreview-r:n,i=t.margin,s=e.props.enabled?a-2*r:0,l=e.props.enabled?e.props.tempLayer:e.props.currentLayer,c=e.getIcons(n,r,i,t.vertical),u=e.getDimensions(n,r,i,0,t.vertical?e.props.size.height:e.props.size.width,c.length),p=u.pagination,f=u.listSize,h=u.visibleIconsLength,v=n+r+i,w=n+r+2*i,E=t.vertical?{bottom:w,left:0,width:w,height:f}:{left:a+2*i+r,width:f,height:v},j=t.vertical?{height:v*h,width:v}:{height:v,width:v*h},T=e.props.modalParams&&e.props.modalParams.layer||{},A=(e.props.backgroundList||[]).find((function(e){return e.id===T.id})),_={title:T.title,format:T.format,style:T.style,additionalParameters:T.params,thumbnail:{data:A&&A.thumbnail,url:e.getThumb(T)}},x=e.props.confirmDeleteBackgroundModal||{show:!1},M=x.show,P=x.layerId,C=x.layerTitle;return h<=0&&!e.props.alwaysVisible&&e.props.enabled?null:d.createElement("span",null,d.createElement(O,{draggable:!1,modal:!0,show:M,onClose:function(){return e.props.onRemoveBackground(!1)},onConfirm:function(){e.props.removeBackground(P),e.props.onRemoveBackground(!1)},confirmButtonBSStyle:"default",confirmButtonContent:d.createElement(y,{msgId:"confirm"}),closeText:d.createElement(y,{msgId:"cancel"}),closeGlyph:"1-close"},d.createElement(y,{msgId:"backgroundSelector.confirmDelete",msgParams:{title:C}})),e.props.modalParams&&d.createElement(S,o({onClose:e.props.clearModal,onSave:function(t){e.props.modalParams.editing?(e.props.updateNode(t.id,"layers",t),e.props.onBackgroundEdit(t.id)):(e.props.addLayer(t),e.props.backgroundAdded(t.id))},updateThumbnail:e.props.onUpdateThumbnail},_,e.props.modalParams)),d.createElement("div",{className:"background-plugin-position",style:e.props.style},d.createElement(b,{layers:e.props.layers,showAdd:"mobile"!==e.props.mode&&e.props.mapIsEditable&&e.props.hasCatalog&&!e.props.enabledCatalog,onAdd:function(){return e.props.onAdd(e.props.source||"backgroundSelector")},showLabel:t.label,src:e.getThumb(l),side:a,frame:r,margin:i,labelHeight:s,label:l.title,onToggle:e.props.onToggle}),d.createElement("div",{className:"background-list-container",style:E},d.createElement(g,{vertical:t.vertical,start:e.props.start,bottom:0,height:j.height,width:j.width,icons:c,pagination:p,length:h,onStartChange:e.props.onStartChange}))))})),e}return t=p,(r=[{key:"componentWillUnmount",value:function(){this.props.onLayerChange("currentLayer",{}),this.props.onLayerChange("tempLayer",{}),this.props.onStartChange(0)}},{key:"render",value:function(){return this.props.layers.length>0?this.renderBackgroundSelector():null}}])&&i(t.prototype,r),n&&i(t,n),p}(d.Component);f(E,"propTypes",{mode:w.string,backgroundList:w.array,backgrounds:w.array,start:w.number,style:w.object,enabled:w.bool,layers:w.array,currentLayer:w.object,tempLayer:w.object,size:w.object,dimensions:w.object,thumbs:w.object,mapIsEditable:w.bool,onPropertiesChange:w.func,onToggle:w.func,onLayerChange:w.func,onStartChange:w.func,onAdd:w.func,hasCatalog:w.bool,alwaysVisible:w.bool,enabledCatalog:w.bool,onRemove:w.func,onBackgroundEdit:w.func,source:w.string,addBackgroundProperties:w.func,onUpdateThumbnail:w.func,removeBackground:w.func,onRemoveBackground:w.func,setCurrentBackgroundLayer:w.func,confirmDeleteBackgroundModal:w.object,deletedId:w.string,modalParams:w.object,updateNode:w.func,clearModal:w.func,allowDeletion:w.bool,projection:w.string}),f(E,"defaultProps",{mode:"desktop",addBackgroundProperties:function(){},onBackgroundEdit:function(){},setCurrentBackgroundLayer:function(){},source:"backgroundSelector",start:0,style:{},enabled:!1,layers:[],currentLayer:{},tempLayer:{},size:{width:0,height:0},dimensions:{},allowDeletion:!0,thumbs:{unknown:r("./MapStore2/web/client/components/background/img/default.jpg")},mapIsEditable:!0,onRemoveBackground:function(){},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){},onStartChange:function(){},onAdd:function(){},onRemove:function(){},clearModal:function(){}}),e.exports=E},"./MapStore2/web/client/components/background/PaginationButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,d=r("./node_modules/prop-types/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this.props.glyphs[this.props.vertical?"vertical":"horizontal"][this.props.direction?"next":"back"],t=this.props.vertical?"background-plugin-pagination-btn-vertical text-center":"background-plugin-pagination-btn-horizontal",r=this.props.vertical?{width:this.props.side}:{height:this.props.side};return p.createElement("div",{className:t+" text-primary",style:r,onClick:this.props.onClick},p.createElement(f,{glyph:e}))}}])&&a(t.prototype,r),n&&a(t,n),c}(p.Component);u(m,"propTypes",{side:d.number,direction:d.bool,vertical:d.bool,glyphs:d.object,onClick:d.func}),u(m,"defaultProps",{side:0,direction:!0,vertical:!1,glyphs:{horizontal:{next:"chevron-right",back:"chevron-left"},vertical:{next:"chevron-down",back:"chevron-up"}},onClick:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/PreviewButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),d=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx");r("./MapStore2/web/client/components/background/css/previewbutton.css");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return p.createElement("div",{className:"background-preview-button",style:{margin:this.props.margin}},p.createElement("div",{className:"background-preview-button-container bg-body",onClick:this.props.onToggle,style:{padding:this.props.frame/2,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},this.props.showLabel?p.createElement("div",{className:"background-preview-button-label",style:{width:this.props.side,height:this.props.labelHeight,marginTop:0,padding:0}},p.createElement("div",{className:"bg-body bg-text",style:{padding:this.props.frame}},this.props.label)):null,p.createElement("div",{className:"background-preview-button-frame",style:{width:this.props.side,height:this.props.side}},p.createElement("img",{src:this.props.src}))),this.props.labelHeight>0?p.createElement(d,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.showAdd?[{glyph:"plus",tooltipId:"backgroundSelector.addTooltip",onClick:function(){return e.props.onAdd()}}]:[]}):null)}}])&&a(t.prototype,r),n&&a(t,n),c}(p.Component);u(m,"propTypes",{src:f.string,side:f.number,frame:f.number,margin:f.number,labelHeight:f.number,label:f.string,showLabel:f.bool,onToggle:f.func,onAdd:f.func,showAdd:f.bool}),u(m,"defaultProps",{src:"./images/mapthumbs/none.jpg",side:50,frame:4,margin:5,labelHeight:29,label:"",showLabel:!0,onToggle:function(){},onAdd:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/PreviewIcon.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),d=r("./MapStore2/node_modules/lodash/lodash.js"),m=d.indexOf,y=d.has;r("./MapStore2/web/client/components/background/css/previewicon.css");var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this,t=m(["EPSG:4326","EPSG:3857","EPSG:900913"],this.props.projection)>-1,r="wmts"===this.props.layer.type&&y(this.props.layer.allowedSRS,this.props.projection),n=this.props.vertical?"background-preview-icon-container-vertical":"background-preview-icon-container-horizontal",o=this.props.layer.visibility?" bg-primary":" bg-body",a=(t||r||"wms"===this.props.layer.type||"empty"===this.props.layer.type)&&!this.props.layer.invalid,i=a?function(){e.props.onToggle(),e.props.onPropertiesChange(e.props.layer.id,{visibility:!0}),e.props.setCurrentBackgroundLayer(e.props.layer.id)}:function(){};return p.createElement("div",{className:n+o+(a?"":" disabled-icon"),style:{padding:this.props.frame/2,marginLeft:this.props.vertical?this.props.margin:0,marginRight:this.props.vertical?0:this.props.margin,marginBottom:this.props.margin,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},p.createElement("div",{className:"background-preview-icon-frame",style:{width:this.props.side,height:this.props.side}},p.createElement("img",{onMouseOver:function(){e.props.onLayerChange("tempLayer",e.props.layer)},onMouseOut:function(){e.props.onLayerChange("tempLayer",e.props.currentLayer)},onClick:i,src:this.props.src})))}}])&&a(t.prototype,r),n&&a(t,n),c}(p.Component);u(b,"propTypes",{side:f.number,frame:f.number,margin:f.number,src:f.string,vertical:f.bool,layer:f.object,currentLayer:f.object,onPropertiesChange:f.func,onToggle:f.func,onLayerChange:f.func,setCurrentBackgroundLayer:f.func,projection:f.string}),u(b,"defaultProps",{side:50,frame:4,margin:5,src:"",vertical:!1,layer:{},currentLayer:{},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){}}),e.exports=b},"./MapStore2/web/client/components/background/PreviewList.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./MapStore2/web/client/components/background/PaginationButton.jsx"),d=r("./node_modules/prop-types/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this,t=[].concat(this.props.icons);t=this.props.pagination?t.slice(this.props.start,this.props.start+this.props.length):t,this.props.vertical&&t.unshift(p.createElement("div",{className:"background-list-arrow-placeholder"})),this.props.pagination&&(0!==this.props.start&&(this.props.vertical&&t.shift(),t.unshift(p.createElement(f,{key:"pagination_0",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,direction:!1,onClick:function(){e.props.onStartChange(e.props.start-1)}}))),this.props.start+this.props.length<this.props.icons.length&&t.push(p.createElement(f,{key:"pagination_1",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,onClick:function(){e.props.onStartChange(e.props.start+1)}})));var r=this.props.vertical?{height:this.props.pagination?this.props.height+50:this.props.height,width:this.props.width,bottom:this.props.bottom}:{height:this.props.height,width:this.props.pagination?this.props.width+50:this.props.width,bottom:this.props.bottom};return p.createElement("div",{style:r},t)}}])&&a(t.prototype,r),n&&a(t,n),c}(p.Component);u(m,"propTypes",{bottom:d.number,width:d.number,height:d.number,length:d.number,start:d.number,pagination:d.bool,vertical:d.bool,icons:d.array,onStartChange:d.func}),u(m,"defaultProps",{bottom:0,width:0,height:0,length:0,start:0,pagination:!1,vertical:!1,icons:[],onStartChange:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/background/img/default.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/components/background/img/default.jpg"},"./MapStore2/web/client/components/buttons/FullScreenButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./MapStore2/web/client/components/buttons/ToggleButton.jsx"),b=r("./node_modules/react-bootstrap/es/index.js").Tooltip,g=r("./MapStore2/web/client/components/I18N/Message.jsx"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=c.call.apply(c,[this].concat(r))),"getButtonProperties",(function(){return["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce((function(t,r){return t[r]=e.props[r],t}),{})})),e}return t=p,(r=[{key:"render",value:function(){return m.createElement(y,o({},this.getButtonProperties(),{pressed:this.props.active,tooltip:m.createElement(b,{id:"full-screen-button-tip"},m.createElement(g,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}])&&i(t.prototype,r),n&&i(t,n),p}(m.Component);f(h,"propTypes",{id:d.string,btnConfig:d.object,options:d.object,text:d.oneOfType([d.string,d.element]),help:d.oneOfType([d.string,d.element]),glyphicon:d.string,active:d.bool,onClick:d.func,activeTooltip:d.string,notActiveTooltip:d.string,tooltipPlace:d.string,style:d.object,btnType:d.oneOf(["normal","image"]),image:d.string,pressedStyle:d.string,defaultStyle:d.string}),f(h,"defaultProps",{id:"fullscreen-btn",activeTooltip:"fullscreen.tooltipDeactivate",notActiveTooltip:"fullscreen.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"1-full-screen",btnConfig:{className:"square-button"}}),e.exports=h},"./MapStore2/web/client/components/buttons/ImageButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./node_modules/object-assign/index.js"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getStyle",(function(){var t={cursor:e.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return e.props.image?m(t,{overflow:"hidden"}):m(t,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),m(t,e.props.style),t})),e}return t=u,(r=[{key:"render",value:function(){return d.createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(y,"propTypes",{id:f.string,image:f.string,onClick:f.func,style:f.object,disabled:f.bool,tooltip:f.string,className:f.string}),p(y,"defaultProps",{disabled:!1,tooltip:null,className:void 0}),e.exports=y},"./MapStore2/web/client/components/buttons/ToggleButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Button,g=y.Glyphicon,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=r("./MapStore2/web/client/components/buttons/ImageButton.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=c.call.apply(c,[this].concat(r))),"onClick",(function(){e.props.onClick(!e.props.pressed,e.props.options)})),f(u(e),"renderNormalButton",(function(){return d.createElement(b,o({id:e.props.id},e.props.btnConfig,{onClick:e.onClick,bsStyle:e.props.pressed?e.props.pressedStyle:e.props.defaultStyle,style:e.props.style}),e.props.glyphicon?d.createElement(g,{glyph:e.props.glyphicon}):null,e.props.glyphicon&&e.props.text&&!d.isValidElement(e.props.text)?" ":null,e.props.text,e.props.help)})),f(u(e),"renderImageButton",(function(){return d.createElement(v,{id:e.props.id,image:e.props.image,onClick:e.onClick,style:e.props.style})})),f(u(e),"addTooltip",(function(t){return d.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:e.props.tooltip},t)})),e}return t=p,(r=[{key:"render",value:function(){var e="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(e):e}}])&&i(t.prototype,r),n&&i(t,n),p}(d.Component);f(S,"propTypes",{id:m.string,btnConfig:m.object,options:m.object,text:m.oneOfType([m.string,m.element]),help:m.oneOfType([m.string,m.element]),glyphicon:m.string,pressed:m.bool,onClick:m.func,tooltip:m.element,tooltipPlace:m.string,style:m.object,btnType:m.oneOf(["normal","image"]),image:m.string,pressedStyle:m.string,defaultStyle:m.string}),f(S,"defaultProps",{onClick:function(){},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"}),e.exports=S},"./MapStore2/web/client/components/buttons/ZoomButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Button,b=m.Glyphicon,g=m.Tooltip,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"addTooltip",(function(t){if(!e.props.tooltip)return t;var r=d.createElement(g,{id:"locate-tooltip"},e.props.tooltip);return d.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:r},t)})),e}return t=u,(r=[{key:"render",value:function(){var e=this;return this.addTooltip(d.createElement(y,{id:this.props.id,style:this.props.style,onClick:function(){return e.props.onZoom(e.props.currentZoom+e.props.step)},className:this.props.className,disabled:this.props.currentZoom+this.props.step>this.props.maxZoom||this.props.currentZoom+this.props.step<this.props.minZoom,bsStyle:this.props.bsStyle},this.props.glyphicon?d.createElement(b,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(v,"propTypes",{id:f.string,style:f.object,glyphicon:f.string,text:f.string,btnSize:f.oneOf(["large","small","xsmall"]),className:f.string,help:f.oneOfType([f.string,f.element]),step:f.number,currentZoom:f.number,minZoom:f.number,maxZoom:f.number,onZoom:f.func,tooltip:f.element,tooltipPlace:f.string,bsStyle:f.string}),p(v,"defaultProps",{id:"mapstore-zoom",className:"square-button",glyphicon:"plus",btnSize:"xsmall",tooltipPlace:"left",step:1,currentZoom:3,minZoom:0,maxZoom:28,onZoom:function(){},bsStyle:"default",style:{}}),e.exports=v},"./MapStore2/web/client/components/buttons/ZoomToMaxExtentButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Button,b=m.Glyphicon,g=m.Tooltip,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=r("./MapStore2/web/client/utils/MapUtils.js"),S=r("./MapStore2/web/client/utils/ConfigUtils.js"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"addTooltip",(function(t){var r=d.createElement(g,{id:"locate-tooltip"},e.props.tooltip);return d.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:r},t)})),p(c(e),"zoomToMaxExtent",(function(){var t=e.props.mapConfig.maxExtent,r=e.props.mapConfig.size,n=1,o=e.props.mapConfig.center,a=e.props.mapConfig.projection||"EPSG:3857";t&&"[object Array]"===Object.prototype.toString.call(t)&&(n=v.getZoomForExtent(t,r,0,21),0===(o=v.getCenterForExtent(t,a)).x&&0===o.y||(o=S.getCenter(o,"EPSG:4326")));var i=v.getBbox(o,n,r);e.props.changeMapView(o,n,i,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),p(c(e),"zoomToInitialExtent",(function(){var t=e.props.mapInitialConfig,r=v.getBbox(t.center,t.zoom,e.props.mapConfig.size);e.props.changeMapView(t.center,t.zoom,r,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),e}return t=u,(r=[{key:"render",value:function(){var e=this;return this.addTooltip(d.createElement(y,{id:this.props.id,style:this.props.style,bsSize:this.props.btnSize,onClick:function(){return e.props.useInitialExtent?e.zoomToInitialExtent():e.zoomToMaxExtent()},className:this.props.className,bsStyle:this.props.bsStyle},this.props.glyphicon?d.createElement(b,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(O,"propTypes",{id:f.string,image:f.string,glyphicon:f.string,text:f.string,btnSize:f.oneOf(["large","small","xsmall"]),mapConfig:f.object,mapInitialConfig:f.object,changeMapView:f.func,btnType:f.oneOf(["normal","image"]),help:f.oneOfType([f.string,f.element]),tooltip:f.element,tooltipPlace:f.string,className:f.string,useInitialExtent:f.bool,bsStyle:f.string,style:f.object}),p(O,"defaultProps",{id:"mapstore-zoomtomaxextent",glyphicon:"resize-full",text:void 0,btnSize:"xsmall",btnType:"normal",useInitialExtent:!1,tooltipPlace:"left",bsStyle:"default",className:"square-button"}),e.exports=O},"./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=r("./node_modules/react/index.js"),d=r("./MapStore2/web/client/components/misc/Overlay.jsx"),m=r("./node_modules/react-bootstrap/es/index.js").Popover,y=r("./MapStore2/node_modules/lodash/lodash.js").omit,b=r("./node_modules/react-dom/index.js");e.exports=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(g,t);var r,n,u,p=c(g);function g(){return i(this,g),p.apply(this,arguments)}return r=g,(n=[{key:"render",value:function(){var t=null,r=this.props,n=r.popoverOptions,i=r.keyProp,s=a(r,["popoverOptions","keyProp"]);return f.createElement("span",{className:"mapstore-info-popover"},f.createElement(e,o({},y(s,["renderPopover","tooltipId"]),{key:i,ref:function(e){t=e}})),f.createElement(d,{placement:n.placement,shouldUpdatePosition:!0,show:!0,target:function(){return b.findDOMNode(t)}},f.createElement(m,n.props,n.content)))}}])&&s(r.prototype,n),u&&s(r,u),g}(f.Component)}},"./MapStore2/web/client/components/data/identify/DefaultViewer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./MapStore2/web/client/utils/MapInfoUtils.js"),b=r("./MapStore2/web/client/components/I18N/HTML.jsx"),g=r("./MapStore2/web/client/components/I18N/Message.jsx"),h=r("./node_modules/react-bootstrap/es/index.js"),v=h.Alert,S=h.Panel,O=h.Accordion,w=r("./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx"),E=r("./MapStore2/node_modules/lodash/lodash.js").isEmpty,j=r("./MapStore2/web/client/utils/IdentifyUtils.js").getFormatForResponse,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=c.call.apply(c,[this].concat(r))),"getResponseProperties",(function(){var t=e.props.validator(e.props.format),r=e.props.responses.map((function(e){return void 0===e?{}:e})),n=e.props.renderEmpty?t.getValidResponses(r,e.props.renderEmpty):r,o=t.getNoValidResponses(e.props.responses),a=e.props.requests.length===o.length;return{validResponses:n,currResponse:e.getCurrentResponse(n[e.props.index]),emptyResponses:a,invalidResponses:o}})),f(u(e),"getCurrentResponse",(function(t){return e.props.validator(e.props.format).getValidResponses([t],!0)})),f(u(e),"renderEmptyLayers",(function(){var t=e.getResponseProperties(),r=t.invalidResponses,n=t.emptyResponses;if(0===e.props.missingResponses&&n)return null;var o=0!==r.length;if(e.props.renderEmpty||(o=o&&0===e.props.missingResponses),o){var a=r.map((function(e){return e.layerMetadata.title}));return e.props.showEmptyMessageGFI?d.createElement(v,{bsStyle:"info"},d.createElement(g,{msgId:"noInfoForLayers"}),d.createElement("b",null,a.join(", "))):null}return null})),f(u(e),"renderPage",(function(t){var r=e.props.viewers[e.props.format];return r?d.createElement(r,{response:t}):null})),f(u(e),"renderEmptyPages",(function(){var t=e.getResponseProperties().emptyResponses;return 0===e.props.missingResponses&&t?d.createElement(v,{bsStyle:"danger"},d.createElement("h4",null,d.createElement(b,{msgId:"noFeatureInfo"}))):null})),f(u(e),"renderPages",(function(){var t=e.getResponseProperties().validResponses;return t.map((function(r,n){var a,i,s=r.response,l=r.layerMetadata,c=j(r,e.props),u=e.props.header;return(null==l||null===(a=l.viewer)||void 0===a?void 0:a.type)&&(i=y.getViewer(l.viewer.type)),d.createElement(S,{eventKey:n,key:n,collapsible:e.props.collapsible,header:u?d.createElement("span",null,d.createElement(u,o({size:t.length},e.props.headerOptions,l,{index:e.props.index,onNext:function(){return e.props.onNext()},onPrevious:function(){return e.props.onPrevious()}}))):null,style:e.props.style},d.createElement(w,{response:s,format:c,viewers:i||e.props.viewers,layer:l}))}))})),e}return t=p,(r=[{key:"shouldComponentUpdate",value:function(e){return e.responses!==this.props.responses||e.missingResponses!==this.props.missingResponses||e.index!==this.props.index}},{key:"render",value:function(){var e=this,t=this.props.container,r=this.getResponseProperties(),n=r.currResponse,a=r.emptyResponses;return d.createElement("div",{className:"mapstore-identify-viewer"},a?this.renderEmptyPages():d.createElement(d.Fragment,null,d.createElement(t,o({},this.props.containerProps,{onChangeIndex:function(t){e.props.setIndex(t)},ref:"container",index:this.props.index||0,key:"swiper",style:{display:E(n)?"none":"block"},className:"swipeable-view"}),this.renderPages()),this.renderEmptyLayers()))}}])&&i(t.prototype,r),n&&i(t,n),p}(d.Component);f(T,"propTypes",{format:m.string,collapsible:m.bool,requests:m.array,responses:m.array,missingResponses:m.number,container:m.oneOfType([m.object,m.func]),header:m.oneOfType([m.object,m.func]),headerOptions:m.object,validator:m.func,viewers:m.object,style:m.object,containerProps:m.object,index:m.number,onNext:m.func,onPrevious:m.func,onUpdateIndex:m.func,setIndex:m.func,showEmptyMessageGFI:m.bool,renderEmpty:m.bool,loaded:m.bool}),f(T,"defaultProps",{format:y.getDefaultInfoFormatValue(),responses:[],requests:[],missingResponses:0,collapsible:!1,headerOptions:{},container:O,validator:y.getValidator,viewers:y.getViewers(),style:{position:"relative",marginBottom:0},containerProps:{},showEmptyMessageGFI:!0,renderEmpty:!1,onNext:function(){},onPrevious:function(){},setIndex:function(){}}),e.exports=T},"./MapStore2/web/client/components/data/identify/GeocodeViewer.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),a=r("./MapStore2/web/client/components/misc/Portal.jsx"),i=r("./MapStore2/web/client/components/I18N/Message.jsx"),s=r("./node_modules/react-bootstrap/es/index.js").Glyphicon;e.exports=function(e){var t=e.latlng,r=e.enableRevGeocode,l=e.hideRevGeocode,c=void 0===l?function(){}:l,u=e.showModalReverse,p=e.revGeocodeDisplayName;return r&&t?n.createElement(a,null,n.createElement(o,{fade:!0,title:n.createElement("span",null,n.createElement(s,{glyph:"map-marker"})," ",n.createElement(i,{msgId:"identifyRevGeocodeModalTitle"})),size:"xs",show:u,onClose:c,buttons:[{text:n.createElement(i,{msgId:"close"}),onClick:c,bsStyle:"primary"}]},n.createElement("div",{className:"ms-alert",style:{padding:15}},n.createElement("div",{className:"ms-alert-center text-center"},n.createElement("div",null,p))))):null}},"./MapStore2/web/client/components/data/identify/IdentifyContainer.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/react-bootstrap/es/index.js").Row,c=r("./MapStore2/node_modules/lodash/lodash.js").get,u=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=r("./MapStore2/web/client/components/I18N/Message.jsx"),f=r("./MapStore2/web/client/components/misc/panels/DockablePanel.jsx"),d=r("./MapStore2/web/client/components/data/identify/GeocodeViewer.jsx"),m=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),y=r("./MapStore2/web/client/components/misc/Portal.jsx"),b=r("./MapStore2/web/client/components/data/identify/coordinates/Coordinate.jsx"),g=r("./MapStore2/web/client/utils/IdentifyUtils.js").responseValidForEdit,h=r("./MapStore2/web/client/components/data/identify/LayerSelector.jsx").default;e.exports=function(e){var t,r,o=e.enabled,i=e.requests,v=void 0===i?[]:i,S=e.onClose,O=e.responses,w=void 0===O?[]:O,E=e.index,j=e.viewerOptions,T=void 0===j?{}:j,A=e.format,_=e.dock,x=void 0===_||_,M=e.position,P=e.size,C=e.fluid,L=e.validResponses,R=void 0===L?[]:L,I=e.viewer,D=void 0===I?function(){return null}:I,N=e.getToolButtons,k=void 0===N?function(){return[]}:N,F=e.getFeatureButtons,G=void 0===F?function(){return[]}:F,U=e.showFullscreen,B=e.reverseGeocodeData,H=void 0===B?{}:B,z=e.point,V=e.dockStyle,W=void 0===V?{}:V,Y=e.draggable,q=e.setIndex,Z=e.warning,K=e.clearWarning,Q=e.zIndex,X=e.showEmptyMessageGFI,J=e.showEdit,$=e.isEditingAllowed,ee=e.onEdit,te=void 0===ee?function(){}:ee,re=e.enabledCoordEditorButton,ne=e.showCoordinateEditor,oe=e.onSubmitClickPoint,ae=e.onChangeFormat,ie=e.formatCoord,se=e.loaded,le=e.validator,ce=void 0===le?function(){return null}:le,ue=z&&z.latlng||null,pe=R[E],fe=(pe||{}).layer,de=null;ue&&(de=ue&&Math.round(1e17*ue.lng)/1e17,de-=360*Math.floor(de/360+.5));var me=D,ye=k(a(a({},e),{},{lngCorrected:de,validResponses:R,latlng:ue,showEdit:J&&$&&!!pe&&g(pe),onEdit:te.bind(null,fe&&{id:fe.id,name:fe.name,url:c(fe,"search.url")})})),be=v.length===(null===(t=ce(A))||void 0===t||null===(r=t.getNoValidResponses(w))||void 0===r?void 0:r.length)||0,ge=v.length-w.length,he=H.error?s.createElement(p,{msgId:"identifyRevGeocodeError"}):H.display_name;return s.createElement("div",{id:"identify-container",className:o&&0!==v.length?"identify-active":""},s.createElement(f,{bsStyle:"primary",glyph:"map-marker",open:o&&0!==v.length,size:P,fluid:C,position:M,draggable:Y,onClose:S,dock:x,style:W,showFullscreen:U,zIndex:Q,header:[s.createElement(l,{className:"layer-select-row"},s.createElement("div",{className:"layer-col"},s.createElement("span",{className:"identify-icon glyphicon glyphicon-1-layer"}),s.createElement(h,{responses:w,index:E,loaded:se,setIndex:q,missingResponses:ge,emptyResponses:be}),s.createElement(u,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:G(e),transitionProps:null}))),s.createElement(l,{className:"coordinates-edit-row"},s.createElement("span",{className:"identify-icon glyphicon glyphicon-point"}),s.createElement("div",{className:"coordinate-editor"},s.createElement(b,{key:"coordinate-editor",formatCoord:ie,enabledCoordEditorButton:re,onSubmit:oe,onChangeFormat:ae,edit:ne,coordinate:{lat:ue&&ue.lat,lon:de}})),s.createElement(d,n({latlng:ue,revGeocodeDisplayName:he},e)),s.createElement(u,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:ye,transitionProps:null}))].filter((function(e){return e}))},s.createElement(me,n({index:E,setIndex:q,format:A,missingResponses:ge,responses:w,requests:v,showEmptyMessageGFI:X},T))),s.createElement(y,null,s.createElement(m,{fade:!0,title:s.createElement(p,{msgId:"warning"}),size:"xs",show:Z,onClose:K,buttons:[{text:s.createElement(p,{msgId:"close"}),onClick:K,bsStyle:"primary"}]},s.createElement("div",{className:"ms-alert",style:{padding:15}},s.createElement("div",{className:"ms-alert-center text-center"},s.createElement(p,{msgId:"identifyNoQueryableLayers"}))))))}},"./MapStore2/web/client/components/data/identify/LayerSelector.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/prop-types/index.js"),i=r.n(a),s=r("./node_modules/react-select/dist/react-select.es.js"),l=r("./MapStore2/node_modules/lodash/lodash.js"),c=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=r.n(c)()(["placeholder","clearValueText","noResultsText"])(s.default),m=function(e){var t=e.responses,r=void 0===t?[]:t,a=e.index,i=void 0===a?0:a,s=e.loaded,c=e.setIndex,f=e.missingResponses,m=void 0===f?0:f,y=e.emptyResponses,b=void 0!==y&&y,g=p(Object(n.useState)([]),2),h=g[0],v=g[1],S=p(Object(n.useState)(""),2),O=S[0],w=S[1];Object(n.useEffect)((function(){Object(l.isEmpty)(r)||v(r.map((function(e){var t;return null==e||null===(t=e.layerMetadata)||void 0===t?void 0:t.title})))}),[r]),Object(n.useEffect)((function(){var e,t;s&&w((null===(e=r[i])||void 0===e||null===(t=e.layerMetadata)||void 0===t?void 0:t.title)||"")}),[r,i,s]);return o.a.createElement("div",{id:"identify-layer-select",style:{flex:"1 1 0%",padding:"0px 4px"}},o.a.createElement(d,u({},{clearable:!1,isSearchable:!0},{onChange:function(e){var t=(null==e?void 0:e.idx)||0;c(t)},value:O||"",options:h.map((function(e,t){return{label:e,value:e,idx:t}})),disabled:0!==m||0===r.length||b,noResultsText:"identifyLayerSelectNoResult"})))};m.propTypes={responses:i.a.array,setIndex:i.a.func,index:i.a.number,emptyResponses:i.a.bool},t.default=m},"./MapStore2/web/client/components/data/identify/SwipeHeader.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Glyphicon,b=m.Button,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderLeftButton",(function(){var t=0===e.props.index;return e.props.useButtons?d.createElement(b,{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onPrevious()}},d.createElement(y,{glyph:"back"})):d.createElement("a",{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onPrevious()}},d.createElement(y,{glyph:"back"}))})),p(c(e),"renderRightButton",(function(){var t=e.props.index===e.props.size-1;return e.props.useButtons?d.createElement(b,{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onNext()}},d.createElement(y,{glyph:"next"})):d.createElement("a",{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onNext()}},d.createElement(y,{glyph:"next"}))})),e}return t=u,(r=[{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return d.createElement("div",{className:"ms-identify-swipe-header"},this.props.size>1&&d.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderLeftButton()),d.createElement("div",{className:"ms-identify-swipe-header-title"},this.props.title),this.props.size>1&&d.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderRightButton()))}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(g,"propTypes",{title:f.string,index:f.number,size:f.number,container:f.oneOfType([f.object,f.func]),useButtons:f.bool,onPrevious:f.func,onNext:f.func,btnClassName:f.string}),p(g,"defaultProps",{useButtons:!0}),e.exports=g},"./MapStore2/web/client/components/data/identify/coordinates/Coordinate.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/data/identify/coordinates/Editor.jsx"),a=r("./MapStore2/web/client/components/data/identify/coordinates/Viewer.jsx");e.exports=function(e){var t=e.coordinate,r=void 0===t?{}:t,i=e.formatCoord,s=e.edit,l=e.onSubmit,c=void 0===l?function(){}:l,u=e.onChangeFormat,p=void 0===u?function(){}:u;return s?n.createElement(o,{removeVisible:!1,formatCoord:i,coordinate:r||{lat:"",lon:""},onSubmit:c,onChangeFormat:p}):n.createElement(a,{className:"coordinates-text",formatCoord:i,coordinate:r||{lat:"",lon:""}})}},"./MapStore2/web/client/components/data/identify/coordinates/Editor.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx"),a=r("./MapStore2/node_modules/lodash/lodash.js").isEmpty;e.exports=function(e){return n.createElement(o,{format:e.formatCoord||"decimal",aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},idx:1,onSubmit:function(t,r){e.onSubmit(a(r)?void 0:r)},onChangeFormat:function(t){e.onChangeFormat(t)},key:"GFI row coord editor",component:e.coordinate||{},customClassName:"coord-editor",isDraggable:!1,showDraggable:!1,formatVisible:!0,showLabels:!0,removeVisible:!1})}},"./MapStore2/web/client/components/data/identify/coordinates/Viewer.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),a=o.Row,i=o.Col,s=r("./MapStore2/node_modules/lodash/lodash.js").isNil,l=r("./MapStore2/web/client/components/I18N/Number.jsx"),c=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js")((function(e){var t=e.degrees,r=void 0===t?0:t,o=e.minutes,a=void 0===o?0:o,i=e.seconds,s=void 0===i?0:i,c=e.direction,u=e.integerFormat,p=e.decimalFormat;return n.createElement("span",{className:"coordinate-dms"},n.createElement(l,{key:"latD",numberParams:u,value:r}),n.createElement("span",null,"° "),n.createElement(l,{key:"latM",numberParams:u,value:a}),n.createElement("span",null,"' "),n.createElement(l,{key:"latS",numberParams:p,value:s}),n.createElement("span",null,"'' ")," ",n.createElement("span",null,c))}));e.exports=function(e){var t=e.integerFormat,r=void 0===t?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0}:t,o=e.decimalFormat,u=void 0===o?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:4,minimumFractionDigits:4}:o,p=e.coordinate,f=void 0===p?{}:p,d=e.formatCoord,m=void 0===d?"decimal":d,y=e.className;return n.createElement(a,{className:y},n.createElement(i,{xs:12},s(f.lat)||s(f.lon)?null:"decimal"===m?n.createElement("div",{className:"ms-coordinates-decimal"},"Lat: ",n.createElement(l,{value:Math.round(1e5*f.lat)/1e5})," - Long: ",n.createElement(l,{value:f.lon})):n.createElement("div",{className:"ms-coordinates-aeronautical"},n.createElement("span",null,"Lat: ",n.createElement(c,{integerFormat:r,decimalFormat:u,value:f.lat})),n.createElement("span",null," - "),n.createElement("span",null," Long: ",n.createElement(c,{coordinate:"lon",integerFormat:r,decimalFormat:u,value:f.lon})))))}},"./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.withHandlers,a=n.defaultProps,i=r("./MapStore2/web/client/utils/MapInfoUtils.js"),s=o({onNext:function(e){var t=e.index,r=void 0===t?0:t,n=e.setIndex,o=void 0===n?function(){}:n,a=e.validResponses,i=void 0===a?[]:a;return function(){o(Math.min(i.length-1,r+1))}},onPrevious:function(e){var t=e.index,r=e.setIndex,n=void 0===r?function(){}:r;return function(){n(Math.max(0,t-1))}}}),l=a({format:i.getDefaultInfoFormatValue(),validator:i.getValidator});e.exports={defaultViewerHandlers:s,defaultViewerDefaultProps:l}},"./MapStore2/web/client/components/data/identify/enhancers/identify.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.lifecycle,a=n.withHandlers,i=n.compose,s=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.isNil,u=l.isNaN,p=i(a({needsRefresh:function(){return function(e,t){if(t.enabled&&t.point&&t.point.pixel){if(!e.point||!e.point.pixel||e.point.pixel.x!==t.point.pixel.x||e.point.latlng!==t.point.latlng||e.point.pixel.y!==t.point.pixel.y)return!0;if(!e.point||!e.point.pixel||t.point.pixel&&e.format!==t.format)return!0}return!1}},onClose:function(e){var t=e.purgeResults,r=void 0===t?function(){}:t,n=e.closeIdentify,o=void 0===n?function(){}:n;return function(){r(),o()}},onSubmitClickPoint:function(e){var t=e.onSubmitClickPoint,r=void 0===t?function(){}:t,n=e.point;return function(e){var t=c(e.lat)||u(e.lat)?0:parseFloat(e.lat),o=c(e.lon)||u(e.lon)?0:parseFloat(e.lon),a=s("latlng.lng",o,s("latlng.lat",t,n));r(a)}},onChangeFormat:function(e){var t=e.onChangeFormat,r=void 0===t?function(){}:t;return function(e){r(e)}}}),o({componentDidMount:function(){var e=this.props,t=e.enabled,r=e.changeMousePointer,n=void 0===r?function(){}:r,o=e.disableCenterToMarker,a=e.onEnableCenterToMarker,i=void 0===a?function(){}:a;t&&n("pointer"),o||i()},componentWillUnmount:function(){var e=this.props,t=e.hideMarker,r=void 0===t?function(){}:t,n=e.purgeResults,o=void 0===n?function(){}:n,a=e.changeMousePointer;(void 0===a?function(){}:a)("auto"),r(),o()},componentWillReceiveProps:function(e){var t=this.props,r=t.hideMarker,n=void 0===r?function(){}:r,o=t.purgeResults,a=void 0===o?function(){}:o,i=t.changeMousePointer,s=void 0===i?function(){}:i,l=t.enabled;e.enabled&&!l?s("pointer"):!e.enabled&&l&&(s("auto"),n(),a())}}));e.exports={identifyLifecycle:p}},"./MapStore2/web/client/components/data/identify/enhancers/zoomToFeatureHandler.js":function(e,t,r){var n=r("./node_modules/@turf/bbox/index.js"),o=r("./node_modules/recompose/es/Recompose.js").withHandlers;e.exports=o({zoomToFeature:function(e){var t=e.zoomToExtent,r=void 0===t?function(){}:t,o=e.currentFeature,a=void 0===o?[]:o,i=e.currentFeatureCrs;return function(){var e=a.filter((function(e){return!!e.geometry}));if(e.length>0){var t=n({type:"FeatureCollection",features:e});t&&r(t,i)}}}})},"./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx":function(e,t,r){var n,o;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js");e.exports=(o=n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,r,n,o=c(a);function a(){var e;i(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"onTouchStart",(function(t){var r=t.touches[0];e.startX=r.pageX,e.startY=r.pageY,e.setState({scrolling:!1})})),d(p(e),"onTouchMove",(function(t){var r=t.touches[0],n=t.currentTarget;if(e.state.scrolling)t.stopPropagation();else if(Math.abs(e.startY-r.pageY)>Math.abs(e.startX-r.pageX))t.stopPropagation();else{var o=e.startX<r.pageX?"left":"right";(n&&"left"===o&&n.clientWidth<n.scrollWidth&&0!==n.scrollLeft||n&&"right"===o&&n.clientWidth+n.scrollLeft!==n.scrollWidth)&&(e.setState({scrolling:!0}),t.stopPropagation())}})),d(p(e),"onTouchEnd",(function(){e.setState({scrolling:!1})})),d(p(e),"renderPage",(function(){var t="function"==typeof e.props.viewers?e.props.viewers:e.props.viewers[e.props.format];return t?y.createElement(t,{response:e.props.response,layer:e.props.layer}):null})),e}return t=a,(r=[{key:"render",value:function(){return y.createElement("div",{style:{width:"100%",height:"100%"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}])&&s(t.prototype,r),n&&s(t,n),a}(y.Component),d(n,"propTypes",{format:m.string,viewers:m.oneOfType([m.func,m.object]),response:m.oneOfType([m.string,m.object,m.node]),layer:m.object}),o)},"./MapStore2/web/client/components/help/HelpBadge.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").Badge,y=r("./MapStore2/node_modules/lodash/lodash.js").isString,b=r("./MapStore2/web/client/utils/LocaleUtils.js"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onMouseOver",(function(){var t=y(e.props.helpText)?e.props.helpText:b.getMessageById(e.context.messages,e.props.helpText.props.msgId);e.props.changeHelpText(t),e.props.changeHelpwinVisibility(!0)})),e}return t=u,(r=[{key:"render",value:function(){return d.createElement(m,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(g,"propTypes",{id:f.string,helpText:f.oneOfType([f.string,f.element]),isVisible:f.bool,changeHelpText:f.func,changeHelpwinVisibility:f.func,className:f.string}),p(g,"contextTypes",{messages:f.object}),p(g,"defaultProps",{helpText:"",isVisible:!1}),e.exports=g},"./MapStore2/web/client/components/help/HelpWrapper.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./node_modules/prop-types/index.js"),p=r("./node_modules/react/index.js"),f=r("./MapStore2/web/client/components/help/HelpBadge.jsx");r("./MapStore2/web/client/components/help/help.css");var d,m,y,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return p.createElement("div",{id:this.props.id},p.createElement(f,{id:"helpbadge-"+(this.props.children.key||this.props.id),isVisible:this.props.helpEnabled,helpText:this.props.helpText,changeHelpText:this.props.changeHelpText,changeHelpwinVisibility:this.props.changeHelpwinVisibility}),this.props.children)}}])&&a(t.prototype,r),n&&a(t,n),c}(p.Component);d=b,m="propTypes",y={id:u.string,helpText:u.oneOfType([u.string,u.element]),helpEnabled:u.bool,changeHelpText:u.func,changeHelpwinVisibility:u.func},m in d?Object.defineProperty(d,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[m]=y,e.exports=b},"./MapStore2/web/client/components/help/help.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$":function(e,t,r){var n={"./cesium/plugins/index":"./MapStore2/web/client/components/map/cesium/plugins/index.js","./leaflet/plugins/index":"./MapStore2/web/client/components/map/leaflet/plugins/index.js","./openlayers/plugins/index":"./MapStore2/web/client/components/map/openlayers/plugins/index.js"};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id="./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$"},"./MapStore2/web/client/components/map/cesium/Layer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./MapStore2/web/client/utils/cesium/Layers.js"),b=r("./node_modules/object-assign/index.js"),g=r("./node_modules/prop-types/index.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"updateZIndex",(function(t){var r=t||e.props.position,n=e.props.map.imageryLayers._layers.reduce((function(t,r,n){return e.provider===r?n:t}),-1),o=e.props.map.imageryLayers._layers.reduce((function(e,t,n){return-1===e&&r<t._position?n:e}),-1);-1===o&&(o=n);var a=o-n;0!==a&&Array.apply(null,{length:Math.abs(a)}).map(Number.call,Number).forEach((function(){e.props.map.imageryLayers[a>0?"raise":"lower"](e.provider)}))})),d(p(e),"setLayerVisibility",(function(t,r){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?(e.addLayer(r),e.updateZIndex()):e.removeLayer())})),d(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.provider&&(e.provider.alpha=t)})),d(p(e),"createLayer",(function(t,r,n,o,a){if(t){var i=b({},r,n?{zIndex:n}:null,{securityToken:a});e.layer=y.createLayer(t,i,o),e.layer&&(e.layer.layerName=r.name,e.layer.layerId=r.id),null===e.layer&&e.props.onCreationError(r)}})),d(p(e),"updateLayer",(function(t,r){var n=y.updateLayer(t.type,e.layer,a(a({},t.options),{},{securityToken:t.securityToken}),a(a({},r.options),{},{securityToken:r.securityToken}),e.props.map);n&&(e.removeLayer(),e.layer=n,e.addLayer(t))})),d(p(e),"addLayerInternal",(function(t){t.options.useForElevation?e.props.map.terrainProvider=e.layer:(e.provider=e.props.map.imageryLayers.addImageryProvider(e.layer),e.provider._position=e.props.position,void 0!==t.options.opacity&&(e.provider.alpha=t.options.opacity))})),d(p(e),"addLayer",(function(t){if(e.layer&&!e.layer.detached&&(e.addLayerInternal(t),e.props.options.refresh&&e.layer.updateParams)){var r=0;e.refreshTimer=setInterval((function(){var n=e.layer.updateParams(b({},e.props.options.params,{_refreshCounter:r++}));e.removeLayer(),e.layer=n,e.addLayerInternal(t)}),e.props.options.refresh)}})),d(p(e),"removeLayer",(function(t){var r=t||e.provider;r&&e.props.map.imageryLayers.remove(r)})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.createLayer(this.props.type,this.props.options,this.props.position,this.props.map,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(this.props),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,r=e.options&&!1!==e.options.visibility;this.setLayerVisibility(r,e);var n=e.options&&void 0!==e.options.opacity?e.options.opacity:1;if(this.setLayerOpacity(n),e.position!==this.props.position&&(this.updateZIndex(e.position),this.provider&&(this.provider._position=e.position)),this.props.options&&this.props.options.params&&this.layer.updateParams&&e.options.visibility&&Object.keys(this.props.options.params).reduce((function(r,n){return e.options.params[n]!==t.props.options.params[n]||r}),!1)){var o=this.provider,a=this.layer.updateParams(e.options.params);this.layer=a,this.addLayer(e),setTimeout((function(){t.removeLayer(o)}),1e3)}this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&!this.props.map.isDestroyed()&&(this.layer.detached?this.layer.remove():(this.layer.destroy&&this.layer.destroy(),this.props.map.imageryLayers.remove(this.provider)),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?m.Children.map(this.props.children,(function(r){return r?m.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return m.createElement(m.Fragment,null,r)}return y.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);d(h,"propTypes",{map:g.object,type:g.string,options:g.object,onCreationError:g.func,position:g.number,securityToken:g.string}),e.exports=h},"./MapStore2/web/client/components/map/cesium/Map.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./MapStore2/web/client/libs/cesium.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/rxjs/Rx.js"),b=r("./node_modules/react/index.js"),g=r("./node_modules/react-dom/index.js"),h=r("./MapStore2/web/client/utils/ConfigUtils.js"),v=r("./MapStore2/web/client/utils/cesium/ClickUtils.js"),S=r("./MapStore2/web/client/utils/MapUtils.js"),O=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),w=r("./node_modules/object-assign/index.js"),E=r("./MapStore2/node_modules/lodash/lodash.js").throttle,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=c.call.apply(c,[this].concat(r))),"state",{}),f(u(e),"onClick",(function(t,r){if(e.props.onClick&&null!==r.position){var n=t.camera.pickEllipsoid(r.position,t.scene.globe.ellipsoid),o=v.getMouseXYZ(t,r)||n&&d.Cartographic.fromCartesian(n);if(o){var a=180*o.latitude/Math.PI,i=180*o.longitude/Math.PI,s=(90-a)/180*e.props.standardHeight*(e.props.zoom+1),l=(180+i)/360*e.props.standardWidth*(e.props.zoom+1);e.props.onClick({pixel:{x:l,y:s},height:e.props.mapOptions&&e.props.mapOptions.terrainProvider?o.height:void 0,cartographic:o,latlng:{lat:a,lng:i},crs:"EPSG:4326"})}}})),f(u(e),"onMouseMove",(function(t){if(e.props.onMouseMove&&t.endPosition){var r=e.map.camera.pickEllipsoid(t.endPosition,e.map.scene.globe.ellipsoid),n=v.getMouseXYZ(e.map,t)||r&&d.Cartographic.fromCartesian(r);if(n){var o=Math.round(n.height);e.props.onMouseMove({y:180*n.latitude/Math.PI,x:180*n.longitude/Math.PI,z:o,crs:"EPSG:4326"})}}})),f(u(e),"getDocument",(function(){return e.props.document||document})),f(u(e),"getMapOptions",(function(e){var t={};if(e.terrainProvider){var r=e.terrainProvider,n=r.type,a=o(r,["type"]);switch(n){case"cesium":t.terrainProvider=new d.CesiumTerrainProvider(a);break;case"ellipsoid":t.terrainProvider=new d.EllipsoidTerrainProvider}}return w({},e,t)})),f(u(e),"getCenter",(function(){var t=e.map.camera.positionCartographic;return{longitude:180*t.longitude/Math.PI,latitude:180*t.latitude/Math.PI,height:t.height}})),f(u(e),"getZoomFromHeight",(function(t){return Math.log2(e.props.zoomToHeight/t)+1})),f(u(e),"getHeightFromZoom",(function(t){return e.props.zoomToHeight/Math.pow(2,t-1)})),f(u(e),"gestureStartListener",(function(e){e.preventDefault()})),f(u(e),"setMousePointer",(function(t){e.map&&(g.findDOMNode(u(e)).getElementsByClassName("cesium-viewer")[0].style.cursor=t||"auto")})),f(u(e),"_updateMapPositionFromNewProps",(function(t){var r=e.getCenter(),n=e.getZoomFromHeight(r.height),o=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)<=1e-12},a=!o(t.center.x,r.longitude)||!o(t.center.y,r.latitude),i=t.zoom!==n;if(a||i){var s={destination:d.Cartesian3.fromDegrees(t.center.x,t.center.y,e.getHeightFromZoom(t.zoom)),orientation:t.viewerOptions.orientation};e.setView(s)}})),f(u(e),"setView",(function(t){e.props.mapOptions&&e.props.mapOptions.flyTo?e.map.camera.flyTo(t,e.props.mapOptions.defaultFlightOptions):e.map.camera.setView(t)})),f(u(e),"subscribeClickEvent",(function(t){var r={LEFT_UP:d.ScreenSpaceEventType.LEFT_UP,LEFT_DOWN:d.ScreenSpaceEventType.LEFT_DOWN,LEFT_CLICK:d.ScreenSpaceEventType.LEFT_CLICK,PINCH_START:d.ScreenSpaceEventType.PINCH_START,PINCH_END:d.ScreenSpaceEventType.PINCH_END,PINCH_MOVE:d.ScreenSpaceEventType.PINCH_MOVE},n=new y.Subject,o=new y.Subject;Object.keys(r).forEach((function(t){return e.hand.setInputAction((function(e){o.next({type:r[t],movement:e}),n.next({type:r[t],movement:e})}),r[t])})),o.filter((function(e){return e.type===r.PINCH_END})).switchMap((function(){return y.Observable.of(!0).concat(y.Observable.of(!1).delay(500))})).startWith(!1).switchMap((function(e){return e?y.Observable.never():n})).filter((function(e){return e.type===r.LEFT_DOWN})).switchMap((function(e){var t=e.movement;return n.filter((function(e){return e.type===r.LEFT_CLICK})).takeUntil(y.Observable.timer(500).merge(n.filter((function(e){return e.type!==r.LEFT_UP&&e.type!==r.LEFT_CLICK||e.type===r.LEFT_UP&&(n=t&&t.position,o=e.movement&&e.movement.position,!(n&&o&&n.x===o.x&&n.y===o.y));var n,o}))))})).subscribe((function(r){var n=r.movement;return e.onClick(t,n)})),e.clickStream$=n,e.pauserStream$=o})),f(u(e),"registerHooks",(function(){e.props.hookRegister.registerHook(S.ZOOM_TO_EXTENT_HOOK,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.crs,o=r.duration,a=O.reprojectBbox(t,n,"EPSG:4326");if(e.map.camera.flyTo){var i=d.Rectangle.fromDegrees(a[0],a[1],a[2],a[3]);e.map.camera.flyTo({destination:i,duration:o,complete:e.updateMapInfoState})}}))})),f(u(e),"updateMapInfoState",(function(){var t=e.getCenter(),r=e.getZoomFromHeight(t.height),n={height:Math.round(e.props.standardWidth*(r+1)),width:Math.round(e.props.standardHeight*(r+1))};e.props.onMapViewChanges({x:t.longitude,y:t.latitude,crs:"EPSG:4326"},r,{bounds:{minx:-180,miny:-90,maxx:180,maxy:90},crs:"EPSG:4326",rotation:0},n,e.props.id,e.props.projection,{orientation:{heading:e.map.camera.heading,pitch:e.map.camera.pitch,roll:e.map.camera.roll}})})),e}return t=p,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.getDocument().addEventListener("gesturestart",this.gestureStartListener)}},{key:"componentDidMount",value:function(){var e=new d.Viewer(this.getDocument().getElementById(this.props.id),w({baseLayerPicker:!1,animation:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1},this.getMapOptions(this.props.mapOptions)));e.scene.globe.baseColor=d.Color.WHITE,e.imageryLayers.removeAll(),e.camera.moveEnd.addEventListener(this.updateMapInfoState),this.hand=new d.ScreenSpaceEventHandler(e.scene.canvas),this.subscribeClickEvent(e),this.hand.setInputAction(E(this.onMouseMove.bind(this),500),d.ScreenSpaceEventType.MOUSE_MOVE),e.camera.setView({destination:d.Cartesian3.fromDegrees(this.props.center.x,this.props.center.y,this.getHeightFromZoom(this.props.zoom))}),this.setMousePointer(this.props.mousePointer),this.map=e,this.forceUpdate(),this.props.mapOptions.navigationTools&&(this.cesiumNavigation=window.CesiumNavigation,this.cesiumNavigation&&this.cesiumNavigation.navigationInitialization(this.props.id,e)),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),!1}},{key:"componentWillUnmount",value:function(){this.clickStream$.complete(),this.pauserStream$.complete(),this.hand.destroy(),this.getDocument().removeEventListener("gesturestart",this.gestureStartListener),this.map.destroy()}},{key:"render",value:function(){var e=this,t=this.map,r=this.props.projection,n=t?b.Children.map(this.props.children,(function(n){return n?b.cloneElement(n,{map:t,projection:r,onCreationError:e.props.onCreationError}):null})):null;return b.createElement("div",{id:this.props.id},n)}}])&&i(t.prototype,r),n&&i(t,n),p}(b.Component);f(j,"propTypes",{id:m.string,document:m.object,center:h.PropTypes.center,zoom:m.number.isRequired,mapStateSource:h.PropTypes.mapStateSource,projection:m.string,onMapViewChanges:m.func,onCreationError:m.func,onClick:m.func,onMouseMove:m.func,mapOptions:m.object,standardWidth:m.number,standardHeight:m.number,mousePointer:m.string,zoomToHeight:m.number,registerHooks:m.bool,hookRegister:m.object,viewerOptions:m.object}),f(j,"defaultProps",{id:"map",onMapViewChanges:function(){},onClick:function(){},onCreationError:function(){},projection:"EPSG:3857",mapOptions:{},standardWidth:512,standardHeight:512,zoomToHeight:8e7,registerHooks:!0,hookRegister:S,viewerOptions:{orientation:{heading:0,pitch:-1*Math.PI/2,roll:0}}}),e.exports=j},"./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js");n.registerType("bing",(function(e){var t=e.apiKey;return new o.BingMapsImageryProvider({url:"//dev.virtualearth.net",key:t,mapStyle:o.BingMapsStyle[e.name.toUpperCase()]})}))},"./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js"),a=r("./node_modules/object-assign/index.js"),i=function(){var e=[o.Math.toRadians(.05),o.Math.toRadians(.1),o.Math.toRadians(.2),o.Math.toRadians(.5),o.Math.toRadians(1),o.Math.toRadians(2),o.Math.toRadians(5),o.Math.toRadians(10)];function t(e,t){var r=e||{};this._tilingScheme=r.tilingScheme||new o.GeographicTilingScheme,this._color=r.color&&new o.Color(r.color[0],r.color[1],r.color[2],r.color[3])||new o.Color(1,1,1,.4),this._tileWidth=r.tileWidth||256,this._tileHeight=r.tileHeight||256,this._ready=!0,this._sexagesimal=r.sexagesimal||!1,this._numLines=r.numLines||50,this._scene=t,this._labels=new o.LabelCollection,t.primitives.add(this._labels),this._polylines=new o.PolylineCollection,t.primitives.add(this._polylines),this._ellipsoid=t.globe.ellipsoid;var n=document.createElement("canvas");n.width=256,n.height=256,this._canvas=n}var r=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),n=Object.defineProperties;function a(e){return e<.01?3:e<.1?2:e<1?1:0}return r&&n||(n=function(e){return e}),n(t.prototype,{url:{get:function(){}},proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return 18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),t.prototype.makeLabel=function(e,t,r,n){this._labels.add({position:this._ellipsoid.cartographicToCartesian(new o.Cartographic(e,t,10)),text:r,font:"normal",fillColor:this._color,outlineColor:this._color,style:o.LabelStyle.FILL,pixelOffset:new o.Cartesian2(5,n?5:-5),eyeOffset:o.Cartesian3.ZERO,horizontalOrigin:o.HorizontalOrigin.LEFT,verticalOrigin:n?o.VerticalOrigin.BOTTOM:o.VerticalOrigin.TOP,scale:1})},t.prototype._drawGrid=function(t){if(!this._currentExtent||!this._currentExtent.equals(t)){this._currentExtent=t,this._polylines.removeAll(),this._labels.removeAll();for(var r=0,n=0,i=0;i<e.length&&r<(t.north-t.south)/10;i++)r=e[i];for(var s=0;s<e.length&&n<(t.east-t.west)/10;s++)n=e[s];var l=(t.west<0?Math.ceil(t.west/n):Math.floor(t.west/n))*n,c=(t.south<0?Math.ceil(t.south/r):Math.floor(t.south/r))*r,u=(t.east<0?Math.ceil(t.east/r):Math.floor(t.east/r))*r,p=(t.north<0?Math.ceil(t.north/n):Math.floor(t.north/n))*n;l=Math.max(l-2*n,-Math.PI),u=Math.min(u+2*n,Math.PI),c=Math.max(c-2*r,-Math.PI/2),p=Math.min(p+2*n,Math.PI/2);for(var f=this._ellipsoid,d=o.Math.toRadians(1),m=c+Math.floor((p-c)/r/2)*r,y=l;y<u;y+=n){for(var b=[],g=c;g<p;g+=d)b.push(new o.Cartographic(y,g));b.push(new o.Cartographic(y,p)),this._polylines.add({positions:f.cartographicArrayToCartesianArray(b),width:.75,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var h=o.Math.toDegrees(y);this.makeLabel(y,m,this._sexagesimal?this._decToSex(h):h.toFixed(a(n)),!1)}for(var v=l+Math.floor((u-l)/n/2)*n,S=c;S<p;S+=r){for(var O=[],w=l;w<u;w+=d)O.push(new o.Cartographic(w,S));O.push(new o.Cartographic(u,S)),this._polylines.add({positions:f.cartographicArrayToCartesianArray(O),width:1,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var E=o.Math.toDegrees(S);this.makeLabel(v,S,this._sexagesimal?this._decToSex(E):E.toFixed(a(r)),!0)}}},t.prototype.requestImage=function(){return this._show&&this._drawGrid(this._getExtentView()),this._canvas},t.prototype.setVisible=function(e){this._show=e,e?(this._currentExtent=null,this._drawGrid(this._getExtentView())):(this._polylines.removeAll(),this._labels.removeAll())},t.prototype.isVisible=function(){return this._show},t.prototype._decToSex=function(t){var r=Math.floor(t),n=(60*(Math.abs(t)-r)).toFixed(2);return"60.00"===n&&(r+=1,e="0.00"),[r,":",n].join("")},t.prototype._getExtentView=function(){for(var e=this._scene.camera,t=this._scene.canvas,r=[e.pickEllipsoid(new o.Cartesian2(0,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(0,t.height),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,t.height),this._ellipsoid)],n=0;n<4;n++)if(void 0===r[n])return o.Rectangle.MAX_VALUE;return o.Rectangle.fromCartographicArray(this._ellipsoid.cartesianArrayToCartographicArray(r))},t.prototype.destroy=function(){this._show=!1,this._polylines&&this._scene.primitives.remove(this._polylines),this._labels&&this._scene.primitives.remove(this._labels)},t}();n.registerType("graticule",{create:function(e,t){var r=t.scene,n=new i(a({tileWidth:512,tileHeight:512,numLines:10},e||{}),r);return e.visibility&&n.setVisible(!0),n}})},"./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js"),a=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,i=r("./node_modules/object-assign/index.js");n.registerType("marker",{create:function(e,t){var r=i({},{point:{pixelSize:5,color:o.Color.RED,outlineColor:o.Color.WHITE,outlineWidth:2}},e.style),n=t.entities.add(i({position:o.Cartesian3.fromDegrees(e.point.lng,e.point.lat)},r));return{detached:!0,point:n,remove:function(){t.entities.remove(n)}}},update:function(e,t,r,n){return a(t.point,r.point)?null:(e.remove(),this.create(t,n))}})},"./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js");n.registerType("osm",(function(){return o.createOpenStreetMapImageryProvider({url:"//a.tile.openstreetmap.org/"})}))},"./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js"),a=r("./node_modules/eventlistener/eventlistener.js"),i=function(){function e(e){this._scene=e.scene;var t=document.createElement("div");t.className="infoWindow",this._div=t;var r=document.createElement("div");r.className="frame",this._div.appendChild(r);var n=document.createElement("div");n.className="content",r.appendChild(n),e.container.appendChild(t),this._content=n,this.setVisible(!0)}return e.prototype.setVisible=function(e){this._visible=e,this._div.style.display=e?"block":"none"},e.prototype.setContent=function(e){if("string"==typeof e)this._content.innerHTML=e;else{for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._content.appendChild(e)}},e.prototype.setPosition=function(e,t){this._position=this._scene.globe.ellipsoid.cartographicToCartesian(o.Cartographic.fromDegrees(t,e,0))},e.prototype.showAt=function(e,t,r){this.setPosition(e,t),this.setContent(r),this.setVisible(!0)},e.prototype.hide=function(){this.setVisible(!1)},e.prototype.computeVisible=function(){var e=6356752.314245179,t=this._scene.camera.position,r=t.x/6378137,n=t.y/6378137,o=t.z/e,a=r*r+n*n+o*o-1,i=this._position,s=i.x/6378137-r,l=i.y/6378137-n,c=i.z/e-o,u=-(s*r+l*n+c*o);u>a&&u*u/(s*s+l*l+c*c)>a?this.setVisible(!1):this.setVisible(!0)},e.prototype.update=function(){if(this.computeVisible(),this._visible&&this._position){var e=o.SceneTransforms.wgs84ToWindowCoordinates(this._scene,this._position);if(e){var t=Math.floor(e.x)-this._div.clientWidth/2+"px",r=Math.floor(e.y)-this._div.clientHeight+"px";this._div.tabIndex=5,this._div.style.left=t,this._div.style.top=r}}},e.prototype.destroy=function(){this._div.parentNode.removeChild(this._div)},e}();n.registerType("overlay",{create:function(e,t){var r=function(e,t){var r=e.cloneNode(!0);r.id=t.id+"-overlay",r.className=(t.className||e.className)+"-overlay",r.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var r=0;r<t.length;r++){var n=t.item(r);n.removeAttribute("data-reactid"),e(n.children||[])}}(r.children||[]);var n=t.closeClass||"close";if(t.onClose&&1===r.getElementsByClassName(n).length){var o=r.getElementsByClassName(n)[0];a.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}return r}(document.getElementById(e.id),e),n=new i(t);n.showAt(e.position.y,e.position.x,r),n.setVisible(!0);var o=t.scene.primitives.add(n);return{detached:!0,info:o,remove:function(){t.scene.primitives.remove(o)}}}})},"./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/libs/cesium.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/TileConfigProvider.js"),l=r("./MapStore2/web/client/utils/ConfigUtils.js"),c=r.n(l),u=r("./MapStore2/web/client/utils/ProxyUtils.js"),p=r.n(u);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){this.proxy=e}function y(){}m.prototype.getURL=function(e){var t=function(e){var t=e,r="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),r=e.substring(e.indexOf("?")+1)),{url:t,queryString:r}}(e),r=t.url,n=t.queryString;return 0===r.indexOf("//")&&(r=location.protocol+r),p.a.getProxyUrl()+encodeURIComponent(r+n)},y.prototype.getURL=function(e){return e},o.a.registerType("tileprovider",(function(e){var t,r=f(s.a.getLayerConfig(e.provider,e),2),n=r[0],o=r[1],a=c.a.getProxyUrl({});a&&(t=o.noCors||p.a.needProxy(n));var l,u,d=o.credits,b=d?new i.a.Credit(d.text,d.imageUrl,d.link):o.attribution;return new i.a.UrlTemplateImageryProvider({url:(l=n,u=o,l.replace(/(?!(\{?[zyxs]?\}))\{*([\w_]+)*\}/g,(function(){var e=arguments[0],t=arguments[1]?arguments[1]:arguments[2],r=u[t];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(u)),r}))),enablePickFeatures:!1,subdomains:o.subdomains,maximumLevel:o.maxZoom,minimumLevel:o.minZoom,credit:b,proxy:t?new m(a):new y})}))},"./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/web/client/utils/cesium/Layers.js"),s=r("./MapStore2/web/client/libs/cesium.js"),l=r("./MapStore2/web/client/utils/cesium/BILTerrainProvider.js")(s),c=r("./MapStore2/web/client/utils/ConfigUtils.js"),u=r("./MapStore2/web/client/utils/ProxyUtils.js"),p=r("./node_modules/object-assign/index.js"),f=r("./MapStore2/node_modules/lodash/lodash.js").isArray,d=r("./MapStore2/web/client/utils/cesium/WMSUtils.js"),m=r("./MapStore2/web/client/utils/LayersUtils.js"),y=m.getAuthenticationParam,b=m.getURLs,g=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,h=r("./MapStore2/web/client/utils/SecurityUtils.js"),v=r("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;function S(e){var t=e,r="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),r=e.substring(e.indexOf("?")+1)),{url:t,queryString:r}}function O(e){this.proxy=e}function w(){}function E(e){return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}O.prototype.getURL=function(e){var t=S(e),r=t.url,n=t.queryString;return u.getProxyUrl()+encodeURIComponent(r+n)},w.prototype.getURL=function(e){var t=S(e);return t.url+t.queryString};var j=function e(t){var r;return t.useForElevation?new l(function(e){var t,r=c.getProxyUrl({}),n=e.url;return r&&(t=u.needProxy(e.url)&&r)&&(n=t+encodeURIComponent(n)),p({url:n,layerName:e.name})}(t)):((r=t.singleTile?new s.SingleTileImageryProvider(function(e){var t=void 0!==e.opacity?e.opacity:1,r=g(e),n=p({styles:e.style||"",format:(v(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:t,tiled:void 0===e.tiled||e.tiled,layers:e.name,width:e.size||2e3,height:e.size||2e3,bbox:"-180.0,-90,180.0,90",srs:"EPSG:4326"},r||{},y(e));return{url:(f(e.url)?e.url[Math.round(Math.random()*(e.url.length-1))]:e.url)+"?service=WMS&version=1.1.0&request=GetMap&"+E(h.addAuthenticationToSLD(n,e))}}(t)):new s.WebMapServiceImageryProvider(function(e){var t,r=void 0!==e.opacity?e.opacity:1,n=g(e),o=c.getProxyUrl({});o&&(t=u.needProxy(e.url)&&o);var a=e.credits,i=a?new s.Credit(a.text||a.title,a.imageUrl,a.link):e.attribution;return p({url:"{s}",credit:i,subdomains:b(f(e.url)?e.url:[e.url]),proxy:t&&new O(t)||new w,layers:e.name,enablePickFeatures:!1,parameters:p({styles:e.style||"",format:(v(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:r,tiled:void 0===e.tiled||e.tiled,width:e.tileSize||256,height:e.tileSize||256},p({},e._v_?{_v_:e._v_}:{},n||{},y(e)))})}(t))).updateParams=function(r){var n=p({},t,{params:p({},t.params||{},r)});return e(n)},r)};i.registerType("wms",{create:j,update:function(e,t,r){var n=t&&t.params,a=r&&r.params,i=o(o({},n),a);return Object.keys(o(o(o({},t),r),i)).filter((function(e){return d.PARAM_OPTIONS.indexOf(e.toLowerCase())>=0})).filter((function(e){return(void 0===r[e]?a&&a[e]:r[e])!==(void 0===t[e]?n&&n[e]:t[e])})).length>0||t.securityToken!==r.securityToken||t.tileSize!==r.tileSize?j(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/utils/ConfigUtils.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/ProxyUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/WMTSUtils.js"),u=r.n(c),p=r("./MapStore2/web/client/libs/cesium.js"),f=r.n(p),d=r("./MapStore2/web/client/utils/LayersUtils.js"),m=r("./node_modules/object-assign/index.js"),y=r.n(m),b=r("./MapStore2/node_modules/lodash/lodash.js"),g=r("./node_modules/url/url.js"),h=r.n(g),v=r("./MapStore2/web/client/utils/VectorTileUtils.js");function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=e,r="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),r=e.substring(e.indexOf("?")+1)),{url:t,queryString:r}}function j(e){this.proxy=e}function T(){}j.prototype.getURL=function(e){var t=E(e),r=t.url,n=t.queryString;return l.a.getProxyUrl()+encodeURIComponent(r+n)},T.prototype.getURL=function(e){var t=E(e);return t.url+t.queryString};var A=function(e){return e.indexOf("EPSG:4326")>=0?new f.a.GeographicTilingScheme:e.indexOf("EPSG:3857")>=0?new f.a.WebMercatorTilingScheme:null},_=function(e,t){var r=u.a.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return{tileMatrixSet:r,matrixIds:function(e,t){return e.length>t?Object(b.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e}(e.matrixIds&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(Object(b.isObject)(e)&&e[t]||Object(b.isArray)(e)&&e||[]).map((function(e){return e.identifier}))}(e.matrixIds,r)||function(e){for(var t=new Array(30),r=0;r<30;++r)t[r]=e.tileMatrixPrefix+r;return t}(e))}};function x(e){var t="EPSG:4326",r=_(e,t),n=r.tileMatrixSet,o=r.matrixIds;if(0===o.length){var a=_(e,t="EPSG:3857");n=a.tileMatrixSet,o=a.matrixIds}var s,c=i.a.getProxyUrl({});c&&(s=l.a.needProxy(e.url)&&c);var u,p=(u=e.matrixIds&&e.matrixIds[n],function(e,t,r){return u&&u[r]&&!u[r].ranges||e<=parseInt(Object(b.get)(u[r],"ranges.cols.max"),10)&&e>=parseInt(Object(b.get)(u[r],"ranges.cols.min"),10)&&t<=parseInt(Object(b.get)(u[r],"ranges.rows.max"),10)&&t>=parseInt(Object(b.get)(u[r],"ranges.rows.min"),10)}),f=h.a.format({query:O({},Object(d.getAuthenticationParam)(e))});return y()({url:Object(b.head)(Object(d.getURLs)(Object(b.isArray)(e.url)?e.url:[e.url],f)),format:(Object(v.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",isValid:p,layer:e.name,style:e.style||"",tileMatrixLabels:o,tilingScheme:A(t,e.matrixIds[n]),proxy:s&&new j(s)||new T,enablePickFeatures:!1,tileWidth:e.tileWidth||e.tileSize||256,tileHeight:e.tileHeight||e.tileSize||256,tileMatrixSetID:n,maximumLevel:30,parameters:O({},Object(d.getAuthenticationParam)(e))})}var M=function e(t){var r,n=x(t),o=(r=new f.a.WebMapTileServiceImageryProvider(n)).requestImage;return r.requestImage=function(e,t,a){return n.isValid(e,t,a)?o.bind(r)(e,t,a):new Promise((function(){}))},r.updateParams=function(r){var n=y()({},t,{params:y()({},t.params||{},r)});return e(n)},r};o.a.registerType("wmts",{create:M,update:function(e,t,r){return t.securityToken!==r.securityToken||r.format!==t.format?M(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js"),OSMLayer:r("./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js"),TileProviderLayer:r("./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js"),WMSLayer:r("./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js"),WMTSLayer:r("./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js"),GraticuleLayer:r("./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js"),MarkerLayer:r("./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js"),OverlayLayer:r("./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js")}},"./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.head,h=b.last,v=b.isNil,S=r("./MapStore2/web/client/libs/leaflet.js");r("./node_modules/leaflet-draw/dist/leaflet.draw.js"),S.Draw.Polygon.prototype._calculateFinishDistance=function(e){if(this._markers.length>0){var t=this._map.latLngToContainerPoint(this._markers[0].getLatLng()),r=this._map.latLngToContainerPoint(this._markers[this._markers.length-1].getLatLng()),n=new S.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(n.getLatLng());return Math.min(t.distanceTo(o),r.distanceTo(o))}return 1/0};var O=r("./MapStore2/web/client/utils/MapUtils.js"),w=O.isSimpleGeomType,E=O.getSimpleGeomType,j=r("./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js").boundsToOLExtent,T=r("./node_modules/object-assign/index.js"),A=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),_=r("./MapStore2/web/client/utils/leaflet/Vector.js").pointToLayer,x=Math.PI/180,M=function(e,t,r){if("EPSG:4326"===r)return{center:t,srs:r,radius:e};var n=e/40075017*360/Math.cos(x*t[1]),o=A.reproject(t,"EPSG:4326",r);if(n){var a=A.reproject([t[0]+n,t[1]],"EPSG:4326",r);return{center:o,srs:r,radius:Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2))}}return{center:o,srs:r,radius:e}},P=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326";if("EPSG:4326"===r||void 0===e)return{center:t,projection:r,radius:e};var n=A.reproject({x:t.lng,y:t.lat},r,"EPSG:4326");if(void 0===e)return{center:n,projection:r,radius:e};var o=A.reproject([t.lng+e,t.lat],r,"EPSG:4326"),a=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)),i=a*Math.cos(x*n.y)*40075017/360;return{center:n,projection:"EPSG:4326",radius:i}},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"onDrawStart",(function(){e.drawing=!0})),d(p(e),"onDrawCreated",(function(t){e.drawing=!1;var r,n=t.layer,o=n.toGeoJSON();"marker"===t.layerType?r=S.latLngBounds(o.geometry.coordinates,o.geometry.coordinates):(n._map||(n._map=e.props.map,n._renderer=e.props.map.getRenderer(n),n._project()),r=n.getBounds());var a=j(r),i=r.getCenter();i=[i.lng,i.lat];var s=o.geometry.coordinates,l="EPSG:4326",c=o.geometry.type,u=n.getRadius?n.getRadius():0;if("circle"===t.layerType){o.projection="EPSG:4326",l="EPSG:3857",a=A.reprojectBbox(a,"EPSG:4326",l);var p=M(n._mRadius,i,l);i=p.center,u=p.radius,s=A.calculateCircleCoordinates(i,u,100),o.radius=n.getRadius?n.getRadius():0,i=[i.x,i.y],c="Polygon"}e.drawLayer.addData(o);var f={type:c,extent:a,center:i,coordinates:s,radius:u,projection:l};e.props.options&&e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner);var d=e.convertFeaturesToGeoJson(t.layer,e.props);e.props.onEndDrawing(f,e.props.drawOwner),e.props.onGeometryChanged([d],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"")})),d(p(e),"onUpdateGeom",(function(t,r){var n=e.convertFeaturesToGeoJson(t,r);r.onGeometryChanged([n],r.drawOwner)})),d(p(e),"addLayer",(function(t){e.clean();var r=S.geoJson(null,{pointToLayer:function(e,t){var r=P(e.radius,t,e.projection),n=r.center,o=r.radius;return S.circle(n,o||5)},style:function(e){return t.style&&t.style[e.geometry.type]||{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}});e.props.map.addLayer(r),t.features&&t.features.length>0&&r.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod)),e.drawLayer=r})),d(p(e),"addGeojsonLayer",(function(t){var r=t.features,n=t.projection,o=t.style;e.clean();var a=S.geoJson(r,{style:function(e){return e.style||o},pointToLayer:function(e,t){var r=A.reproject({x:t.lng,y:t.lat},n,"EPSG:4326");return _(S.latLng(r.y,r.x),e,o)}});e.drawLayer=a.addTo(e.props.map)})),d(p(e),"replaceFeatures",(function(t){e.drawLayer?(e.drawLayer.clearLayers(),"Circle"===e.props.drawMethod?(e.drawLayer.options.pointToLayer=function(e,t){var r=P(e.radius,t,e.projection),n=r.center,o=r.radius;return S.circle(n,o||5)},e.drawLayer.options.style={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}):e.drawLayer.options.pointToLayer=function(e,r){var n=A.reproject({x:r.lng,y:r.lat},t.options&&t.options.featureProjection||"EPSG:4326","EPSG:4326");return _(S.latLng(n.y,n.x),e,t.style)},e.drawLayer.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod))):e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style})})),d(p(e),"endDrawing",(function(t){e.replaceFeatures(t);var r=h(t.features);"Circle"!==e.props.drawMethod||!r||v(r.center)||v(r.radius)?r&&e.props.onEndDrawing(r,e.props.drawOwner):e.props.onEndDrawing(a(a({},r),{},{coordinates:A.calculateCircleCoordinates(r.center,r.radius,100)}),e.props.drawOwner)})),d(p(e),"addDrawInteraction",(function(t){e.removeAllInteractions(),"Point"===t.drawMethod||"MultiPoint"===t.drawMethod?e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}):e.addLayer(t),e.props.map.on("draw:created",e.onDrawCreated,p(e)),e.props.map.on("draw:drawstart",e.onDrawStart,p(e)),"LineString"===t.drawMethod||"Bearing"===t.drawMethod||"MultiLineString"===t.drawMethod?e.drawControl=new S.Draw.Polyline(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},showLength:!1,repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Polygon"===t.drawMethod||"MultiPolygon"===t.drawMethod?e.drawControl=new S.Draw.Polygon(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5],guidelineDistance:5},allowIntersection:!1,showLength:!1,showArea:!1,repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"BBOX"===t.drawMethod?e.drawControl=new S.Draw.Rectangle(e.props.map,{draw:!1,shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Circle"===t.drawMethod?e.drawControl=new S.Draw.Circle(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},showRadius:!1,repeatMode:!0}):"Point"!==t.drawMethod&&"MultiPoint"!==t.drawMethod||(e.drawControl=new S.Draw.Marker(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},repeatMode:!0})),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawControl.enable()})),d(p(e),"addDrawOrEditInteractions",(function(t){var r,n=g(t.features);n&&n.geometry&&n.geometry.type&&!w(n.geometry.type)&&("GeometryCollection"===n.geometry.type?r=n.geometry.geometries.map((function(e){return e.coordinates.map((function(t,r){return{type:"Feature",properties:a({},n.properties),id:e.type+r,geometry:{coordinates:t,type:E(e.type)}}}))})):(r=n.geometry.coordinates.map((function(e,t){return{type:"Feature",properties:a({},n.properties),id:n.geometry.type+t,geometry:{coordinates:e,type:E(n.geometry.type)}}})),n={type:"FeatureCollection",features:r}));var o=T({},t,{features:[n||{}]});e.drawLayer?(e.drawLayer.clearLayers(),e.drawLayer.addData(e.convertFeaturesPolygonToPoint(o.features,o.drawMethod))):e.addGeojsonLayer({features:t.features&&t.options.featureProjection&&"EPSG:4326"!==t.options.featureProjection?t.features.map((function(e){return A.reprojectGeoJson(e,t.options.featureProjection,"EPSG:4326")})):t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}),t.options.editEnabled&&e.addEditInteraction(o),t.options.drawEnabled&&e.addDrawInteraction(o)})),d(p(e),"addEditInteraction",(function(t){e.clean(),e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:T({},t.style,{poly:{icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}})});var r=e.drawLayer.getLayers();setTimeout((function(){r.forEach((function(r){r.getLayers&&r.getLayers()&&r.getLayers().length?r.getLayers().forEach((function(r){r.on("edit",(function(r){return e.onUpdateGeom(r.target,t)})),r.on("moveend",(function(r){return e.onUpdateGeom(r.target,t)})),r.editing&&r.editing.enable()})):(r.on("edit",(function(r){return e.onUpdateGeom(r.target,t)})),r.on("moveend",(function(r){return e.onUpdateGeom(r.target,t)})),r.editing&&r.editing.enable())}))}),0),e.editControl=new S.Control.Draw({edit:{featureGroup:e.drawLayer,poly:{allowIntersection:!1},edit:!0},draw:{polygon:{allowIntersection:!1,showArea:!0}}}),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable()})),d(p(e),"removeAllInteractions",(function(){e.removeEditInteraction(),e.removeDrawInteraction()})),d(p(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.props.options&&e.props.options.stopAfterDrawing&&(e.drawControl.setOptions({repeatMode:!1}),e.props.onDrawStopped()),e.drawControl.disable(),e.drawControl=null,e.props.map.off("draw:created",e.onDrawCreated,p(e)),e.props.map.off("draw:drawstart",e.onDrawStart,p(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),d(p(e),"removeEditInteraction",(function(){e.drawLayer&&(e.drawLayer.getLayers().forEach((function(e){e.getLayers&&e.getLayers()&&e.getLayers().length?e.getLayers().forEach((function(e){e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable()})):(e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable())})),e.editControl=null);e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable()})),d(p(e),"cleanAndStop",(function(){e.removeAllInteractions(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),d(p(e),"clean",(function(){e.removeEditInteraction(),e.removeDrawInteraction(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),d(p(e),"convertFeaturesPolygonToPoint",(function(e,t){return"Circle"===t?e.map((function(e){var t=void 0!==e.center&&void 0!==e.radius?P(e.radius,{lat:e.center.y,lng:e.center.x},e.projection):e,r=t.center,n=t.projection,o=t.radius;return a(a({},e),{},{coordinates:r?[r.x,r.y]:e.coordinates,center:r||e.center,projection:n||e.projection,radius:void 0!==o?o:e.radius,type:"Point"})})):e})),d(p(e),"convertFeaturesToGeoJson",(function(t,r){var n;if(w(r.drawMethod))n=t.toGeoJSON().geometry;else{if("GeometryCollection"===r.drawMethod)return{type:"GeometryCollection",geometries:e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()})).map((function(e){return"FeatureCollection"===e.type?{type:"Multi"+e.features[0].geometry.type,coordinates:e.features.map((function(e){return e.geometry.coordinates}))}:{type:e.geometry.type,coordinates:e.geometry.coordinates}}))};var o=e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()}));n={type:r.drawMethod,coordinates:o.reduce((function(e,t){return e.concat([t.geometry.coordinates])}),[])}}return T({},t.toGeoJSON(),{geometry:n})})),e}return t=u,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!(!this.props.messages&&!this.context.messages)&&this.context.messages.drawLocal;if(t&&(S.drawLocal=t),this.props.drawStatus!==e.drawStatus||"replace"===e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addGeojsonLayer({features:e.features,projection:e.options&&e.options.featureProjection||"EPSG:4326",style:e.style&&e.style[e.drawMethod]||e.style});break;case"start":this.addDrawInteraction(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeAllInteractions();break;case"replace":this.replaceFeatures(e);break;case"clean":this.cleanAndStop();break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);d(C,"displayName","DrawSupport"),d(C,"propTypes",{map:m.object,drawOwner:m.string,drawStatus:m.string,drawMethod:m.string,options:m.object,features:m.array,onChangeDrawingStatus:m.func,onGeometryChanged:m.func,onDrawStopped:m.func,onEndDrawing:m.func,messages:m.object,style:m.object}),d(C,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onEndDrawing:function(){},style:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1,editing:{fill:1}}}),e.exports=C},"./MapStore2/web/client/components/map/leaflet/Feature.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.isEqual,h=b.isArray,v=b.castArray,S=r("./node_modules/object-assign/index.js"),O=r("./node_modules/axios/index.js"),w=r("./MapStore2/web/client/utils/leaflet/Vector.js").geometryToLayer,E=r("./MapStore2/web/client/utils/VectorStyleUtils.js").createStylesAsync,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"createLayer",(function(t){t.geometry&&e.addFeature(a(a({},t),{},{style:t.style&&v(t.style)||void 0})),t.features&&t.features.forEach((function(r){var n=S({},t,{type:r.type,geometry:r.geometry,style:r.style&&v(r.style)||void 0,properties:r.properties});e.addFeature(n)}))})),d(p(e),"removeLayer",(function(t){e._layers&&(e._layers.forEach((function(e){t.container.removeLayer(e)})),e._layers=[])})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this._layers=[],(this.props.container&&this.props.geometry||this.props.features)&&this.createLayer(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){g(e.properties,this.props.properties)&&g(e.geometry,this.props.geometry)&&e.features===this.props.features&&e.style===this.props.style&&e.styleName===this.props.styleName||(this.removeLayer(e),this.createLayer(e))}},{key:"componentWillUnmount",value:function(){this.removeLayer(this.props)}},{key:"render",value:function(){return null}},{key:"addFeature",value:function(e){var t=this;if(h(e.style)){var r=E(e.style);O.all(r).then((function(r){t.addLayer(e,r)}))}else this.addLayer(e,e.style)}},{key:"addLayer",value:function(e,t){var r=this,n=w({type:e.type,geometry:e.geometry,properties:e.properties,msId:e.msId},{style:t,styleName:e.styleName});e.container.addLayer(n),n.on("click",(function(t){e.onClick&&e.onClick({pixel:{x:t.originalEvent&&t.originalEvent.x,y:t.originalEvent&&t.originalEvent.y},latlng:t.latlng},r.props.options.handleClickOnLayer?r.props.options.id:null)})),n.setOpacity||(n.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.originalStyle||this.options&&this.options.style||this.options||{};this.originalStyle=a({},t);var r=t.opacity,o=void 0===r?1:r,i=t.fillOpacity,s=void 0===i?1:i,l=t.color,c=t.fillColor,u=t.radius,p=t.weight,f={color:l,fillColor:c,radius:u,weight:p,opacity:o*e,fillOpacity:s*e};n.setStyle&&n.setStyle(f)}),this._layers.push(n)}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);d(j,"propTypes",{msId:m.oneOfType([m.string,m.number]),type:m.string,styleName:m.string,properties:m.object,container:m.object,geometry:m.object,features:m.array,style:m.object,onClick:m.func,options:m.object}),e.exports=j},"./MapStore2/web/client/components/map/leaflet/HighlightFeatureSupport.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").findIndex,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"setLayer",(function(){var t;e._layer&&e.cleanSupport(),e.props.map.eachLayer((function(r){r.layerId===e.props.layer&&(t=r)}),c(e)),void 0!==t&&t.on("click",e.featureClicked,c(e)),e._layer=t,e.highlightFeatures(e.props.features)})),p(c(e),"featureClicked",(function(t){var r=t.layer;if((t.originalEvent.ctrlKey||t.originalEvent.metaKey)&&r){var n=m(e._selectedFeatures,(function(e){return e===r}));-1!==n?(e._layer.resetStyle(r),e._selectedFeatures=e._selectedFeatures.filter((function(e,t){return t!==n})),r=null):e._selectedFeatures.push(r)}else e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._selectedFeatures=r?[r]:[];r&&(r.bringToFront(),r.setStyle(e.props.selectedStyle)),e.props.updateHighlighted(e._selectedFeatures.map((function(e){return e.msId})),"")})),p(c(e),"cleanSupport",(function(){e._layer&&(e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._layer.off("click",e.featureClicked,c(e))),e._selectedFeatures=[],e._layer=null,e.props.updateHighlighted([],"")})),p(c(e),"highlightFeatures",(function(t){e._layer||e.setLayer(),e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._selectedFeatures=[],e._layer.eachLayer((function(r){-1!==t.indexOf(r.msId)&&(e._selectedFeatures.push(r),r.bringToFront(),r.setStyle(e.props.selectedStyle))}),c(e))})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this._selectedFeatures=[],this._layer=null,"enabled"===this.props.status&&this.setLayer()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}},{key:"UNSAFE_componentWillUpdate",value:function(e){switch(e.status){case"enabled":this.setLayer();break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this.cleanSupport()}},{key:"render",value:function(){return null}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(y,"propTypes",{map:f.object,layer:f.string,status:f.oneOf(["disabled","enabled","update"]),updateHighlighted:f.func,selectedStyle:f.object,features:f.array}),p(y,"contextTypes",{messages:f.object}),p(y,"defaultProps",{status:"disabled",updateHighlighted:function(){},selectedStyle:{radius:12,weight:4,opacity:1,fillOpacity:1,color:"yellow",fillColor:"red"},features:[]}),e.exports=y},"./MapStore2/web/client/components/map/leaflet/Layer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./MapStore2/web/client/utils/leaflet/Layers.js"),g=r("./node_modules/object-assign/index.js"),h=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?e.addLayer():e.removeLayer(),e.updateZIndex())})),d(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity&&e.layer.setOpacity(t)})),d(p(e),"generateOpts",(function(t,r,n){return g({},t,r?{zIndex:r,srs:e.props.srs}:null,{zoomOffset:-e.props.zoomOffset,onError:function(){e.props.onCreationError(t)},securityToken:n})})),d(p(e),"updateZIndex",(function(t){var r=t||e.props.position;r&&e.layer&&e.layer.setZIndex&&e.layer.setZIndex(r)})),d(p(e),"createLayer",(function(t,r,n,o){if(t){var a=e.generateOpts(r,n,o);e.layer=b.createLayer(t,a),e.layer&&(e.layer.layerName=r.name,e.layer.layerId=r.id),e.forceUpdate()}})),d(p(e),"updateLayer",(function(t,r){var n=b.updateLayer(t.type,e.layer,e.generateOpts(t.options,t.position,t.securityToken),e.generateOpts(r.options,r.position,r.securityToken));n&&(e.removeLayer(),e.layer=n,e.addLayer())})),d(p(e),"addLayer",(function(){if(e.isValid()&&(e.props.map.addLayer(e.layer),e.props.options.refresh&&e.layer.setParams)){var t=0;e.refreshTimer=setInterval((function(){e.layer.setParams(g({},e.props.options.params,{_refreshCounter:t++}))}),e.props.options.refresh)}})),d(p(e),"removeLayer",(function(){e.isValid()&&e.props.map.removeLayer(e.layer)})),d(p(e),"isValid",(function(){if(e.layer){var t=b.isValid(e.props.type,e.layer);return e.valid=t,t}return!1})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.valid=!0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var r=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(r),e.position!==this.props.position&&this.updateZIndex(e.position),this.updateLayer(e,this.props)}},{key:"shouldComponentUpdate",value:function(e){var t=this;return!["map","type","srs","position","zoomOffset","onClick","options","children"].reduce((function(r,n){switch(n){case"map":case"type":case"srs":case"position":case"zoomOffset":case"onClick":case"children":return r&&t.props[n]===e[n];case"options":return r&&(t.props[n]===e[n]||h(a(a({},t.props[n]),{},{loading:!1}),a(a({},e[n]),{},{loading:!1})));default:return r}}),!0)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.removeLayer(),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?y.Children.map(this.props.children,(function(r){return r?y.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName,onClick:e.props.onClick,options:e.props.options||{}}):null})):null;return y.createElement(y.Fragment,null,r)}return b.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);d(v,"propTypes",{map:m.object,type:m.string,srs:m.string,options:m.object,position:m.number,zoomOffset:m.number,onCreationError:m.func,onClick:m.func,securityToken:m.string}),d(v,"defaultProps",{onCreationError:function(){},options:{}}),e.exports=v},"./MapStore2/web/client/components/map/leaflet/Locate.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./MapStore2/web/client/libs/leaflet.js"),y=r("./node_modules/object-assign/index.js");r("./node_modules/leaflet.locatecontrol/src/L.Control.Locate.js"),r("./node_modules/leaflet.locatecontrol/dist/L.Control.Locate.css");var b={follow:!0,remainActive:!0,stopFollowingOnDrag:!0,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:1/0,watch:!0}};m.Control.MSLocate=m.Control.Locate.extend({setMap:function(e){this._map=e,this._layer=this.options.layer||new m.LayerGroup,this._layer.addTo(e),this._event=void 0,this._prevBounds=null;var t={};m.extend(t,this.options.markerStyle,this.options.followMarkerStyle),this.options.followMarkerStyle=t,t={},m.extend(t,this.options.circleStyle,this.options.followCircleStyle),this.options.followCircleStyle=t,this._resetVariables(),this._map.on("unload",this._unload,this)},_setClasses:function(e){return this._map.fire("locatestatus",{state:e}),e},_updateContainerStyle:function(){this._isFollowing()?this._setClasses("following"):this._active&&this._setClasses("active")},_cleanClasses:function(){return null},setStrings:function(e){this.options.strings=y({},this.options.strings,e)}});var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),p(c(e),"locateControlState",(function(t){"requesting"===t.state&&"LOCATING"!==e.props.status?e.props.changeLocateState("LOCATING"):"following"!==t.state||e.fol?"active"===t.state&&"ENABLED"!==e.props.status&&e.props.changeLocateState("ENABLED"):e.props.changeLocateState("FOLLOWING")})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.props.map&&(this.locate=new m.Control.MSLocate(b),this.locate.setMap(this.props.map),this.props.map.on("locatestatus",this.locateControlState),this.locate.options.onLocationError=this.onLocationError,this.locate.options.onLocationOutsideMapBounds=this.onLocationError),this.props.status.enabled&&this.locate.start()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fol=!1,e.status!==this.props.status&&("ENABLED"!==e.status||this.locate._active?"FOLLOWING"===e.status&&this.locate._active&&!this.locate._following?(this.fol=!0,this.locate.stop(),this.locate.start()):"DISABLED"===e.status&&(this.locate._following=!1,this.locate.stop()):this.locate.start()),e.messages!==this.props.messages&&(this.locate.setStrings(e.messages),"DISABLED"!==e.status&&this.locate.drawMarker(this.locate._map))}},{key:"render",value:function(){return null}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(g,"displayName","Locate"),p(g,"propTypes",{map:f.object,status:f.string,messages:f.object,changeLocateState:f.func,onLocateError:f.func}),p(g,"defaultProps",{id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}}),e.exports=g},"./MapStore2/web/client/components/map/leaflet/Map.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./MapStore2/web/client/libs/leaflet.js"),d=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./MapStore2/web/client/utils/ConfigUtils.js"),b=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),g=r("./node_modules/object-assign/index.js"),h=r("./MapStore2/web/client/utils/MapUtils.js"),v=r("./node_modules/rxjs/Rx.js"),S=r("./MapStore2/node_modules/lodash/lodash.js").throttle;r("./MapStore2/web/client/components/map/leaflet/SingleClick.js");var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{}),p(c(e),"getDocument",(function(){return e.props.document||document})),p(c(e),"getResolutions",(function(){return e.props.resolutions})),p(c(e),"_updateMapPositionFromNewProps",(function(t){var r=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0},n=t.center,o=e.props.center,a=e.map.getCenter(),i=r(n.x,o.x)&&r(n.y,o.y)||r(n.x,a.lng)&&r(n.y,a.lat),s=t.zoom,l=e.props.zoom,c=e.map.getZoom(),u=s===l||s===c;i||u?u?i||e.map.setView([t.center.y,t.center.x]):e.map.setZoom(t.zoom):e.map.setView([t.center.y,t.center.x],Math.round(t.zoom))})),p(c(e),"updateMapInfoState",(function(){var t=e.map.getBounds().toBBoxString().split(","),r={height:e.map.getSize().y,width:e.map.getSize().x},n=e.map.getCenter();e.props.onMapViewChanges({x:n.lng,y:n.lat,crs:"EPSG:4326"},e.map.getZoom(),{bounds:{minx:parseFloat(t[0]),miny:parseFloat(t[1]),maxx:parseFloat(t[2]),maxy:parseFloat(t[3])},crs:"EPSG:4326",rotation:0},r,e.props.id,e.props.projection)})),p(c(e),"setMousePointer",(function(t){e.map&&(e.map.getContainer().style.cursor=t||"auto")})),p(c(e),"mouseMoveEvent",(function(t){var r=t.latlng.wrap();e.props.onMouseMove({x:r.lng||0,y:r.lat||0,z:e.elevationLayer&&e.elevationLayer.getElevation(r,t.containerPoint)||void 0,crs:"EPSG:4326",pixel:{x:t.containerPoint.x,y:t.containerPoint.x},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng]})})),p(c(e),"registerHooks",(function(){e.props.hookRegister.registerHook(h.EXTENT_TO_ZOOM_HOOK,(function(t){var r=b.reproject([t[0],t[1]],e.props.projection,"EPSG:4326"),n=b.reproject([t[2],t[3]],e.props.projection,"EPSG:4326");return e.map.getBoundsZoom([[r.y,r.x],[n.y,n.x]])-1})),e.props.hookRegister.registerHook(h.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(h.COMPUTE_BBOX_HOOK,(function(t,r){var n=f.latLng([t.y,t.x]),o=e.map._getNewPixelOrigin(n,r),a=new f.Bounds(o,o.add(e.map.getSize())),i=e.map.unproject(a.getBottomLeft(),r),s=e.map.unproject(a.getTopRight(),r),l=new f.LatLngBounds(i,s).toBBoxString().split(",");return{bounds:{minx:parseFloat(l[0]),miny:parseFloat(l[1]),maxx:parseFloat(l[2]),maxy:parseFloat(l[3])},crs:"EPSG:4326",rotation:0}})),e.props.hookRegister.registerHook(h.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){var r=b.reproject(t,e.props.projection,"EPSG:4326"),n=e.map.latLngToContainerPoint([r.y,r.x]);return[n.x,n.y]})),e.props.hookRegister.registerHook(h.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){var r=e.map.containerPointToLatLng(t),n=b.reproject([r.lng,r.lat],"EPSG:4326",e.props.projection);return[n.x,n.y]})),e.props.hookRegister.registerHook(h.ZOOM_TO_EXTENT_HOOK,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.padding,o=r.crs,a=r.maxZoom,i=r.duration,s=n&&f.point(n.left||0,n.top||0),l=n&&f.point(n.right||0,n.bottom||0),c=b.reprojectBbox(t,o,"EPSG:4326");e.map.fitBounds([[c[1],c[0]],[c[3],c[2]]],{paddingTopLeft:s,paddingBottomRight:l,maxZoom:a,duration:i,animate:0!==i&&void 0})}))})),p(c(e),"addLayerObservable",(function(t,r){!t.layer.layerId||t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&r&&(t.layer._ms2LoadingTileCount=0,t.layer.layerLoadingStream$=new v.Subject,t.layer.layerLoadStream$=new v.Subject,t.layer.layerErrorStream$=new v.Subject,t.layer.layerErrorStream$.bufferToggle(t.layer.layerLoadingStream$,(function(){return t.layer.layerLoadStream$})).subscribe({next:function(r){var n=t.layer._ms2LoadingTileCount||r&&r.length||0;r&&r.length>0&&e.props.onLayerError(r[0].target.layerId,n,r.length),t.layer._ms2LoadingTileCount=0}}))})),e}return t=u,(r=[{key:"UNSAFE_componentWillMount",value:function(){if(this.zoomOffset=0,this.props.mapOptions&&this.props.mapOptions.view&&this.props.mapOptions.view.resolutions&&this.props.mapOptions.view.resolutions.length>0){var e=f.CRS.EPSG3857.scale,t=this.props.mapOptions.view.resolutions[0]/h.getGoogleMercatorResolutions(0,23)[0];this.crs=g({},f.CRS.EPSG3857,{scale:function(r){return e.call(f.CRS.EPSG3857,r)/Math.pow(2,Math.round(Math.log2(t)))}}),this.zoomOffset=Math.round(Math.log2(t))}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.limits,r=void 0===t?{}:t,n=r.restrictedExtent&&r.crs&&b.reprojectBbox(r.restrictedExtent,r.crs,"EPSG:4326"),o=g({},this.props.interactive?{}:{dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,attributionControl:!1,maxBounds:n&&f.latLngBounds([[n[1],n[0]],[n[3],n[2]]]),maxBoundsViscosity:n&&1,minZoom:r&&r.minZoom,maxZoom:r&&r.maxZoom||23},this.props.mapOptions,this.crs?{crs:this.crs}:{}),a=f.map(this.getDocument().getElementById(this.props.id),g({zoomControl:!1},o)).setView([this.props.center.y,this.props.center.x],Math.round(this.props.zoom));this.map=a,this.props.zoomControl&&(this.mapZoomControl=f.control.zoom(),this.map.addControl(this.mapZoomControl)),this.attribution=f.control.attribution(),this.attribution.addTo(this.map);var i=this.getDocument();this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&(i.querySelector(this.props.mapOptions.attribution.container).appendChild(this.attribution.getContainer()),i.querySelector(".leaflet-control-container .leaflet-control-attribution")&&i.querySelector(".leaflet-control-container .leaflet-control-attribution").parentNode.removeChild(i.querySelector(".leaflet-control-container .leaflet-control-attribution"))),this.map.on("moveend",this.updateMapInfoState),this.map.on("singleclick",(function(t){e.props.onClick&&e.props.onClick({pixel:{x:t.containerPoint.x,y:t.containerPoint.y},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng],modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,shift:t.originalEvent.shiftKey}})}));var s=S(this.mouseMoveEvent,100);this.map.on("dragstart",(function(){e.map.off("mousemove",s)})),this.map.on("dragend",(function(){e.map.on("mousemove",s)})),this.map.on("mousemove",s),this.map.on("contextmenu",(function(){e.props.onRightClick&&e.props.onRightClick(event.containerPoint)})),this.map.on("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.map.on("layeradd",(function(t){if(t.layer._ms2Added){var r=t.layer.layerLoadingStream$&&t.layer.layerLoadingStream$.isStopped;e.addLayerObservable(t,r)}else t.layer._ms2Added=!0,t.layer.getElevation&&(e.elevationLayer=t.layer),t.layer.layerId&&(t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&(e.addLayerObservable(t,!0),t.layer.options&&t.layer.options.hideLoading||(e.props.onLayerLoading(t.layer.layerId),t.layer.layerLoadingStream$.next()),t.layer.on("loading",(function(r){e.props.onLayerLoading(r.target.layerId),t.layer.layerLoadingStream$.next()})),t.layer.on("load",(function(r){e.props.onLayerLoad(r.target.layerId),t.layer.layerLoadStream$.next()})),t.layer.on("tileloadstart ",(function(){t.layer._ms2LoadingTileCount++})),(t.layer.options&&!t.layer.options.hideErrors||!t.layer.options)&&t.layer.on("tileerror",(function(e){t.layer.layerErrorStream$.next(e)})),t.layer.on("loaderror",(function(t){e.props.onLayerError(t.target.layerId)}))))})),this.map.on("layerremove",(function(e){e.layer.layerLoadingStream$&&(e.layer.layerLoadingStream$.complete(),e.layer.layerLoadStream$.complete(),e.layer.layerErrorStream$.complete())})),this.drawControl=null,this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),this.map&&e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?(this.mapZoomControl=f.control.zoom(),this.map.addControl(this.mapZoomControl)):this.mapZoomControl&&!e.zoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0)),e.resize!==this.props.resize&&setTimeout((function(){t.map&&t.map.invalidateSize(!1)}),0),this.props.limits!==e.limits){var r=e.limits,n=void 0===r?{}:r,o=this.props.limits;if(n.restrictedExtent!==(o&&o.restrictedExtent)){var a=n.restrictedExtent&&n.crs&&b.reprojectBbox(n.restrictedExtent,n.crs,"EPSG:4326");this.map.setMaxBounds(n.restrictedExtent&&f.latLngBounds([[a[1],a[0]],[a[3],a[2]]]))}n.minZoom!==(o&&o.minZoom)&&this.map.setMinZoom(n.minZoom)}return!1}},{key:"componentWillUnmount",value:function(){var e=this.getDocument(),t=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&e.querySelector(this.props.mapOptions.attribution.container);if(t&&this.attribution.getContainer()&&t.querySelector(".leaflet-control-attribution"))try{t.removeChild(this.attribution.getContainer())}catch(e){}this.mapZoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0),this.map.off(),this.map.remove(),this.map=void 0}},{key:"render",value:function(){var e=this,t=this.map,r=this.props.projection,n=t?m.Children.map(this.props.children,(function(n){return n?m.cloneElement(n,{map:t,projection:r,zoomOffset:e.zoomOffset,onCreationError:e.props.onCreationError,onClick:e.props.onClick}):null})):null;return m.createElement("div",{id:this.props.id,style:this.props.style},n)}}])&&a(t.prototype,r),n&&a(t,n),u}(m.Component);p(O,"propTypes",{id:d.string,document:d.object,center:y.PropTypes.center,zoom:d.number.isRequired,mapStateSource:y.PropTypes.mapStateSource,style:d.object,projection:d.string,onMapViewChanges:d.func,onClick:d.func,onRightClick:d.func,mapOptions:d.object,limits:d.object,zoomControl:d.bool,mousePointer:d.string,onMouseMove:d.func,onLayerLoading:d.func,onLayerLoad:d.func,onLayerError:d.func,resize:d.number,measurement:d.object,changeMeasurementState:d.func,registerHooks:d.bool,interactive:d.bool,resolutions:d.array,hookRegister:d.object,onCreationError:d.func,onMouseOut:d.func}),p(O,"defaultProps",{id:"map",onMapViewChanges:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},zoomControl:!0,mapOptions:{zoomAnimation:!0,attributionControl:!1},projection:"EPSG:3857",center:{x:13,y:45,crs:"EPSG:4326"},zoom:5,onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:h,style:{},interactive:!0,resolutions:h.getGoogleMercatorResolutions(0,23),onMouseOut:function(){}}),e.exports=O},"./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./node_modules/prop-types/index.js"),g=r("./node_modules/react/index.js"),h=r("./node_modules/object-assign/index.js"),v=r("./MapStore2/web/client/libs/leaflet.js"),S=r("./MapStore2/node_modules/lodash/lodash.js").slice,O=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),w=O.reproject,E=O.calculateAzimuth,j=O.calculateDistance,T=O.transformLineToArcs,A=r("./MapStore2/web/client/utils/MeasureUtils.js"),_=A.convertUom,x=A.getFormattedBearingValue;r("./node_modules/leaflet-draw/dist/leaflet.draw.js");var M={km:2,ha:2,m:2,mi:2,ac:2,yd:0,ft:0,nm:2,sqkm:2,sqha:2,sqm:2,sqmi:2,sqac:2,sqyd:2,sqft:2,sqnm:2};v.getMeasureWithTreshold=function(e,t,r,n,o,a,i){return e>t?v.GeometryUtil.formattedNumber(_(e,r,n),o[n])+" "+i:v.GeometryUtil.formattedNumber(e,o[r])+" "+a};var P=v.GeometryUtil.readableDistance;v.GeometryUtil.readableDistance=function(e,t,r,n,o,a){if(!a)return P.apply(null,arguments);if("Bearing"===a.geomType)return a.bearing;var i=v.Util.extend({},M,o),s=a.uom.length,l=s.unit,c=s.label,u=v.GeometryUtil.formattedNumber(_(e,"m",l),i[l])+" "+c;return a.useTreshold&&(t&&(u=v.getMeasureWithTreshold(e,1e3,"m","km",i,"m","km")),"mi"===l&&(u=v.getMeasureWithTreshold(_(e,"m","yd"),1760,"yd","mi",i,"yd","mi"))),u};var C=v.GeometryUtil.readableArea;v.GeometryUtil.readableArea=function(e,t,r,n){if(!n)return C.apply(null,arguments);var o=n.uom.area,a=o.unit,i=o.label,s=v.Util.extend({},M,r),l=v.GeometryUtil.formattedNumber(_(e,"sqm",a),s[a])+" "+i;return n.useTreshold&&(t&&(l=v.getMeasureWithTreshold(e,1e6,"sqm","sqkm",s,"m²","km²")),"sqmi"===a&&(l=v.getMeasureWithTreshold(_(e,"sqm","sqyd"),3097600,"sqyd","sqmi",s,"yd²","mi²"))),l};var L=v.Draw.Polygon.prototype._getMeasurementString;v.Draw.Polygon.prototype._getMeasurementString=function(){if(!this.options.uom)return L.apply(this,arguments);var e=this._area,t="";if(!e&&!this.options.showLength)return null;if(this.options.showLength&&(t=v.Draw.Polyline.prototype._getMeasurementString.call(this)),e){var r={uom:this.options.uom,useTreshold:this.options.useTreshold};t+=this.options.showLength?"<br>":""+v.GeometryUtil.readableArea(e,this.options.metric,this.options.precision,r)}return t};var R=v.Draw.Polyline.prototype._getMeasurementString;v.Draw.Polyline.prototype._getMeasurementString=function(){if(!this.options.uom)return R.apply(this,arguments);var e,t=this._currentLatLng,r=this._markers[this._markers.length-1].getLatLng();e=v.GeometryUtil.isVersion07x()?r&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(r)*(this.options.factor||1):this._measurementRunningTotal||0:r&&t?this._measurementRunningTotal+this._map.distance(t,r)*(this.options.factor||1):this._measurementRunningTotal||0;var n={uom:this.options.uom,useTreshold:this.options.useTreshold,geomType:this.options.geomType,bearing:this.options.bearing?x(this.options.bearing,this.options.trueBearing):0};return v.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision,n)};var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,r,n,o=p(s);function s(){var e;l(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(d(e=o.call.apply(o,[this].concat(r))),"onDrawStart",(function(){e.props.map.off("click",e.restartDrawing,d(e)),e.removeArcLayer(),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawing=!0})),y(d(e),"onDrawCreated",(function(t){e.drawing=!1,e.props.map.addLayer(t.layer),e.lastLayer=t.layer;var r=e.lastLayer&&e.lastLayer.toGeoJSON()||{};if("LineString"===e.props.measurement.geomType&&(r=h({},r,{geometry:h({},r.geometry,{coordinates:T(r.geometry.coordinates)})})),"Point"===e.props.measurement.geomType){var n=e.drawControl._marker.getLatLng(),o={x:n.lng,y:n.lat,srs:"EPSG:4326"},a=h({},e.props.measurement,{point:o,feature:r});e.props.changeMeasurementState(a)}else{var i=h({},e.props.measurement,{feature:r});e.props.changeMeasurementState(i)}e.props.measurement.lineMeasureEnabled&&e.lastLayer&&e.addArcsToMap([r]),setTimeout((function(){e.props.map.off("click",e.restartDrawing,d(e)),e.props.map.on("click",e.restartDrawing,d(e))}),100)})),y(d(e),"onDrawVertex",(function(){var t=e.drawControl._markers||[];"Bearing"===e.props.measurement.geomType&&t.length>=2?setTimeout((function(){e.drawControl._markers=S(e.drawControl._markers,0,2),e.drawControl._poly._latlngs=S(e.drawControl._poly._latlngs,0,2),e.drawControl._poly._originalPoints=S(e.drawControl._poly._originalPoints,0,2),e.updateMeasurementResults(),e.drawControl._finishShape(),e.drawControl.disable()}),100):e.updateMeasurementResults()})),y(d(e),"addArcsToMap",(function(t){e.removeLastLayer();var r=t.map((function(e){return h({},e,{geometry:h({},e.geometry,{coordinates:T(e.geometry.coordinates)})})}));e.arcLayer=v.geoJson(r,{style:{color:"#ffcc33",opacity:1,weight:1,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}),e.props.map.addLayer(e.arcLayer),r&&r.length>0&&e.arcLayer.addData(r)})),y(d(e),"updateMeasurementResults",(function(){if(e.drawing&&e.drawControl){var t=0,r=0,n=0,o=e.drawControl._currentLatLng;if("LineString"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>1){var a=e.drawControl._markers.reduce((function(e,t){var r=t.getLatLng(),n=r.lng,o=r.lat;return[].concat(i(e),[[n,o]])}),[]);t=j(a,e.props.measurement.lengthFormula)}else if("Polygon"===e.props.measurement.geomType&&e.drawControl._poly){var s=[].concat(i(e.drawControl._poly.getLatLngs()),[o]);r=v.GeometryUtil.geodesicArea(s)}else"Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0&&(n=e.calculateBearing());var l=h({},e.props.measurement,{point:null,len:t,area:r,bearing:n});e.props.changeMeasurementState(l)}})),y(d(e),"restartDrawing",(function(){e.props.map.off("click",e.restartDrawing,d(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable(),e.props.map.removeLayer(e.lastLayer),e.drawControl.enable(),e.drawing=!0})),y(d(e),"addDrawInteraction",(function(t){if(e.removeDrawInteraction(),e.props.map.on("draw:created",e.onDrawCreated,d(e)),e.props.map.on("draw:drawstart",e.onDrawStart,d(e)),e.props.map.on("draw:drawvertex",e.onDrawVertex,d(e)),e.props.map.on("mousemove",e.updateBearing,d(e)),e.props.updateOnMouseMove&&e.props.map.on("mousemove",e.updateMeasurementResults,d(e)),"Point"===t.measurement.geomType)e.drawControl=new v.Draw.Marker(e.props.map,{repeatMode:!1});else if("LineString"===t.measurement.geomType||"Bearing"===t.measurement.geomType){var r=e.uomLengthOptions(t);e.drawControl=new v.Draw.Polyline(e.props.map,a(a({shapeOptions:{color:"#ffcc33",weight:2},showLength:!0,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},r),{},{repeatMode:!1,icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),trueBearing:t.measurement.trueBearing}))}else if("Polygon"===t.measurement.geomType){var n=e.uomAreaOptions(t);e.drawControl=new v.Draw.Polygon(e.props.map,a(a({shapeOptions:{color:"#ffcc33",weight:2,fill:"rgba(255, 255, 255, 0.2)"},showArea:!0,allowIntersection:!1,showLength:!1,repeatMode:!1,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},n),{},{icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}))}e.drawControl.enable()})),y(d(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.drawControl.disable(),e.drawControl=null,e.removeLastLayer(),e.removeArcLayer(),e.props.map.off("draw:created",e.onDrawCreated,d(e)),e.props.map.off("draw:drawstart",e.onDrawStart,d(e)),e.props.map.off("draw:drawvertex",e.onDrawVertex,d(e)),e.props.map.off("mousemove",e.updateBearing,d(e)),e.props.map.off("click",e.restartDrawing,d(e)),e.props.updateOnMouseMove&&e.props.map.off("mousemove",e.updateMeasurementResults,d(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),y(d(e),"removeLastLayer",(function(){e.lastLayer&&e.props.map.removeLayer(e.lastLayer)})),y(d(e),"removeArcLayer",(function(){e.arcLayer&&e.props.map.removeLayer(e.arcLayer)})),y(d(e),"uomLengthOptions",(function(e){var t=e.uom.length.unit;return{metric:"m"===t||"km"===t,nautic:"nm"===t,feet:"ft"===t}})),y(d(e),"uomAreaOptions",(function(e){var t=e.uom.area.unit;return{metric:"sqm"===t||"sqkm"===t,nautic:"sqnm"===t,feet:"sqft"===t}})),y(d(e),"calculateBearing",(function(){var t,r=e.drawControl._currentLatLng,n=e.drawControl._markers,o=[n[0].getLatLng().lng,n[0].getLatLng().lat];return 1===n.length?t=[r.lng,r.lat]:2===n.length&&(t=[n[1].getLatLng().lng,n[1].getLatLng().lat]),o=w(o,"EPSG:4326",e.props.projection),t=w(t,"EPSG:4326",e.props.projection),E(o,t,e.props.projection)})),y(d(e),"updateBearing",(function(){if("Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0){var t=e.props.measurement&&e.props.measurement.trueBearing;e.drawControl.setOptions({bearing:e.calculateBearing(),trueBearing:t})}})),e}return t=s,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if((e&&e.uom&&e.uom.length&&e.uom.length.unit)!==(this.props&&this.props.uom&&this.props.uom.length&&this.props.uom.length.unit)&&this.drawControl){var t=this.uomLengthOptions(e);this.drawControl.setOptions(a(a({},t),{},{uom:e.uom}))}if((e&&e.uom&&e.uom.area&&e.uom.area.unit)!==(this.props&&this.props.uom&&this.props.uom.area&&this.props.uom.area.unit)&&this.drawControl){var r=this.uomAreaOptions(e);this.drawControl.setOptions(a(a({},r),{},{uom:e.uom}))}(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&this.props.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&this.addDrawInteraction(e),e.measurement.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){var e=this.props.messages||!!this.context.messages&&this.context.messages.drawLocal;return e&&(v.drawLocal=e),null}}])&&c(t.prototype,r),n&&c(t,n),s}(g.Component);y(I,"displayName","MeasurementSupport"),y(I,"propTypes",{map:b.object,metric:b.bool,feet:b.bool,nautic:b.bool,enabled:b.bool,useTreshold:b.bool,projection:b.string,measurement:b.object,changeMeasurementState:b.func,messages:b.object,uom:b.object,updateOnMouseMove:b.bool}),y(I,"contextTypes",{messages:b.object}),y(I,"defaultProps",{uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},updateOnMouseMove:!1,metric:!0,nautic:!1,useTreshold:!1,feet:!1}),e.exports=I},"./MapStore2/web/client/components/map/leaflet/Overview.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),d=r("./node_modules/leaflet-minimap/dist/Control.MiniMap.min.js"),m=r("./MapStore2/web/client/libs/leaflet.js"),y=r("./MapStore2/web/client/utils/leaflet/Layers.js"),b=r("./node_modules/object-assign/index.js");r("./MapStore2/web/client/components/map/leaflet/overview.css");var g={position:"bottomright",width:300,height:150,collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,zoomLevelFixed:null,zoomAnimation:!1,toggleDisplay:!0,autoToggleDisplay:!1,minimized:!0},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"componentDidMount",value:function(){var e=b({},g,this.props.overviewOpt);if(this.props.layers){var t=[];this.props.layers.forEach((function(e){t.push(y.createLayer(e.type,e.options||{}))})),1===t.length?this.overview=new d(t[0],e):t.length>1&&(this.overview=new d(m.layerGroup(t),e))}this.props.map&&this.overview&&this.overview.addTo(this.props.map)}},{key:"render",value:function(){return null}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);u(h,"displayName","Overview"),u(h,"propTypes",{map:p.object,overviewOpt:p.object,layers:p.array}),u(h,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]}),e.exports=h},"./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return _}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/react-dom/index.js"),i=r.n(a),s=r("./node_modules/prop-types/index.js"),l=r.n(s),c=r("./MapStore2/web/client/libs/leaflet.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/isString.js"),f=r.n(p),d=r("./MapStore2/web/client/utils/PopupUtils.js"),m=r("./MapStore2/web/client/components/map/popups/index.js");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j(e);if(t){var o=j(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(e,t){var r=new MutationObserver((function(){e.update()}));e.once("remove",(function(){r&&r.disconnect(),r=null})),r.observe(t,{attributes:!0,childList:!0,subtree:!0})},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,e);var t,r,n,a=O(s);function s(){var e;h(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return T(E(e=a.call.apply(a,[this].concat(r))),"updatePopup",(function(){(e._popups||[]).map((function(e){return e.popup.update()}))})),T(E(e),"popupClose",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.target,n=(r=void 0===r?{}:r).options,o=(n=void 0===n?{}:n).id;o&&e.props.onPopupClose(o)})),T(E(e),"preparePopups",(function(){var t=e.props,r=t.popups,n=void 0===r?[]:r,o=t.map,a=e.props.map.getSize();return(e._popups||[]).forEach((function(t){var r=t.popup;r.off("remove",e.popupClose),r&&e.props.map.removeLayer(r)})),e._popups=n.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=.9*a.x,n=.9*a.y,i=t.id,s=t.position.coordinates,l=t.component,c=t.content,p=t.className,f=t.maxWidth,m=void 0===f?r:f,y=t.maxHeight,b=void 0===y?n:y,h=t.autoPan,v=void 0===h||h,S=t.offset,O=void 0===S?[0,7]:S,w=m>r?r:m,E=b>n?n:b,j=d.b(i,p);j.setAttribute("style","max-width: ".concat(w,"px; max-height: ").concat(E,"px")),d.a(j,c);var T=u.a.popup({id:i,autoClose:!1,closeOnClick:!1,autoPan:v,autoPanPadding:u.a.point(70,70),maxWidth:w,maxHeight:E,className:"ms-leaflet-popup",offset:O}).setContent(j);return T.once("remove",e.popupClose),l&&A(T,j),T.setLatLng(s),o.addLayer(T),g({popup:T},t)})),e._popups})),T(E(e),"stopPropagationOnMouseMove",(function(e){e.stopPropagation()})),T(E(e),"fireMouseOutEvent",(function(){e.props.map.fireEvent("mouseout")})),e}return t=s,(r=[{key:"componentWillMount",value:function(){this.props.map&&(this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"componentDidMount",value:function(){this.props.map&&this.props.map.on("resize",this.updatePopup)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){var e=this;(this._popups||[]).forEach((function(t){var r,n,o=t.popup;o.off("remove",e.popupClose),o&&(null===(r=e.props.map)||void 0===r||null===(n=r.removeLayer)||void 0===n||n.call(r,o))})),this.props.map&&(this.props.map.off("resize",this.updatePopup),this.props.map.getContainer().removeEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().removeEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"renderPopups",value:function(){return this.preparePopups().filter((function(e){return!!e.component})).map((function(e){var t=e.popup,r=e.props,n=void 0===r?{}:r,a=e.component,s=e.id,l=t.getContent(),c=f()(a)&&m.default[a]||a,u=o.a.isValidElement(c)&&c||o.a.createElement(c,n);return l?i.a.createPortal(u,l,s):null}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&v(t.prototype,r),n&&v(t,n),s}(o.a.Component);T(_,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),T(_,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),d=r("./MapStore2/web/client/libs/leaflet.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"componentDidMount",value:function(){if(this.scalebar=d.control.scale(this.props),this.props.map&&(this.scalebar.addTo(this.props.map),this.props.container)){document.querySelector(this.props.container).appendChild(this.scalebar.getContainer());var e=document.querySelector(".leaflet-control-container .leaflet-control-scale-line");e&&e.parentNode&&e.parentNode.removeChild(e)}}},{key:"componentWillUnmount",value:function(){if(this.props.container&&this.scalebar&&this.scalebar.getContainer())try{document.querySelector(this.props.container).removeChild(this.scalebar.getContainer())}catch(e){}}},{key:"render",value:function(){return null}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);u(m,"propTypes",{map:p.object,position:p.oneOf(["topleft","topright","bottomleft","bottomright"]),maxWidth:p.number,metric:p.bool,imperial:p.bool,updateWhenIdle:p.bool,container:p.string}),u(m,"defaultProps",{map:null,position:"bottomleft",maxWidth:100,metric:!0,imperial:!1,updateWhenIdle:!1}),e.exports=m},"./MapStore2/web/client/components/map/leaflet/SingleClick.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js");n.Evented.addInitHook((function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)})),n.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(e){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,e),this.options.singleClickTimeout||500)},_fireSingleClick:function(e){e.originalEvent._stopped||this.fire("singleclick",n.Util.extend(e,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!==this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},"./MapStore2/web/client/components/map/leaflet/img/toggle.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAH1JREFUOI3t0DEKAjEQheFP8ERWqfUCeg9rL+adbKxkYRFEY7ERhkUhCZb7wyuGYX5ewkIvK6z/ITpjxOHHPtWKrsh4fJEl3GpF29LoI9sHSS6pZjeTnTD0iOayjFevCI7hOKaJZHpObNIsih/b3WiDSzgaS+5lfrY0Wph4A4kFM89VzdVFAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/map/leaflet/img/toggle.svg":function(e,t,r){e.exports=r.p+"toggle.svg"},"./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js"),o=r("./MapStore2/web/client/utils/leaflet/Layers.js");r("./node_modules/leaflet-plugins/layer/tile/Bing.js");var a=r("./node_modules/object-assign/index.js");n.BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+n.Util.stamp(this);window[t]=function(r){e.meta=r,window[t]=void 0;var n=document.getElementById(t);return n.parentNode.removeChild(n),r.errorDetails?(e.fire("load",{layer:e}),e.onError(r)):(e.initMetadata(r),null)};var r="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),o=r+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+r,a=document.createElement("script");a.type="text/javascript",a.src=o,a.id=t,document.getElementsByTagName("head")[0].appendChild(a)}},n.BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},o.registerType("bing",{create:function(e){var t=e.apiKey,r={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(r=a({},r,{zoomOffset:e.zoomOffset})),new n.BingLayer(t,r)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},"./MapStore2/web/client/components/map/leaflet/plugins/Commons.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js");e.exports=n.TileLayer.extend({initialize:function(e){n.TileLayer.prototype.initialize.call(this,this.url,e)}})},"./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/web/client/libs/leaflet.js");r("./node_modules/leaflet.gridlayer.googlemutant/Leaflet.GoogleMutant.js"),n.registerType("google",(function(e){return o.gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},"./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.js"),a=r("./node_modules/object-assign/index.js");r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css"),n.registerType("graticule",{create:function(e){var t=a({interval:20,showOriginLabel:!0,redraw:"move"},e);return o?new o(t):null},isValid:function(){return!!o}})},"./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./MapStore2/web/client/libs/mapquest.js");a.registerType("mapquest",{create:function(e){return i?i.mapLayer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!i}})},"./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("osm",(function(e){return o.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/libs/leaflet.js"),i=r.n(a);o.a.registerType("tms",(function(e){return i.a.tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/libs/leaflet.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/TileConfigProvider.js");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o.a.registerType("tileprovider",(function(e){var t=u(s.a.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)),2),r=t[0],n=t[1];return i.a.tileLayer(r,n)}))},"./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").isNil,a=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,r=a.geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,r){return a.circleMarker(r,t.style||e.style)}:null,hideLoading:t});return r.setOpacity=function(e){!function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))}(r,e)},r.on("layeradd",(function(t){var n=t.layer;r.setOpacity(o(r.opacity)?e.opacity:r.opacity,n)})),r}(e);return t.opacity=o(e.opacity)?1:e.opacity,t},update:function(e,t,r){t.opacity!==r.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/libs/leaflet.js"),a=r.n(o),i=r("./MapStore2/web/client/utils/ColorUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/leaflet/Layers.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),f=r("./MapStore2/web/client/api/WFS.js"),d=r("./MapStore2/web/client/utils/WFSLayerUtils.js");function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e,t){e.fireEvent("loading");var r=Object(p.optionsToVendorParams)(t),n=function(){e.fireEvent("loadError")};return Object(f.getFeature)(t.url,t.name,b({outputFormat:"application/json",maxFeatures:1e3,srsname:l.a.normalizeSRS("EPSG:4326")},r)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),n(new Error("status code of response:"+t.status))),e})).catch((function(e){n()}))},v=function(e){var t=e||{},r=t.color,n=t.fillColor;return b(b({},m(t,["color","fillColor"])),{},{color:Object(i.colorToRgbaStr)(r,1),fillColor:Object(i.colorToRgbaStr)(n,1)})},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return v(t)},O=function(e,t){var r=S(t);e.setStyle(r),e.options.style=r,e.styleName=t.styleName},w=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=S(e),o=function(t,n){return"marker"===e.styleName?a.a.marker(n,r):a.a.circleMarker(n,r)},i=new a.a.GeoJSON(t,{pointToLayer:o,style:r});return i.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=b({},i.options.style||{}),r=t.fillOpacity,n=void 0===r?1:r,o=t.opacity,a=void 0===o?1:o,s=b(b({},t),{},{opacity:a*e,fillOpacity:n*e});i.setStyle(v(s)),w(i,e)},i.on("layeradd",(function(){O(i,e),i.setOpacity(Object(n.isNil)(i.opacity)?e.opacity:i.opacity)})),i};u.a.registerType("wfs",{create:function(e){var t=E(e);return h(t,e),t.opacity=Object(n.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,r){if(t.opacity!==r.opacity&&(e.opacity=t.opacity),Object(d.needsReload)(r,t)&&h(e,t),Object(n.isEqual)(t.style,r.style)||O(e,t),t.styleName!==r.styleName){var o=e.toGeoJSON().features;return E(t,o)}return null},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./MapStore2/web/client/utils/leaflet/Layers.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,c=r("./MapStore2/web/client/utils/leaflet/WMSUtils.js"),u=r("./MapStore2/web/client/libs/leaflet.js"),p=r("./node_modules/object-assign/index.js"),f=r("./MapStore2/node_modules/lodash/lodash.js"),d=f.isArray,m=f.isNil,y=r("./MapStore2/web/client/utils/SecurityUtils.js"),b=r("./MapStore2/web/client/utils/ElevationUtils.js"),g=r("./MapStore2/web/client/utils/LayersUtils.js").creditsToAttribution,h=r("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;r("./node_modules/leaflet.nontiledlayer/dist/NonTiledLayer-src.js"),u.NonTiledLayer.WMSCustom=u.NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var r=u.extend({},this.defaultWmsParams);for(var n in t)this.options.hasOwnProperty(n)||"CRS"===n.toUpperCase()||"maxNativeZoom"===n||(r[n]=t[n]);this.wmsParams=r,u.setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),u.nonTiledLayer.wmsCustom=function(e,t){return new u.NonTiledLayer.WMSCustom(e,t)},u.TileLayer.MultipleUrlWMS=u.TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=u.extend({},this.defaultWmsParams),n=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&u.Browser.retina?r.width=r.height=2*n:r.width=r.height=n,t)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(r[o]=t[o]);this.wmsParams=r,u.setOptions(this,t)},getTileUrl:function(e){var t=this._map,r=this.options.tileSize,n=e.multiplyBy(r),o=n.add([r,r]),a=this._crs.project(t.unproject(n,e.z)),i=this._crs.project(t.unproject(o,e.z)),s=this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[i.y,a.x,a.y,i.x].join(","):[a.x,i.y,i.x,a.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var l=u.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return l+u.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+s},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),u.tileLayer.multipleUrlWMS=function(e,t){return new u.TileLayer.MultipleUrlWMS(e,t)},u.TileLayer.ElevationWMS=u.TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,r){this._tiles={},this._nodata=r,u.TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);b.loadTile(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var r=this._getTileFromCoords(e),n=b.getElevation(this._tileCoordsToKey(r),this._getTileRelativePixel(r,t),this.getTileSize().x,this._nodata);return n.available?n.value:o.createElement(a,{msgId:n.message})}catch(e){return o.createElement(a,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return p(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var r=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),n=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new u.Point(r,n)},_removeTile:function(){},_abortLoading:function(){}}),u.tileLayer.elevationWMS=function(e,t,r){return new u.TileLayer.ElevationWMS(e,t,r)};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return m(e[r])?t:p(t,n({},r,e[r]))}),{})};function S(e){var t=void 0!==e.opacity?e.opacity:1,r=l(e),n=p({},e.baseParams,{attribution:e.credits&&g(e.credits),layers:e.name,styles:e.style||"",format:(h(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",SRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},p(e._v_?{_v_:e._v_}:{},r||{}));return y.addAuthenticationToSLD(n,e)}function O(e){return e.map((function(e){return e.split("?")[0]}))}i.registerType("wms",{create:function(e){var t=O(d(e.url)?e.url:[e.url]),r=v(S(e)||{});return t.forEach((function(t){return y.addAuthenticationParameter(t,r,e.securityToken)})),e.useForElevation?u.tileLayer.elevationWMS(t,r,e.nodata||-9999):e.singleTile?u.nonTiledLayer.wmsCustom(t[0],r):u.tileLayer.multipleUrlWMS(t,r)},update:function(e,t,r){if(r.singleTile!==t.singleTile||r.tileSize!==t.tileSize||r.securityToken!==t.securityToken&&t.visibility){var o=O(d(t.url)?t.url:[t.url]),a=S(t)||{};return o.forEach((function(e){return y.addAuthenticationParameter(e,a,t.securityToken)})),t.singleTile?u.nonTiledLayer.wmsCustom(o[0],a):u.tileLayer.multipleUrlWMS(o,a)}var i=p({},c.filterWMSParamOptions(S(r)),y.addAuthenticationToSLD(r.params||{},r)),s=p({},c.filterWMSParamOptions(S(t)),y.addAuthenticationToSLD(t.params||{},t)),l=Object.keys(s).filter((function(e){return s[e]!==i[e]})),f=Object.keys(i).filter((function(e){return i[e]!==s[e]})),m={};return f.length>0&&e.removeParams(f,l.length>0),l.length>0&&(m=l.reduce((function(e,t){return p({},e,n({},t,s[t]))}),m),e.setParams(v(p(m,m.params,y.addAuthenticationToSLD(t.params||{},t))))),null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r.n(n),a=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),i=r.n(a),s=r("./MapStore2/web/client/libs/leaflet.js"),l=r.n(s),c=r("./node_modules/object-assign/index.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/SecurityUtils.js"),f=r.n(p),d=r("./MapStore2/web/client/utils/WMTSUtils.js"),m=r.n(d),y=r("./MapStore2/web/client/utils/leaflet/WMTS.js"),b=r.n(y),g=r("./MapStore2/node_modules/lodash/lodash.js"),h=r("./MapStore2/web/client/utils/VectorTileUtils.js");l.a.tileLayer.wmts=function(e,t,r){return new b.a(e,t,r)};var v=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}(Object(g.isArray)(e.url)?e.url:[e.url]),r=function(e){var t=i.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),r=m.a.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return u()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:(Object(h.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:r,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:i.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return f.a.addAuthenticationParameter(t,r,e.securityToken)}));var n=i.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=m.a.getTileMatrix(e,n),a=o.tileMatrixSet,s=o.matrixIds;return l.a.tileLayer.wmts(t,r,{tileMatrixPrefix:e.tileMatrixPrefix||r.tileMatrixSet+":"||n+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:s,matrixSet:a})};o.a.registerType("wmts",{create:v,update:function(e,t,r){return r.securityToken!==t.securityToken||r.format!==t.format?v(t):null}})},"./MapStore2/web/client/components/map/leaflet/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js"),Commons:r("./MapStore2/web/client/components/map/leaflet/plugins/Commons.js"),GraticuleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js"),GoogleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js"),MapQuest:r("./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js"),OSMLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js"),TMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js"),TileProviderLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js"),WFSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx").default,WMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js"),WMTSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js"),VectorLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx")}},"./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Te}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./MapStore2/node_modules/lodash/concat.js"),i=r.n(a),s=r("./MapStore2/node_modules/lodash/head.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/find.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/slice.js"),f=r.n(p),d=r("./MapStore2/node_modules/lodash/omit.js"),m=r.n(d),y=r("./MapStore2/node_modules/lodash/isArray.js"),b=r.n(y),g=r("./MapStore2/node_modules/lodash/last.js"),h=r.n(g),v=r("./MapStore2/node_modules/lodash/filter.js"),S=r.n(v),O=r("./MapStore2/node_modules/lodash/isNil.js"),w=r.n(O),E=r("./MapStore2/node_modules/lodash/castArray.js"),j=r.n(E),T=r("./node_modules/prop-types/index.js"),A=r.n(T),_=r("./node_modules/object-assign/index.js"),x=r.n(_),M=r("./node_modules/uuid/index.js"),P=r.n(M),C=r("./node_modules/axios/index.js"),L=r.n(C),R=r("./MapStore2/web/client/utils/MapUtils.js"),I=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),D=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),N=r("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),k=r("./MapStore2/web/client/utils/AnnotationsUtils.js"),F=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),G=r("./node_modules/ol/format/GeoJSON.js"),U=r("./node_modules/ol/Feature.js"),B=r("./node_modules/ol/source/Vector.js"),H=r("./node_modules/ol/layer/Vector.js"),z=r("./node_modules/ol/interaction/Draw.js"),V=r("./node_modules/ol/geom/MultiPoint.js"),W=r("./node_modules/ol/geom/Polygon.js"),Y=r("./node_modules/ol/geom/Point.js"),q=r("./node_modules/ol/geom/LineString.js"),Z=r("./node_modules/ol/geom/MultiLineString.js"),K=r("./node_modules/ol/geom/MultiPolygon.js"),Q=r("./node_modules/ol/geom/Circle.js"),X=r("./node_modules/ol/geom/GeometryCollection.js"),J=r("./node_modules/ol/style/Style.js"),$=r("./node_modules/ol/style/Fill.js"),ee=r("./node_modules/ol/style/Stroke.js"),te=r("./node_modules/ol/style/Text.js"),re=r("./node_modules/ol/style/Circle.js"),ne=r("./node_modules/ol/Collection.js"),oe=r("./node_modules/ol/events/condition.js"),ae=r("./node_modules/ol/interaction/DoubleClickZoom.js"),ie=r("./node_modules/ol/interaction/Translate.js"),se=r("./node_modules/ol/interaction/Modify.js"),le=r("./node_modules/ol/interaction/Select.js"),ce=r("./node_modules/ol/Observable.js"),ue=r("./node_modules/ol/extent.js");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return de(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){Ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=we(e);if(t){var o=we(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Se(this,r)}}function Se(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?Oe(e):t}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var je=new G.a,Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(a,e);var t,r,n,o=ve(a);function a(){var e;be(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ee(Oe(e=o.call.apply(o,[this].concat(r))),"getNewFeature",(function(t,r,n,o){return new U.a({geometry:e.createOLGeometry({type:t,coordinates:r,radius:n,center:o})})})),Ee(Oe(e),"getMapCrs",(function(){return e.props.map.getView().getProjection().getCode()})),Ee(Oe(e),"updateFeatureStyles",(function(t){t&&t.length>0&&t.forEach((function(t){if(t.style){var r=e.toOlFeature(t);r&&r.setStyle(t.style?Object(F.d)(t):e.toOlStyle(t.style,t.selected))}}))})),Ee(Oe(e),"updateOnlyFeatureStyles",(function(t){e.drawLayer&&e.drawLayer.getSource().getFeatures().forEach((function(e){var r=l()(t.features).features||t.features,n=u()(r,(function(t){return t.properties.id===e.getProperties().id}));if(n){var o=Object(D.createStylesAsync)(j()(n.style));L.a.all(o).then((function(t){e.setStyle((function(){return Object(F.e)(ye(ye({},n),{},{style:t}))}))}))}}))})),Ee(Oe(e),"addLayer",(function(t,r){var n,o=e.convertGeometryTypeToStyleType(t.drawMethod);n=function(e){var r=l()(t.features)&&u()(l()(t.features).features,(function(t){return t.properties.id===e.getProperties().id}))||null;if(r){var n=Object(D.createStylesAsync)(j()(r.style));return L.a.all(n).then((function(t){e.setStyle((function(){return Object(F.e)(ye(ye({},r),{},{style:t}))}))})),null}return Object(F.e)({style:F.a[o]})},e.geojson=new G.a,e.drawSource=new B.a,e.drawLayer=new H.a({source:e.drawSource,zIndex:1e8,style:n}),e.props.map.addLayer(e.drawLayer),r&&e.addInteractions(t);var a=l()(t.features);if(a&&a.features&&a.features.length){var i=a.features.filter((function(e){return!e.properties.isCircle||e.properties.isCircle&&!e.properties.canEdit||!t.options.drawEnabled}));return e.addFeatures(x()({},t,{features:[ye(ye({},a),{},{features:i})]}))}return e.addFeatures(t)})),Ee(Oe(e),"addFeatures",(function(t){var r,n=t.features,o=t.drawMethod,a=t.options,i=e.getMapCrs();if(n.forEach((function(t){if("FeatureCollection"===t.type){var n=(new G.a).readFeatures(t);n=n.map((function(e){return Object(N.a)(e,i)})),e.drawSource=new B.a({features:n}),e.drawLayer.setSource(e.drawSource)}else{var s=null,l=t;l.geometry&&"GeometryCollection"!==l.geometry.type&&(l=Object(I.reprojectGeoJson)(l,l.featureProjection,i).geometry),"GeometryCollection"!==l.type&&("Circle"===o&&l&&(l.properties&&l.properties.center||l.center)?(s=[(s=l.properties&&l.properties.center?Object(I.reproject)(l.properties.center,"EPSG:4326",i):l.center).x,s.y],r=new U.a({geometry:e.createOLGeometry({type:"Circle",center:s,projection:"EPSG:3857",radius:l.properties&&l.properties.radius||l.radius,options:a})})):r=new U.a({geometry:e.createOLGeometry(l.geometry?l.geometry:ye(ye(ye({},l),l.properties),{},{center:s}))}),r.setProperties(t.properties),e.drawSource.addFeature(r))}})),0===n.length&&(a.editEnabled||a.drawEnabled))a.transformToFeatureCollection?(e.drawSource=new B.a({features:(new G.a).readFeatures({type:"FeatureCollection",features:[]})}),e.drawLayer.setSource(e.drawSource)):(r=new U.a({geometry:e.createOLGeometry({type:o,coordinates:null})}),e.drawSource.addFeature(r));else{if(n[0]&&"GeometryCollection"===n[0].type){e.drawSource=new B.a({features:(new G.a).readFeatures(n[0])});var s=e.replacePolygonsWithCircles(e.drawSource.getFeatures()[0]);e.drawSource.getFeatures()[0].getGeometry().setGeometries(s),e.drawLayer.setSource(e.drawSource)}n[0]&&n[0].geometry&&"GeometryCollection"===n[0].geometry.type&&(r=Object(I.reprojectGeoJson)(n[0],a.featureProjection,i).geometry,e.drawSource=new B.a({features:(new G.a).readFeatures(r)}),e.drawSource.getFeatures()[0].set("textGeometriesIndexes",n[0].properties&&n[0].properties.textGeometriesIndexes),e.drawSource.getFeatures()[0].set("textValues",n[0].properties&&n[0].properties.textValues),e.drawSource.getFeatures()[0].set("circles",n[0].properties&&n[0].properties.circles),e.drawLayer.setSource(e.drawSource))}return e.updateFeatureStyles(n),r})),Ee(Oe(e),"replaceFeatures",(function(t){var r;return e.drawLayer?(e.drawSource.clear(),r=e.addFeatures(t),t.style&&e.drawLayer.setStyle((function(r){var n=u()(l()(t.features).features,(function(e){return e.properties.id===r.getProperties().id}));if(n){var o=Object(D.createStylesAsync)(j()(n.style));return L.a.all(o).then((function(e){r.setStyle((function(){return Object(F.e)(ye(ye({},n),{},{style:e}))}))})),null}var a=e.convertGeometryTypeToStyleType(t.drawMethod);return Object(F.e)({style:F.a[a]})}))):r=e.addLayer(t,t.options&&t.options.drawEnabled||!1),r})),Ee(Oe(e),"endDrawing",(function(t){var r=e.replaceFeatures(t);if(r){var n=e.fromOLFeature(r);"Circle"===t.drawMethod&&t&&t.features&&t.features.length&&t.features[0]&&t.features[0].radius>=0&&(n.radius=t.features[0].radius),e.props.onEndDrawing(n,t.drawOwner)}})),Ee(Oe(e),"addDrawInteraction",(function(t,r,n,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new z.a(e.drawPropertiesForGeometryType(t,n,e.drawSource,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(t){var n=t.feature.clone();if(n.set("id",P.a.v1()),"Circle"===e.props.drawMethod&&"Circle"===n.getGeometry().getType()){var o=n.getGeometry().getRadius(),a=n.getGeometry().getCenter();n.setGeometry(e.polygonFromCircle(a,o))}var i=e.fromOLFeature(n,r);e.props.onEndDrawing(i,e.props.drawOwner),e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,e.props.features.concat([i])),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),Ee(Oe(e),"toMulti",(function(e){return"Point"===e.getType()?new V.a([e.getCoordinates()]):e})),Ee(Oe(e),"handleDrawAndEdit",(function(t,r,n,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new z.a(e.drawPropertiesForGeometryType(Object(R.getSimpleGeomType)(t),n,Object(R.isSimpleGeomType)(t)?e.drawSource:null,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(n){var a=n.feature.clone(),i=P.a.v1();a.set("id",i);var s,c,p,f=a.getGeometry(),d=e.drawLayer.getSource().getFeatures(),m=e.props.features;if(e.props.options.transformToFeatureCollection){var y;if("Circle"===t){p="Polygon";var b=f.getRadius(),g=f.getCenter(),v=e.polygonCoordsFromCircle(g,b);y=e.getNewFeature(p,v),g=Object(I.reproject)(g,e.getMapCrs(),"EPSG:4326",!1);var S=o&&o.features&&o.features.length&&o.features[0]&&o.features[0].features&&o.features[0].features.length&&o.features[0].features.filter((function(e){return e.properties.isDrawing}))[0].properties.id||i;y.setProperties({isCircle:!0,radius:b,center:[g.x,g.y],id:S,crs:e.getMapCrs()})}else if("Polygon"===t){p=e.props.drawMethod;var O=f.getCoordinates();O[0].push(O[0][0]),y=e.getNewFeature(p,O)}else{p="Text"===t?"Point":e.props.drawMethod;var w=f.getCoordinates();y=e.getNewFeature(p,w),"Text"===t&&y.setProperties({isText:!0,valueText:"."})}var E=d.length>=1?fe(e.replaceCirclesWithPolygonsInFeatureColl(d)):[];y.getProperties().id||y.setProperties({id:P.a.v1()});var j=[].concat(fe(E),[y]),T=je.writeFeaturesObject(j),A=new B.a({features:(new G.a).readFeatures(T)});e.drawLayer.setSource(A);var _=Object(I.reprojectGeoJson)(T,e.getMapCrs(),"EPSG:4326");e.props.onGeometryChanged([_],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(_,e.props.drawOwner),e.props.onDrawingFeatures([h()(_.features)])}else{if("Circle"===t){p="Polygon";var M=f.getRadius(),C=f.getCenter(),L=e.polygonCoordsFromCircle(C,M),D=e.toMulti(e.createOLGeometry({type:p,coordinates:L}));if(1===m.length&&m[0]&&!m[0].geometry)s=[],c=new X.default([D]);else if((s=e.toMulti(l()(d).getGeometry())).getGeometries){var N=e.replaceCirclesWithPolygons(l()(d));c=new X.default([].concat(fe(N),[D]))}else c=new X.default([s,D]);a.setGeometry(c)}else if("Text"===t||"MultiPoint"===t){var k=f.getCoordinates();p="MultiPoint";var F=e.toMulti(e.createOLGeometry({type:p,coordinates:[k]}));if(1!==m.length||m[0].geometry)if((s=e.toMulti(l()(d).getGeometry())).getGeometries){var U=e.replaceCirclesWithPolygons(l()(d));c=new X.default([].concat(fe(U),[F]))}else(c=s.clone()).appendPoint(F.getPoint(0));else s=[],c=F.clone();a.setGeometry(c)}else if(!Object(R.isSimpleGeomType)(t)){var H;c=null,s=1!==m.length||m[0].geometry?e.toMulti(l()(d).getGeometry()):e.toMulti(e.createOLGeometry({type:t,coordinates:null}));var z=d.map((function(e){return"GeometryCollection"===e.getGeometry().getType()?e.getGeometry().getGeometries():e.getGeometry()}));"GeometryCollection"===d[0].getGeometry().getType()&&(z=z[0]);var V=u()(z,(function(e){return e.getType()===t}));if(V?e.appendToMultiGeometry(t,V,f):H=e.toMulti(e.createOLGeometry({type:t,coordinates:f.getCoordinates()})),f.getType()!==Object(R.getSimpleGeomType)(s.getType())){var W=l()(d).getGeometry().getGeometries?e.replaceCirclesWithPolygons(l()(d)):[];if(V){var Y=W.map((function(e){return e.getType()===V.getType()?V:e}));c=new X.default(Y)}else c="GeometryCollection"===s.getType()?new X.default([].concat(fe(W),[H])):"Text"===t?new X.default([H]):new X.default([s,H]);a.setGeometry(c)}else a.setGeometry(V)}var q=e.props.features[0].properties;"Text"===t&&(q=x()({},e.props.features[0].properties,{textValues:(e.props.features[0].properties.textValues||[]).concat(["."]),textGeometriesIndexes:(e.props.features[0].properties.textGeometriesIndexes||[]).concat([a.getGeometry().getGeometries().length-1])})),"Circle"===t&&(q=x()({},q,{circles:(e.props.features[0].properties.circles||[]).concat([a.getGeometry().getGeometries().length-1])}));var Z=e.fromOLFeature(a,r,q),K=new B.a({features:(new G.a).readFeatures(Z)});e.drawLayer.setSource(K);var Q=Object(I.reprojectGeoJson)(je.writeFeatureObject(a.clone()),e.getMapCrs(),"EPSG:4326");"Polygon"===Q.geometry.type&&Q.geometry.coordinates[0].push(Q.geometry.coordinates[0][0]),e.props.onGeometryChanged([Q],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(Z,e.props.drawOwner),Z=Object(I.reprojectGeoJson)(Z,e.getMapCrs(),"EPSG:4326");var J=Object(R.isSimpleGeomType)(e.props.drawMethod)&&"GeometryCollection"!==e.props.features[0].geometry.type?e.props.features.map((function(t){return ye(ye({},t),{},{featureProjection:e.getMapCrs()})})).concat([ye(ye({},Z),{},{type:"Feature",geometry:{type:Z.type,coordinates:Z.coordinates},featureProjection:e.getMapCrs(),properties:q})]):[ye(ye({},Z),{},{properties:q})];e.props.options.stopAfterDrawing?e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,J):e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,J.map((function(t){return Object(I.reprojectGeoJson)(t,"EPSG:4326",e.getMapCrs())})),x()({},e.props.options,{featureProjection:e.getMapCrs()})),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))}})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),Ee(Oe(e),"drawPropertiesForGeometryType",(function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={source:e.drawSource||n,type:t,style:"Marker"===t?Object(F.b)(o.style):new J.default({fill:new $.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ee.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new re.default({radius:5,stroke:new ee.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new $.default({color:"rgba(255, 255, 255, 0.2)"})})}),features:new ne.a,condition:oe.c},i={};switch(t){case"BBOX":i.type="LineString",i.maxPoints=2,i.geometryFunction=function(e,t){var r=t;r||(r=new W.b([]));var n=e[0],o=e[1];return r.setCoordinates([[n,[n[0],o[1]],o,[o[0],n[1]],n]]),r};break;case"Circle":i.maxPoints=100,o.options&&o.options.geodesic?i.geometryFunction=function(t,r){var n=r;n||(n=new W.b([])).setProperties({geodesicCenter:fe(t[0])},!0);var o=e.props.map.getView().getProjection().getCode(),a=fe(t).map((function(t){return e.reprojectCoordinatesToWGS84(t,o)})),i=Object(I.calculateDistance)(a,"haversine"),s=Object(W.a)(a[0],i).clone().transform("EPSG:4326",o).getCoordinates();return n.setCoordinates(s),n}:i.type=t;break;case"Marker":case"Point":case"Text":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":"LineString"===t&&(i.maxPoints=r);var s="Text"===t||"Marker"===t?"Point":t;i.type=s,i.geometryFunction=function(t,r){var n=r;return n||(n=e.createOLGeometry({type:s,coordinates:null,options:o.options})),n.setCoordinates(t),n};break;default:return{}}return x()({},a,i)})),Ee(Oe(e),"setDoubleClickZoomEnabled",(function(t){for(var r=e.props.map.getInteractions(),n=0;n<r.getLength();n++){var o=r.item(n);if(o instanceof ae.a){o.setActive(t);break}}})),Ee(Oe(e),"updateFeatureExtent",(function(t){var r=t.features.getArray(),n=e.props.features.map((function(t){var n=l()(r.filter((function(r){return e.fromOLFeature(r).id===t.id})));return n?x()({},t,{geometry:n.geometry,center:n.center,extent:n.extent,coordinate:n.coordinates,radius:n.radius}):t}));e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,n)})),Ee(Oe(e),"addInteractions",(function(t){e.clean(),e.drawLayer||e.addLayer(t),e.addDrawInteraction(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t),t.options&&t.options.editEnabled&&(e.addSelectInteraction(),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ie.a({features:e.selectInteraction.getFeatures()}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",e.updateFeatureExtent),e.props.map.addInteraction(e.translateInteraction),e.addTranslateListener(),e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction),e.modifyInteraction=new se.a({features:e.selectInteraction.getFeatures(),condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.props.map.addInteraction(e.modifyInteraction)),e.drawSource.clear(),t.features.length>0&&e.addFeatures(t)})),Ee(Oe(e),"addSingleClickListener",(function(e,t){return t.map.on("singleclick",e)})),Ee(Oe(e),"addDrawOrEditInteractions",(function(t){e.state&&e.state.keySingleClickCallback&&Object(ce.b)(e.state.keySingleClickCallback);e.clean();var r,n=Object(I.reprojectGeoJson)(l()(t.features),t.options.featureProjection,e.getMapCrs())||{};r=n&&n.features&&n.features.length?x()({},t,{features:[n]}):n&&n.properties&&n.properties.isCircle?x()({},t,{features:[]}):x()({},t,{features:n.geometry?[ye(ye({},n.geometry),{},{properties:n.properties})]:[]}),e.drawLayer?(e.drawSource.clear(),e.addFeatures(r)):e.addLayer(r),t.options.editEnabled&&(e.addModifyInteraction(t),!1!==t.options.translateEnabled&&e.addTranslateInteraction(),t.options.addClickCallback&&e.setState({keySingleClickCallback:e.addSingleClickListener((function(r){if(e.drawSource&&t.options){var n,o=e.drawSource.getFeatures(),a=0,i=o&&o.length&&o.filter((function(e,t){return e.getProperties().canEdit&&(a=t),e.getProperties().canEdit}))[0]||null,s=i&&i.getGeometry()&&i.getGeometry().getCoordinates&&i.getGeometry().getCoordinates()||[],l=[],c=t.drawMethod;switch(c){case"Polygon":l=s.length?Object(k.isCompletePolygon)(s)?[(l=(l=f()(s[0],0,s[0].length-1)).concat([r.coordinate])).concat([s[0][0]])]:s[0].length>1?[[].concat(fe(s[0]),[r.coordinate,s[0][0]])]:[[].concat(fe(s[0]),[r.coordinate])]:[[r.coordinate]],(n=e.getNewFeature(c,l)).setProperties(m()(i&&i.getProperties()||{},"geometry"));break;case"LineString":case"MultiPoint":l=s.length?[].concat(fe(s),[r.coordinate]):[r.coordinate],(n=e.getNewFeature(c,l)).setProperties(m()(i&&i.getProperties()||{},"geometry"));break;case"Circle":c="Polygon";var u=i&&i.getProperties()&&i.getProperties().radius||1e4,p=r.coordinate,d=e.polygonCoordsFromCircle(p,u);n=e.getNewFeature(c,d),p=Object(I.reproject)(p,e.getMapCrs(),"EPSG:4326",!1),n.setProperties(m()(i&&i.getProperties()||{},"geometry")),n.setProperties({isCircle:!0,radius:u,center:[p.x,p.y]});break;case"Text":c="Point",(n=e.getNewFeature(c,r.coordinate)).setProperties(m()(i&&i.getProperties()||{},"geometry")),n.setProperties({isText:!0,valueText:i&&i.getProperties()&&i.getProperties().valueText||t.options.defaultTextAnnotation||"New"});break;default:l=r.coordinate,(n=e.getNewFeature(c,l)).setProperties(m()(i&&i.getProperties()||{},"geometry"))}var y={type:"Feature",geometry:{coordinates:fe(Object(I.reprojectGeoJson)(je.writeFeaturesObject([n.clone()]),e.getMapCrs(),"EPSG:4326").features[0].geometry.coordinates),type:c},properties:ye({},m()(n.getProperties(),"geometry"))};e.props.onDrawingFeatures([y]),n=Object(N.a)(n,e.getMapCrs()),o[a]=n,e.drawSource=new B.a({features:o}),e.drawLayer.setSource(e.drawSource),e.addModifyInteraction(t)}}),t)})),t.options&&t.options.selectEnabled&&e.addSelectInteraction(t.options&&t.options.selected,t),t.options.drawEnabled&&e.handleDrawAndEdit(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t)})),Ee(Oe(e),"addSelectInteraction",(function(t,r){var n;if(e.selectInteraction&&e.props.map.removeInteraction(e.selectInteraction),t&&(n=u()(e.drawSource.getFeatures(),(function(e){return e.getProperties().id===t.properties.id})))&&e.selectFeature(n),e.selectInteraction=new le.a({layers:[e.drawLayer],features:new ne.a(t&&n?[n]:null)}),n){var o=e.convertGeometryTypeToStyleType(r.drawMethod);n.setStyle(Object(F.d)(ye(ye({},r),{},{style:ye(ye({},r.style),{},{type:o,highlight:!0,useSelectedStyle:r.options.useSelectedStyle})}),!1,r.features[0]&&r.features[0].properties&&r.features[0].properties.valueText&&[r.features[0].properties.valueText]||[]))}e.selectInteraction.on("select",(function(t){var r=e.selectInteraction.getFeatures().getArray(),n=[];return r.length&&(n=e.props.features.map((function(n){var o;if("FeatureCollection"===n.type&&r.length>0){var a=l()(r);if(e.selectFeature(a),a.getGeometry&&"Circle"===a.getGeometry().getType()){var i=a.getGeometry().getRadius(),s=Object(I.reproject)(a.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326");a.setProperties({center:[s.x,s.y],radius:i}),a=e.replaceCircleWithPolygon(a.clone())}return e.drawSource.getFeatures().forEach((function(t){t.getProperties().id===a.getProperties().id?e.selectFeature(a):e.deselectFeature(t)})),Object(I.reprojectGeoJson)(je.writeFeatureObject(a.clone()),e.getMapCrs(),"EPSG:4326")}return o=r.reduce((function(e,t){return t.get("id")===n.id||e}),!1),x()({},n,{selected:o,selectedFeature:t.selected})})),e.props.onSelectFeatures(n)),0===r.length?(e.props.onSelectFeatures([]),e.drawSource.getFeatures().map((function(t){return e.deselectFeature(t)})),null):null})),e.props.map.addInteraction(e.selectInteraction)})),Ee(Oe(e),"selectFeature",(function(e){e.setProperties({selected:!0})})),Ee(Oe(e),"deselectFeature",(function(e){e.setProperties({selected:!1})})),Ee(Oe(e),"removeDrawInteraction",(function(){e.drawInteraction&&(e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,setTimeout((function(){return e.props.map.enableEventListener("singleclick")}),500),setTimeout((function(){return e.setDoubleClickZoomEnabled(!0)}),250))})),Ee(Oe(e),"removeInteractions",(function(){e.removeDrawInteraction(),e.selectInteraction&&(e.props.map.enableEventListener("singleclick"),e.props.map.removeInteraction(e.selectInteraction)),e.modifyInteraction&&(e.props.map.removeInteraction(e.modifyInteraction),e.props.map.un("singleclick")),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction)})),Ee(Oe(e),"clean",(function(t){t||e.removeInteractions(),e.drawLayer&&(e.props.map.removeLayer(e.drawLayer),e.geojson=null,e.drawLayer=null,e.drawSource=null)})),Ee(Oe(e),"fromOLFeature",(function(t,r,n){var o=t.getGeometry(),a=e.props.map.getView().getProjection().getCode(),s=o.getType();if(o.getCoordinates){var l,c=o.getExtent(),u=o.getProperties(),p=u&&u.geodesicCenter||Object(ue.x)(c),f=o.getCoordinates();if(r&&(f=i()(r,f),o.setCoordinates(f)),"Circle"===e.props.drawMethod)if(e.props.options.geodesic){var d=[fe(p),fe(f[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,a)}));l=Object(I.calculateDistance)(d,"haversine")}else l=e.calculateRadius(p,f);return x()({},{id:t.get("id"),type:s,extent:c,center:p,coordinates:f,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}var m=o.getGeometries().map((function(o,s){var l,c=o.getExtent(),u=Object(ue.x)(c),p=o.getCoordinates();if(r&&(p=i()(r,p),o.setCoordinates(p)),n.circles&&-1!==n.circles.indexOf(s))if(e.props.options.geodesic){var f=[fe(u),fe(p[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,a)}));l=Object(I.calculateDistance)(f,"haversine")}else l=e.calculateRadius(u,p);else l=0;return x()({},{id:t.get("id"),type:o.getType(),extent:c,center:u,coordinates:p,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}));return x()({},{type:"Feature",id:t.get("id"),style:e.fromOlStyle(t.getStyle()),geometry:{type:"GeometryCollection",geometries:m},projection:a})})),Ee(Oe(e),"reprojectCoordinatesToWGS84",(function(e,t){var r=Object(I.reproject)(e,t,"EPSG:4326");return[r.x,r.y]})),Ee(Oe(e),"toOlFeature",(function(t){return l()(e.drawSource.getFeatures().filter((function(e){return e.get("id")===t.id})))})),Ee(Oe(e),"fromOlStyle",(function(t){return t?{fillColor:e.rgbToHex(t.getFill().getColor()),fillTransparency:t.getFill().getColor()[3],strokeColor:t.getStroke().getColor(),strokeWidth:t.getStroke().getWidth(),text:t.getText().getText()}:{}})),Ee(Oe(e),"toOlStyle",(function(t,r,n){var o=t&&t.fillColor?t.fillColor:[255,255,255,.2];"string"==typeof o&&(o=e.hexToRgb(o).concat([t.fillOpacity>=0&&t.fillOpacity<=1?t.fillOpacity:1])),t&&t.fillTransparency&&(o[3]=t.fillTransparency);var a=t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#ffcc33";r&&(a="#4a90e2"),a=e.hexToRgb(a).concat([t&&t.opacity||1]);var i=new J.default({fill:new $.default({color:o}),stroke:new ee.default({color:a,width:t&&(t.strokeWidth||t.weight)?t.strokeWidth||t.weight:2}),text:new te.default({text:t&&t.text?t.text:"",fill:new $.default({color:t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#000"}),stroke:new ee.default({color:"#fff",width:2}),font:t&&t.fontSize?t.fontSize+"px helvetica":""})});return"GeometryCollection"===n?[].concat(fe(Object(F.c)({style:{iconGlyph:"comment",iconShape:"square",iconColor:"blue"}})),[i]):t&&(t.iconUrl||t.iconGlyph)?Object(F.c)({style:t}):i})),Ee(Oe(e),"hexToRgb",(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})));return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null})),Ee(Oe(e),"componentToHex",(function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})),Ee(Oe(e),"rgbToHex",(function(t){return"#"+e.componentToHex(t[0])+e.componentToHex(t[1])+e.componentToHex(t[2])})),Ee(Oe(e),"addModifyInteraction",(function(t){e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction);var r=t&&t.options&&t.options.editFilter;e.modifyFeatureColl=new ne.a(S()(e.drawLayer.getSource().getFeatures(),r)),e.modifyInteraction=new se.a({features:e.modifyFeatureColl,condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.modifyInteraction.on("modifyend",(function(t){var r=t.features.getArray().map((function(t){var r=t.clone();if(r.getGeometry&&"GeometryCollection"===r.getGeometry().getType()&&r.getGeometry().setGeometries(e.replaceCirclesWithPolygons(r)),r.getGeometry&&r.getGeometry()&&"Circle"===r.getGeometry().getType()){var n=Object(I.reproject)(r.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=r.getGeometry().getRadius();r.setProperties({center:[n.x,n.y],radius:o}),t.setProperties({center:[n.x,n.y],radius:o}),r=e.replaceCircleWithPolygon(r.clone())}return Object(I.reprojectGeoJson)(je.writeFeatureObject(r),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(r):e.props.onGeometryChanged(r,e.props.drawOwner,!1,"editing","editing")})),e.props.map.addInteraction(e.modifyInteraction)})),Ee(Oe(e),"addTranslateInteraction",(function(){e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ie.a({features:new ne.a(e.drawLayer.getSource().getFeatures())}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",(function(t){var r=t.features.getArray().map((function(t){var r=t.clone();if(r.getGeometry&&"GeometryCollection"===r.getGeometry().getType()&&r.getGeometry().setGeometries(e.replaceCirclesWithPolygons(r)),r.getGeometry&&r.getGeometry()&&"Circle"===r.getGeometry().getType()){var n=Object(I.reproject)(r.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=r.getGeometry().getRadius();r.setProperties({center:[n.x,n.y],radius:o}),r=e.replaceCircleWithPolygon(r)}return t.getProperties()&&t.getProperties().selected&&e.props.onSelectFeatures([Object(I.reprojectGeoJson)(je.writeFeatureObject(r),e.getMapCrs(),"EPSG:4326")]),Object(I.reprojectGeoJson)(je.writeFeatureObject(r),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(r):e.props.onGeometryChanged(r,e.props.drawOwner,e.props.drawOwner,!1,"Text"===e.props.drawMethod,"Circle"===e.props.drawMethod)})),e.addTranslateListener(),e.props.map.addInteraction(e.translateInteraction)})),Ee(Oe(e),"createOLGeometry",(function(t){var r=t.type,n=t.coordinates,o=t.radius,a=t.center,i=t.geometries,s=t.projection,l=t.options,c=void 0===l?{}:l;return"GeometryCollection"===r?i&&i.length?new X.default(i.map((function(t){return e.olGeomFromType({type:t.type})}))):new X.default([]):e.olGeomFromType({type:r,coordinates:n,radius:o,center:a,projection:s,options:c})})),Ee(Oe(e),"olGeomFromType",(function(t){var r,n=t.type,o=t.coordinates,a=t.radius,i=t.center,s=t.projection,l=t.options;switch(n){case"Point":case"Marker":case"Text":r=new Y.a(o||[]);break;case"LineString":r=new q.a(o||[]);break;case"MultiPoint":r=new V.a(o||[]);break;case"MultiLineString":r=new Z.a(o||[]);break;case"MultiPolygon":r=new K.a(o||[]);break;default:var c=b()(i)?{x:i[0],y:i[1]}:i,u=s&&!isNaN(parseFloat(a))&&c&&!w()(c.x)&&!w()(c.y)&&!isNaN(parseFloat(c.x))&&!isNaN(parseFloat(c.y));(r=u?l.geodesic?Object(W.a)(e.reprojectCoordinatesToWGS84([c.x,c.y],s),a,100).clone().transform("EPSG:4326",s):Object(W.c)(new Q.a([c.x,c.y],a),100):new W.b(o&&b()(o[0])?o:[]))&&u&&l.geodesic&&r.setProperties({geodesicCenter:[c.x,c.y]},!0)}return r})),Ee(Oe(e),"convertGeometryTypeToStyleType",(function(e){switch(e){case"BBOX":return"LineString";default:return e}})),Ee(Oe(e),"appendToMultiGeometry",(function(e,t,r){switch(e){case"MultiPoint":t.appendPoint(r);break;case"MultiLineString":t.appendLineString(r);break;case"MultiPolygon":var n=r.getCoordinates();n[0].push(n[0][0]),r.setCoordinates(n),t.appendPolygon(r)}})),Ee(Oe(e),"calculateRadius",(function(e,t){return b()(t)&&b()(t[0])&&b()(t[0][0])?Math.sqrt(Math.pow(e[0]-t[0][0][0],2)+Math.pow(e[1]-t[0][0][1],2)):100})),Ee(Oe(e),"polygonFromCircle",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(W.c)(new Q.a(e,t),r)})),Ee(Oe(e),"polygonCoordsFromCircle",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return e.polygonFromCircle(t,r,n).getCoordinates()})),Ee(Oe(e),"replaceCirclesWithPolygonsInFeatureColl",(function(t){return t.map((function(t){return"Circle"!==t.getGeometry().getType()?t:e.replaceCircleWithPolygon(t)}))})),Ee(Oe(e),"replaceCircleWithPolygon",(function(t){if(t.getProperties().isCircle&&"Circle"===t.getGeometry().getType()){var r=t.getGeometry().getCenter(),n=t.getGeometry().getRadius();return t.setGeometry(e.polygonFromCircle(r,n)),t}return t})),Ee(Oe(e),"replaceCirclesWithPolygons",(function(t){return t.getGeometry&&!t.getGeometry().getGeometries?t:t.getGeometry().getGeometries().map((function(r,n){if("Circle"!==r.getType())return r;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(n)){var o=r.getCenter(),a=r.getRadius();return e.polygonFromCircle(o,a)}return r}))})),Ee(Oe(e),"replacePolygonsWithCircles",(function(t){return t.getGeometry().getGeometries().map((function(r,n){if("Polygon"!==r.getType())return r;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(n)){var o=r.getExtent(),a=Object(ue.x)(o),i=e.calculateRadius(a,r.getCoordinates());return new Q.a(a,i)}return r}))})),Ee(Oe(e),"addTranslateListener",(function(){document.addEventListener("keydown",(function(t){t.altKey&&"AltLeft"===t.code&&e.translateInteraction.setActive(!0)})),document.addEventListener("keyup",(function(t){"AltLeft"===t.code&&e.translateInteraction.setActive(!1)}))})),e}return t=a,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.drawLayer&&this.updateFeatureStyles(e.features),!e.drawStatus&&this.selectInteraction&&this.selectInteraction.getFeatures().clear(),this.props.drawStatus!==e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addLayer(e);break;case"start":this.addInteractions(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeDrawInteraction();break;case"replace":this.replaceFeatures(e);break;case"updateStyle":this.updateOnlyFeatureStyles(e);break;case"clean":this.clean();break;case"cleanAndContinueDrawing":this.clean(!0);break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&ge(t.prototype,r),n&&ge(t,n),a}(o.a.Component);Ee(Te,"propTypes",{map:A.a.object,drawOwner:A.a.string,drawStatus:A.a.string,drawMethod:A.a.string,options:A.a.object,features:A.a.array,onChangeDrawingStatus:A.a.func,onGeometryChanged:A.a.func,onDrawStopped:A.a.func,onDrawingFeatures:A.a.func,onSelectFeatures:A.a.func,onEndDrawing:A.a.func,style:A.a.object}),Ee(Te,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onDrawingFeatures:function(){},onSelectFeatures:function(){},onEndDrawing:function(){}})},"./MapStore2/web/client/components/map/openlayers/Feature.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return M}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/prop-types/index.js"),i=r.n(a),s=r("./node_modules/axios/index.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=r("./MapStore2/node_modules/lodash/find.js"),p=r.n(u),f=r("./MapStore2/node_modules/lodash/castArray.js"),d=r.n(f),m=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),y=r("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),b=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),g=r("./node_modules/ol/format/GeoJSON.js");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return T(this,r)}}function T(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,r,n,o=j(a);function a(){var e;O(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(A(e=o.call.apply(o,[this].concat(r))),"addFeatures",(function(t){var r=new g.a,n=null,o=!1;"FeatureCollection"===t.type?(n={features:!!Object(c.isUndefined)(t.properties.visibility)||t.properties.visibility?t.features:[]},o=!!t.features):(n={geometry:t.geometry},o=!(!t.geometry||!t.geometry.geometries&&!t.geometry.coordinates));t.container&&o&&(e._feature=r.readFeatures(S({type:t.type,properties:t.properties,id:t.msId},n),{dataProjection:t.featuresCrs}),e._feature.map((function(e){var r=e;return e.getProperties().isCircle&&(r=Object(y.a)(e,t.crs||"EPSG:3857",t.featuresCrs)).setGeometry(r.getGeometry().transform(t.crs||"EPSG:3857",t.featuresCrs)),r})).forEach((function(e){return e.getGeometry().transform(t.featuresCrs,t.crs||"EPSG:3857")})),t.style&&t.style!==t.layerStyle&&e._feature.forEach((function(e){var r=[],n={};"FeatureCollection"===t.type?(n=p()(t.features,(function(t){return t.properties.id===e.getProperties().id})),r=Object(b.createStylesAsync)(d()(n.style))):(r=Object(b.createStylesAsync)(d()(t.style)),n={type:t.type,geometry:t.geometry,properties:t.properties,style:t.style}),l.a.all(r).then((function(t){e.setStyle((function(){return Object(m.e)(S(S({},n),{},{style:t}))}))}))})),t.container.getSource().addFeatures(e._feature))})),x(A(e),"removeFromContainer",(function(){if(e._feature)if(Array.isArray(e._feature)){var t=e.props.container.getSource();e._feature.map((function(e){var r=e.getId();void 0!==r&&t.getFeatureById(r)?t.removeFeature(t.getFeatureById(r)):t.removeFeature(e)}))}else e.props.container.getSource().removeFeature(e._feature)})),e}return t=a,(r=[{key:"componentDidMount",value:function(){this.addFeatures(this.props)}},{key:"shouldComponentUpdate",value:function(e){return!(Object(c.isEqual)(e.properties,this.props.properties)&&Object(c.isEqual)(e.geometry,this.props.geometry)&&Object(c.isEqual)(e.features,this.props.features)&&Object(c.isEqual)(e.crs,this.props.crs)&&Object(c.isEqual)(e.style,this.props.style))}},{key:"UNSAFE_componentWillUpdate",value:function(e){this.removeFromContainer(),this.addFeatures(e)}},{key:"componentWillUnmount",value:function(){this.removeFromContainer()}},{key:"render",value:function(){return null}}])&&w(t.prototype,r),n&&w(t,n),a}(o.a.Component);x(M,"propTypes",{type:i.a.string,layerStyle:i.a.object,style:i.a.object,properties:i.a.object,crs:i.a.string,container:i.a.object,features:i.a.array,geometry:i.a.object,msId:i.a.oneOfType([i.a.string,i.a.number]),featuresCrs:i.a.string}),x(M,"defaultProps",{featuresCrs:"EPSG:4326"})},"./MapStore2/web/client/components/map/openlayers/HighlightFeatureSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return j}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=r("./node_modules/ol/interaction/Select.js"),l=r("./node_modules/ol/events/condition.js"),c=r("./node_modules/ol/style/Stroke.js"),u=r("./node_modules/ol/style/Fill.js"),p=r("./node_modules/ol/style/Style.js"),f=r("./node_modules/ol/style/Circle.js");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,r,n,o=v(a);function a(){var e;b(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return E(O(e=o.call.apply(o,[this].concat(r))),"getLayer",(function(){var t;return e.props.map.getLayers().forEach((function(r){e.layersFilter(r)&&(t=r)}),O(e)),t})),E(O(e),"setSelectInteraction",(function(){e._selectInteraction.getActive()||e._selectInteraction.setActive(!0)})),E(O(e),"createSelectInteraction",(function(){e.createStyle(),e._selectInteraction=new s.a({layers:e.layersFilter,style:e._style,toggleCondition:l.i}),e._selectInteraction.on("select",e.selectionChange,O(e)),e.props.map.addInteraction(e._selectInteraction)})),E(O(e),"selectionChange",(function(){var t=[];e._selectInteraction.getFeatures().forEach((function(e){t.push(e.getId())})),e.props.updateHighlighted(t,"")})),E(O(e),"cleanSupport",(function(){e._selectInteraction&&e._selectInteraction.getActive()&&(e._selectInteraction.getFeatures().clear(),e.props.updateHighlighted([],""),e._selectInteraction.setActive(!1))})),E(O(e),"layersFilter",(function(t){return e.props.layer&&t.get("msId")===e.props.layer})),E(O(e),"createStyle",(function(){var t=e.props.selectedStyle,r={stroke:new c.default(t.stroke?t.stroke:{color:"blue",width:1}),fill:new u.default(t.fill?t.fill:{color:"blue"})};"Point"===t.type&&(r={image:new f.default(y(y({},r),{},{radius:t.radius||5}))}),e._style=new p.default(r)})),E(O(e),"highlightFeatures",(function(t){var r=e.getLayer(),n=e._selectInteraction.getFeatures();(n.clear(),r)&&r.getSource().getFeatures().map((function(e){-1!==t.indexOf(e.getId())&&n.push(e)}),O(e))})),e}return t=a,(r=[{key:"componentDidMount",value:function(){this.createSelectInteraction(),"enabled"===this.props.status?this._selectInteraction.setActive(!0):this._selectInteraction.setActive(!1),this.props.features&&this.highlightFeatures(this.props.features)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}},{key:"UNSAFE_componentWillUpdate",value:function(e){switch(e.status){case"enabled":this.setSelectInteraction(e);break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this._selectInteraction&&(this.cleanSupport(),this._selectInteraction.un("select",this.selectionChange,this),this.props.map.removeInteraction(this._selectInteraction),this._selectInteraction=null,this._style=null)}},{key:"render",value:function(){return null}}])&&g(t.prototype,r),n&&g(t,n),a}(i.a.Component);E(j,"propTypes",{map:o.a.object,layer:o.a.string.isRequired,status:o.a.oneOf(["disabled","enabled","update"]),updateHighlighted:o.a.func,selectedStyle:o.a.object,features:o.a.array}),E(j,"contextTypes",{messages:o.a.object}),E(j,"defaultProps",{status:"disabled",updateHighlighted:function(){},selectedStyle:{type:"Point",radius:12,stroke:{width:4,color:"yellow"},fill:{color:"red"}}})},"./MapStore2/web/client/components/map/openlayers/Layer.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return C}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/openlayers/Layers.js"),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=r.n(l),u=r("./node_modules/object-assign/index.js"),p=r.n(u),f=r("./node_modules/rxjs/Rx.js"),d=r.n(f),m=r("./MapStore2/node_modules/lodash/isNumber.js"),y=r.n(m),b=r("./MapStore2/node_modules/lodash/isArray.js"),g=r.n(b),h=r("./MapStore2/node_modules/lodash/omit.js"),v=r.n(h),S=r("./MapStore2/node_modules/lodash/isEqual.js"),O=r.n(S);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=M(e);if(t){var o=M(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,r,n,o=A(a);function a(){var e;E(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return P(x(e=o.call.apply(o,[this].concat(r))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&e.layer&&e.isValid()&&e.layer.setVisible(t)})),P(x(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity(t)})),P(x(e),"generateOpts",(function(t,r,n,o,a){return p()({},t,y()(r)?{zIndex:r}:null,{srs:n,onError:function(){e.props.onCreationError(t)},securityToken:o,env:a})})),P(x(e),"createLayer",(function(t,r,n,o,a){if(t){var i=e.generateOpts(r,n,c.a.normalizeSRS(e.props.srs),o,a);e.layer=s.default.createLayer(t,i,e.props.map,e.props.mapId);var l=s.default.isCompatible(t,i);if(e.layer&&!e.layer.detached){var u=e.props.map,p=u&&u.getView().getProjection().getExtent(),f=r&&r.bbox&&r.bbox.bounds,d=p&&c.a.reprojectBbox(p,e.props.srs,"EPSG:4326"),m=f&&c.a.reprojectBbox(c.a.getExtentFromNormalized(f,e.props.srs).extent,"EPSG:4326");m&&2===m.length&&g()(m[1])&&(m=m[1]),(d&&m&&!c.a.isBboxCompatible(c.a.getPolygonFromExtent(d),c.a.getPolygonFromExtent(m))||!l)&&e.props.onWarning({title:"warning",message:"notification.incompatibleDataAndProjection",action:{label:"close"},position:"tc",uid:"1"}),e.addLayer(r)}e.layer&&e.layer.get&&e.layer.get("getElevation")&&e.props.map.set("elevationLayer",e.layer),e.forceUpdate()}})),P(x(e),"updateLayer",(function(t,r){if(t.position===r.position&&t.srs===r.srs&&t.securityToken===r.securityToken){if(t.options===r.options)return;if(O()(v()(t.options,["loading"]),v()(r.options,["loading"])))return}var n=s.default.updateLayer(e.props.type,e.layer,e.generateOpts(t.options,t.position,t.projection,t.securityToken,t.env),e.generateOpts(r.options,r.position,r.projection,r.securityToken,r.env),e.props.map,e.props.mapId);n&&(e.props.map.removeLayer(e.layer),e.layer=n,e.addLayer(t.options))})),P(x(e),"addLayer",(function(t){if(e.isValid()){e.props.map.addLayer(e.layer);var r=new d.a.Subject,n=new d.a.Subject;t.handleClickOnLayer&&e.layer.set("handleClickOnLayer",!0),e.layer.getSource().on("tileloadstart",(function(){0===e.tilestoload?(e.props.onLayerLoading(t.id),e.tilestoload++):e.tilestoload++})),e.layer.getSource().on("tileloadend",(function(){r.next({type:"tileloadend"}),e.tilestoload--,0===e.tilestoload&&n.next()})),e.layer.getSource().on("tileloaderror",(function(t){r.next({type:"tileloaderror",event:t}),e.tilestoload--,0===e.tilestoload&&n.next()})),r.bufferWhen((function(){return n})).subscribe({next:function(r){var n=r.filter((function(e){return"tileloaderror"===e.type}));n.length>0&&(t&&!t.hideErrors||!t)?(e.props.onLayerLoad(t.id,{error:!0}),e.props.onLayerError(t.id,r.length,n.length)):e.props.onLayerLoad(t.id)}}),e.tileLoadEndStream$=r,e.tileStopStream$=n;var o=new d.a.Subject,a=new d.a.Subject;if(e.layer.getSource().on("imageloadstart",(function(){0===e.imagestoload?(e.props.onLayerLoading(t.id),e.imagestoload++):e.imagestoload++})),e.layer.getSource().on("imageloadend",(function(){e.imagestoload--,o.next({type:"imageloadend"}),0===e.imagestoload&&a.next()})),e.layer.getSource().on("imageloaderror",(function(t){e.imagestoload--,o.next({type:"imageloaderror",event:t}),0===e.imagestoload&&a.next()})),o.bufferWhen((function(){return a})).subscribe({next:function(r){var n=r.filter((function(e){return"imageloaderror"===e.type}));n.length>0?(e.props.onLayerLoad(t.id,{error:!0}),(t&&!t.hideErrors||!t)&&e.props.onLayerError(t.id,r.length,n.length)):e.props.onLayerLoad(t.id)}}),e.imageLoadEndStream$=o,e.imageStopStream$=a,t.refresh){var i=0;e.refreshTimer=setInterval((function(){e.layer.getSource().updateParams(p()({},t.params,{_refreshCounter:i++}))}),t.refresh)}}})),P(x(e),"isValid",(function(){var t=s.default.isValid(e.props.type,e.layer);return e.valid=t,t})),e}return t=a,(r=[{key:"componentDidMount",value:function(){this.valid=!0,this.tilestoload=0,this.imagestoload=0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken,this.props.env)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var r=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(r),e.position!==this.props.position&&this.layer&&this.layer.setZIndex&&this.layer.setZIndex(e.position),this.props.options&&this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.tileLoadEndStream$&&(this.tileLoadEndStream$.complete(),this.tileStopStream$.complete(),this.imageLoadEndStream$.complete(),this.imageStopStream$.complete()),this.layer.detached?this.layer.remove():this.props.map.removeLayer(this.layer)),this.refreshTimer&&clearInterval(this.refreshTimer),s.default.removeLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?i.a.Children.map(this.props.children,(function(r){return r?i.a.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return i.a.createElement(i.a.Fragment,null,r)}return s.default.renderLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}}])&&j(t.prototype,r),n&&j(t,n),a}(i.a.Component);P(C,"propTypes",{onWarning:o.a.func,maxExtent:o.a.array,map:o.a.object,mapId:o.a.string,srs:o.a.string,type:o.a.string,options:o.a.object,onLayerLoading:o.a.func,onLayerError:o.a.func,onCreationError:o.a.func,onLayerLoad:o.a.func,position:o.a.number,observables:o.a.array,securityToken:o.a.string,env:o.a.array}),P(C,"defaultProps",{observables:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},onCreationError:function(){},onWarning:function(){},srs:"EPSG:3857"})},"./MapStore2/web/client/components/map/openlayers/Locate.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=(r("./MapStore2/web/client/utils/openlayers/olPopUp.css"),r("./node_modules/object-assign/index.js")),l=r.n(s),c=r("./node_modules/ol/util.js"),u=r("./node_modules/ol/Object.js"),p=r("./node_modules/ol/Overlay.js"),f=r("./node_modules/ol/Feature.js"),d=r("./node_modules/ol/source/Vector.js"),m=r("./node_modules/ol/layer/Vector.js"),y=r("./node_modules/ol/Geolocation.js"),b=r("./node_modules/ol/geom/Point.js"),g=r("./node_modules/ol/geom/Circle.js"),h=r("./node_modules/ol/geom/GeometryCollection.js"),v=r("./node_modules/ol/style/Style.js"),S=r("./node_modules/ol/style/Fill.js"),O=r("./node_modules/ol/style/Stroke.js"),w=r("./node_modules/ol/style/Circle.js"),E=function(){var e=document.createElement("div");e.setAttribute("class","ol-popup");var t=document.createElement("a");t.setAttribute("class","ol-popup-close-btn"),t.setAttribute("href","#close"),t.innerHTML="x";var r=document.createElement("div");r.setAttribute("class","ol-popup-cnt-wrapper");var n=document.createElement("div");n.setAttribute("class","ol-popup-cnt"),r.appendChild(n);var o=document.createElement("div");o.setAttribute("class","ol-popup-tip-wrapper");var a=document.createElement("div");return a.setAttribute("class","ol-popup-tip"),o.appendChild(a),e.appendChild(t),e.appendChild(r),e.appendChild(o),e}(),j=function(e,t){u.a.call(this,{state:"DISABLED"}),this.map=e;var r={drawCircle:!0,follow:!0,stopFollowingOnDrag:!1,remainActive:!0,locateStyle:this._getDefaultStyles(),metric:!0,onLocationError:this.onLocationError,keepCurrentZoomLevel:!1,showPopup:!0,strings:{metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point"},locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}};this.options=l()({},r,t||{}),this.geolocate=new y.a({projection:this.map.getView().getProjection(),trackingOptions:this.options.locateOptions}),this.updateHandler=this._updatePosFt.bind(this),this.geolocate.on("change:position",this.updateHandler),this.popup=E,this.popup.hidden=!0,this.popCnt=E.getElementsByClassName("ol-popup-cnt")[0],this.overlay=new p.a({element:this.popup,positioning:"top-center",stopEvent:!1}),this.layer=new m.a({source:new d.a({useSpatialIndex:!1})}),this.posFt=new f.a({geometry:this.geolocate.getAccuracyGeometry(),name:"position",id:"_locate-pos"}),this.posFt.setStyle(this.options.locateStyle),this.layer.getSource().addFeature(this.posFt),this.clickHandler=this.mapClick.bind(this),this.stopHandler=this.stopFollow.bind(this),this.errorHandler=this.options.onLocationError.bind(this)};Object(c.d)(j,u.a),j.prototype.start=function(){this.geolocate.on("error",this.errorHandler),this.follow=this.options.follow,this.geolocate.setTracking(!0),this.layer.setMap(this.map),this.map.addOverlay(this.overlay),this.options.showPopup&&(this.map.on("click",this.clickHandler),this.map.on("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p?this._updatePosFt():this.set("state","LOCATING")},j.prototype.startFollow=function(){this.follow=!0,this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p&&this._updatePosFt()},j.prototype.stop=function(){this.geolocate.un("error",this.errorHandler),this.geolocate.setTracking(!1),this.popup.hide=!0,this.map.removeOverlay(this.overlay),this.layer.setMap(null),this.options.showPopup&&(this.map.un("click",this.clickHandler),this.map.un("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.un("pointerdrag",this.stopHandler),this.set("state","DISABLED")},j.prototype.stopFollow=function(){this.follow=!1,this.map.un("pointerdrag",this.stopHandler),this.set("state","ENABLED")},j.prototype._updatePosFt=function(){var e=this.get("state"),t=this.follow?"FOLLOWING":"ENABLED";t!==e&&this.set("state",t);var r=this.geolocate.getPosition();this.p=r;var n=new b.a([parseFloat(r[0]),parseFloat(r[1])]);if(this.options.drawCircle){var o=new g.a([parseFloat(r[0]),parseFloat(r[1])],this.geolocate.getAccuracy());this.posFt.setGeometry(new h.default([n,o]))}else this.posFt.setGeometry(new h.default([n]));this.popup.hidden||this._updatePopUpCnt(),this.follow&&this.updateView(n),this.options.remainActive||this.geolocate.setTracking(!1)},j.prototype.updateView=function(e){this.follow&&(this.map.getView().setCenter(e.getCoordinates()),this.options.keepCurrentZoomLevel||this.map.getView().setZoom(this.options.locateOptions.maxZoom))},j.prototype._updatePopUpCnt=function(){var e,t;this.options.metric?(e=this.geolocate.getAccuracy(),t=this.options.strings.metersUnit):(e=Math.round(3.2808399*this.geolocate.getAccuracy()),t=this.options.strings.feetUnit);var r=this.options.strings.popup.replace("{distance}",e);this.popCnt.innerHTML=r.replace("{unit}",t),this.overlay.setPosition(this.posFt.getGeometry().getGeometries()[0].getCoordinates()),this.popup.hidden=!1},j.prototype.onLocationError=function(e){alert(e.message)},j.prototype.mapClick=function(e){var t=this.map.forEachFeatureAtPixel(e.pixel,(function(e){return e}));t&&"_locate-pos"===t.get("id")&&this.popup.hidden?this._updatePopUpCnt():this.popup.hidden||(E.hidden=!0)},j.prototype._getDefaultStyles=function(){return new v.default({image:new w.default({radius:6,fill:new S.default({color:"rgba(42,147,238,0.7)"}),stroke:new O.default({color:"rgba(19,106,236,1)",width:2})}),fill:new S.default({color:"rgba(19,106,236,0.15)"}),stroke:new O.default({color:"rgba(19,106,236,1)",width:2})})},j.prototype.setStrings=function(e){this.options.strings=l()({},this.options.strings,e)};var T=j;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R(e);if(t){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return C(this,r)}}function C(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"default",(function(){return N}));var D={follow:!0,remainActive:!0,metric:!0,stopFollowingOnDrag:!0,keepCurrentZoomLevel:!1,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,e);var t,r,n,o=P(a);function a(){var e;_(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return I(L(e=o.call.apply(o,[this].concat(r))),"onStateChange",(function(t){e.props.status!==t&&e.props.changeLocateState(t)})),I(L(e),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),I(L(e),"configureLocate",(function(t){var r=e.locate.get("state");"ENABLED"===t&&"DISABLED"===r?e.locate.start():"FOLLOWING"===t&&"ENABLED"===r?e.locate.startFollow():"DISABLED"===t&&e.locate.stop()})),e}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.map&&(this.locate=new T(this.props.map,D),this.locate.setStrings(this.props.messages),this.locate.options.onLocationError=this.onLocationError,this.locate.on("propertychange",(function(t){e.onStateChange(t.target.get(t.key))})),this.configureLocate(this.props.status))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.status!==this.props.status&&this.configureLocate(e.status),e.messages!==this.props.messages&&this.locate.setStrings(e.messages)}},{key:"render",value:function(){return null}}])&&x(t.prototype,r),n&&x(t,n),a}(i.a.Component);I(N,"displayName","Locate"),I(N,"propTypes",{map:o.a.object,status:o.a.string,messages:o.a.object,changeLocateState:o.a.func,onLocateError:o.a.func}),I(N,"defaultProps",{id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}})},"./MapStore2/web/client/components/map/openlayers/Map.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/ol/interaction.js"),o=r("./node_modules/ol/interaction/DragPan.js"),a=r("./node_modules/ol/interaction/MouseWheelZoom.js"),i=r("./node_modules/ol/control/util.js"),s=r("./node_modules/ol/Map.js"),l=r("./node_modules/ol/View.js"),c=r("./node_modules/ol/proj.js"),u=r("./node_modules/ol/control/Zoom.js"),p=r("./node_modules/ol/proj/Units.js"),f=r("./node_modules/ol/extent.js"),d=r("./MapStore2/web/client/libs/proj4.js"),m=r.n(d),y=r("./node_modules/ol/proj/proj4.js"),b=r("./node_modules/prop-types/index.js"),g=r.n(b),h=r("./node_modules/react/index.js"),v=r.n(h),S=r("./node_modules/object-assign/index.js"),O=r.n(S),w=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),E=r.n(w),j=r("./MapStore2/web/client/utils/ConfigUtils.js"),T=r.n(j),A=r("./MapStore2/web/client/utils/MapUtils.js"),_=r.n(A),x=r("./node_modules/ol/proj/Projection.js"),M=function(e,t,r,n,o){Object(c.c)(new x.a({code:e,extent:t,worldExtent:r,axisOrientation:n,units:o}))},P=r("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),C=r("./MapStore2/node_modules/lodash/lodash.js");r("./node_modules/ol/ol.css"),r("./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(g,e);var t,r,d,b=N(g);function g(){var e;R(this,g);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return U(F(e=b.call.apply(b,[this].concat(r))),"getDocument",(function(){return e.props.document||document})),U(F(e),"getResolutions",(function(){if(e.props.mapOptions&&e.props.mapOptions.view&&e.props.mapOptions.view.resolutions)return e.props.mapOptions.view.resolutions;var t=void 0!==e.props.mapOptions.minZoom?e.props.mapOptions.minZoom:0,r=void 0!==e.props.mapOptions.maxZoom?e.props.mapOptions.maxZoom:28,n=void 0!==e.props.mapOptions.zoomFactor?e.props.mapOptions.zoomFactor:2,o=e.map.getView().getProjection(),a=o.getExtent(),i=(a?Object(f.E)(a):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256,s=(a?Object(f.A)(a):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256;i<=s?(1,s/=Math.round(s/i)):(1,i/=Math.round(i/s));var l=Math.max(i,s),c=l/Math.pow(2,28),u=e.props.mapOptions.maxResolution;void 0!==u?t=0:u=l/Math.pow(n,t);var d=e.props.mapOptions.minResolution;return void 0===d&&(d=void 0!==e.props.mapOptions.maxZoom?void 0!==e.props.mapOptions.maxResolution?u/Math.pow(n,r):l/Math.pow(n,r):c),r=t+Math.floor(Math.log(u/d)/Math.log(n)),Array.apply(0,Array(r-t+1)).map((function(e,t){return u/Math.pow(n,t)}))})),U(F(e),"mouseMoveEvent",(function(t){if(!t.dragging&&t.coordinate){var r=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation"),n=t.coordinate.slice(),o=Object(c.k)(n,e.props.projection),a=o[0]/360%1*360;a<-180?a+=360:a>180&&(a-=360),e.props.onMouseMove({y:o[1]||0,x:a||0,z:e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation")(n,t.pixel)||void 0,crs:"EPSG:4326",pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:o[1],lng:a,z:r&&r(n,t.pixel)||void 0},lat:o[1],lng:a,rawPos:t.coordinate.slice()})}})),U(F(e),"updateMapInfoState",(function(){var t=e.map.getView(),r=t.getCenter(),n=t.getProjection().getExtent(),o=t.getProjection().getCode();if(-1!==["EPSG:3857","EPSG:900913","EPSG:4326"].indexOf(o)||r&&r[0]>=n[0]&&r[0]<=n[2]&&r[1]>=n[1]&&r[1]<=n[3]){var a=e.normalizeCenter(t.getCenter()),i=t.calculateExtent(e.map.getSize()),s={width:e.map.getSize()[0],height:e.map.getSize()[1]};e.props.onMapViewChanges({x:a[0]||0,y:a[1]||0,crs:"EPSG:4326"},t.getZoom(),{bounds:{minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},crs:o,rotation:t.getRotation()},s,e.props.id,e.props.projection)}})),U(F(e),"haveResolutionsChanged",(function(t){var r=e.props.mapOptions&&e.props.mapOptions.view?e.props.mapOptions.view.resolutions:void 0,n=t.mapOptions&&t.mapOptions.view?t.mapOptions.view.resolutions:void 0;return!Object(C.isEqual)(r,n)})),U(F(e),"createView",(function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=o.restrictedExtent&&o.crs&&E.a.reprojectBbox(o.restrictedExtent,o.crs,E.a.normalizeSRS(r)),i=!n||n&&!n.view?O()({},n,{extent:a}):O()({},n),s=O()({},{projection:E.a.normalizeSRS(r),center:[e.x,e.y],zoom:t,minZoom:o.minZoom},i||{});return new l.a(s)})),U(F(e),"_updateMapPositionFromNewProps",(function(t){var r=e.map.getView(),n=e.props.center;if(!(t.center.y===n.y&&t.center.x===n.x)){var o=E.a.reproject({x:t.center.x,y:t.center.y},"EPSG:4326",t.projection,!0);r.setCenter([o.x,o.y])}Math.round(t.zoom)!==e.props.zoom&&r.setZoom(Math.round(t.zoom)),(t.bbox&&void 0!==t.bbox.rotation||e.bbox&&void 0!==e.bbox.rotation&&t.bbox.rotation!==e.props.bbox.rotation)&&r.setRotation(t.bbox.rotation)})),U(F(e),"normalizeCenter",(function(t){var r=E.a.reproject({x:t[0],y:t[1]},e.props.projection,"EPSG:4326",!0);return[r.x,r.y]})),U(F(e),"setMousePointer",(function(t){e.map&&(e.map.getViewport().style.cursor=t||"auto")})),U(F(e),"registerHooks",(function(){e.props.hookRegister.registerHook(_.a.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(_.a.RESOLUTION_HOOK,(function(){return e.map.getView().getResolution()})),e.props.hookRegister.registerHook(_.a.COMPUTE_BBOX_HOOK,(function(t,r){var n=E.a.reproject([t.x,t.y],"EPSG:4326",e.props.projection),o=e.createView(n,r,e.props.projection,e.props.mapOptions&&e.props.mapOptions.view,e.props.limits),a=e.map.getSize(),i=o.calculateExtent(a);return{bounds:{minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},crs:e.props.projection,rotation:e.map.getView().getRotation()}})),e.props.hookRegister.registerHook(_.a.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){return e.map.getPixelFromCoordinate(t)})),e.props.hookRegister.registerHook(_.a.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){return e.map.getCoordinateFromPixel(t)})),e.props.hookRegister.registerHook(_.a.ZOOM_TO_EXTENT_HOOK,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.padding,o=r.crs,a=r.maxZoom,i=r.duration,s=E.a.reprojectBbox(t,o,e.props.projection);s&&s[0]===s[2]&&s[1]===s[3]&&"EPSG:4326"===o&&Object(C.isArray)(t)&&-180===t[0]&&-90===t[1]&&(s=e.map.getView().getProjection().getExtent());var l=a;s&&s[0]===s[2]&&s[1]===s[3]&&Object(C.isNil)(l)&&(l=21),e.map.getView().fit(s,{size:e.map.getSize(),padding:n&&[n.top||0,n.right||0,n.bottom||0,n.left||0],maxZoom:l,duration:i})}))})),e}return t=g,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.projectionDefs.forEach((function(e){var t=m.a.defs(e.code);M(e.code,e.extent,e.worldExtent,e.axisOrientation||t.axis||"enu",t.units||"m")}));var t=E.a.reproject([this.props.center.x,this.props.center.y],"EPSG:4326",this.props.projection);Object(y.a)(m.a);var r=O()(this.props.interactive?{}:{doubleClickZoom:!1,dragPan:!1,altShiftDragRotate:!1,keyboard:!1,mouseWheelZoom:!1,shiftDragZoom:!1,pinchRotate:!1,pinchZoom:!1},this.props.mapOptions.interactions),l=Object(n.a)(O()({dragPan:!1,mouseWheelZoom:!1},r,{}));void 0!==r&&void 0!==r.dragPan||(this.dragPanInteraction=new o.a({kinetic:!1}),l.extend([this.dragPanInteraction])),void 0!==r&&void 0!==r.mouseWheelZoom||(this.mouseWheelInteraction=new a.a({duration:0}),l.extend([this.mouseWheelInteraction]));var u=Object(i.a)(O()({zoom:this.props.zoomControl,attributionOptions:O()({collapsible:!1},this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container?{target:this.getDocument().querySelector(this.props.mapOptions.attribution.container)}:{})},this.props.mapOptions.controls)),p=new s.default({layers:[],controls:u,interactions:l,maxTilesLoading:1/0,target:this.getDocument().getElementById(this.props.id)||"".concat(this.props.id),view:this.createView(t,Math.round(this.props.zoom),this.props.projection,this.props.mapOptions&&this.props.mapOptions.view,this.props.limits)});this.map=p,this.map.disabledListeners={},this.map.disableEventListener=function(t){e.map.disabledListeners[t]=!0},this.map.enableEventListener=function(t){delete e.map.disabledListeners[t]},this.map.getViewport().addEventListener("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),p.on("moveend",this.updateMapInfoState),p.on("singleclick",(function(t){if(e.props.onClick&&!e.map.disabledListeners.singleclick){var r=e.map.getView(),n=t.coordinate.slice(),o=r.getProjection().getExtent();if("EPSG:4326"===e.props.projection&&(n[0]=E.a.normalizeLng(n[0])),"EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection||(n=Object(c.k)(n,e.props.projection),o=E.a.reprojectBbox(o,e.props.projection,"EPSG:4326")),n[0]>=o[0]&&n[0]<=o[2]&&n[1]>=o[1]&&n[1]<=o[3]){var a,i;a="EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection?E.a.reproject(n,e.props.projection,"EPSG:4326"):{x:n[0],y:n[1]},e.markerPresent=!1,p.forEachFeatureAtPixel(t.pixel,(function(t,r){if(r&&r.get("handleClickOnLayer")){var n=t.getGeometry();if(!e.markerPresent&&"Point"===n.getType()){e.markerPresent=!0,i=r.get("msId");var o=Object(c.k)(n.getFirstCoordinate(),e.props.projection);a={x:o[0],y:o[1]}}}}));var s=E.a.normalizeLng(a.x),l=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation");e.props.onClick({pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:a.y,lng:s,z:l&&l(n,t.pixel)||void 0},rawPos:t.coordinate.slice(),modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,shift:t.originalEvent.shiftKey}},i)}}}));var f=Object(C.throttle)(this.mouseMoveEvent,100);p.on("pointermove",f),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.props.onResolutionsChange(this.getResolutions()),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?this.map.addControl(new u.a):this.map.removeControl(this.map.getControls().getArray().filter((function(e){return e instanceof u.a}))[0])),this.map&&(this.props.mapOptions&&this.props.mapOptions.interactions)!==(e.mapOptions&&e.mapOptions.interactions)){var r=e.mapOptions.interactions||{},n=this.map.getInteractions().getArray();Object.keys(r).forEach((function(e){var o=P.DEFAULT_INTERACTION_OPTIONS[e]||{},a=o.Instance,i=o.options,s=Object(C.find)(n,(function(t){return P.DEFAULT_INTERACTION_OPTIONS[e]&&t instanceof a}));s?s.setActive(r[e]):r[e]&&a&&t.map.addInteraction(new a(i))}))}if(this.map&&this.props.id!==e.mapStateSource&&this._updateMapPositionFromNewProps(e),this.map&&e.resize!==this.props.resize&&setTimeout((function(){t.map.updateSize()}),0),this.map&&(this.props.projection!==e.projection||this.haveResolutionsChanged(e))||this.props.limits!==e.limits){if(this.props.projection!==e.projection||this.props.limits!==e.limits){var o=e.projection,a=E.a.reproject([e.center.x,e.center.y],"EPSG:4326",o);this.map.setView(this.createView(a,e.zoom,e.projection,e.mapOptions&&e.mapOptions.view,e.limits)),this.props.onResolutionsChange(this.getResolutions())}this.map.getLayers().forEach((function(e){var t=e.getSource();t.getTileLoadFunction&&t.setTileLoadFunction(t.getTileLoadFunction())})),this.map.render()}}},{key:"componentWillUnmount",value:function(){var e=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&this.getDocument().querySelector(this.props.mapOptions.attribution.container);if(e&&e.querySelector(".ol-attribution"))try{e.removeChild(e.querySelector(".ol-attribution"))}catch(e){}this.map&&this.map.setTarget(null)}},{key:"render",value:function(){var e=this,t=this.map,r=t?v.a.Children.map(this.props.children,(function(r){return r?v.a.cloneElement(r,{map:t,mapId:e.props.id,onLayerLoading:e.props.onLayerLoading,onLayerError:e.props.onLayerError,onLayerLoad:e.props.onLayerLoad,projection:e.props.projection,onCreationError:e.props.onCreationError}):null})):null;return v.a.createElement("div",{id:this.props.id,style:this.props.style},r)}}])&&I(t.prototype,r),d&&I(t,d),g}(v.a.Component);U(B,"propTypes",{id:g.a.string,document:g.a.object,style:g.a.object,center:T.a.PropTypes.center,zoom:g.a.number.isRequired,mapStateSource:T.a.PropTypes.mapStateSource,projection:g.a.string,projectionDefs:g.a.array,onMapViewChanges:g.a.func,onResolutionsChange:g.a.func,onClick:g.a.func,mapOptions:g.a.object,zoomControl:g.a.bool,mousePointer:g.a.string,onMouseMove:g.a.func,onLayerLoading:g.a.func,onLayerLoad:g.a.func,onLayerError:g.a.func,resize:g.a.number,measurement:g.a.object,changeMeasurementState:g.a.func,registerHooks:g.a.bool,hookRegister:g.a.object,interactive:g.a.bool,onCreationError:g.a.func,bbox:g.a.object,wpsBounds:g.a.object,onWarning:g.a.func,maxExtent:g.a.array,limits:g.a.object,onMouseOut:g.a.func}),U(B,"defaultProps",{id:"map",onMapViewChanges:function(){},onResolutionsChange:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},mapOptions:{},projection:"EPSG:3857",projectionDefs:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:_.a,interactive:!0,onMouseOut:function(){}});t.default=B},"./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return H}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/prop-types/index.js"),i=r.n(a),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=r("./MapStore2/web/client/utils/MeasureUtils.js"),u=r("./MapStore2/web/client/utils/ImmutableUtils.js"),p=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),f=r("./MapStore2/web/client/utils/LocaleUtils.js"),d=r("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),m=r("./node_modules/ol/geom/Polygon.js"),y=r("./node_modules/ol/geom/LineString.js"),b=r("./node_modules/ol/Overlay.js"),g=r("./node_modules/ol/source/Vector.js"),h=r("./node_modules/ol/layer/Vector.js"),v=r("./node_modules/ol/Feature.js"),S=r("./node_modules/ol/style/Style.js"),O=r("./node_modules/ol/style/Fill.js"),w=r("./node_modules/ol/style/Stroke.js"),E=r("./node_modules/ol/style/Circle.js"),j=r("./node_modules/ol/interaction/Draw.js"),T=r("./node_modules/ol/format/GeoJSON.js"),A=r("./node_modules/ol/Observable.js"),_=r("./node_modules/ol/sphere.js");function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(e){return e.getView().getProjection().getCode()},H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,r,n,o=N(a);function a(){var e;R(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return U(F(e=o.call.apply(o,[this].concat(r))),"getLength",(function(t,r){if("Bearing"===r.measurement.geomType&&t.length>1)return Object(l.calculateAzimuth)(t[0],t[1],B(r.map));var n=e.reprojectedCoordinatesIn4326(t);return Object(l.calculateDistance)(n,r.measurement.lengthFormula)})),U(F(e),"getArea",(function(t){return e.calculateGeodesicArea(t.getLinearRing(0).getCoordinates())})),U(F(e),"validateCoords",(function(e){return e.filter((function(e){return!isNaN(parseFloat(e[0]))&&!isNaN(parseFloat(e[1]))}))})),U(F(e),"updateFeatures",(function(t){var r=e.source.getFeatures();e.removeMeasureTooltips(),e.removeSegmentLengthOverlays(),e.source.clear(),e.textLabels=[],e.segmentLengths=[];var n=t.measurement.features.map((function(n,o){if(Object(s.get)(n,"properties.disabled"))return[n,r&&r[o]&&r[o].getGeometry()];var a=n.geometry.type,i=Object(s.get)(n,"properties.values",[]),u="bearing"===(i[0]||{}).type||!(i[0]||{}).type&&t.measurement.bearingMeasureEnabled,p="Polygon"===a?n.geometry.coordinates[0]:n.geometry.coordinates,f=e.reprojectedCoordinatesFrom4326(p),d="Polygon"===a?new m.b([f]):new y.a(f),b={Point:function(){return p},LineString:function(){return u?Object(l.calculateAzimuth)(p[0],p[1],"EPSG:4326"):Object(l.calculateDistance)(p,t.measurement.lengthFormula)},Polygon:function(){return e.getArea(d)}},g={LineString:function(){return e.formatLengthValue(u?Object(l.calculateAzimuth)(p[0],p[1],"EPSG:4326"):Object(l.calculateDistance)(p,t.measurement.lengthFormula),t.uom,u,t.measurement.trueBearing)},Polygon:function(){return e.formatAreaValue(e.getArea(d),t.uom)}};if(!u)for(var h=0;h<p.length-1;++h){e.createSegmentLengthOverlay();var v=Object(l.calculateAzimuth)(p[h],p[h+1],"EPSG:4326"),S=Object(l.calculateDistance)([p[h],p[h+1]],t.measurement.lengthFormula),O=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(c.getFormattedBearingValue)(v,e.props.measurement.trueBearing)||"",w=e.formatLengthValue(S,t.uom,u)+O;Object(s.last)(e.segmentOverlayElements).innerHTML=w,Object(s.last)(e.segmentOverlays).setPosition(Object(l.midpoint)(f[h],f[h+1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:w,position:Object(l.midpoint)(p[h],p[h+1],!0)},e.segmentLengths[e.segmentOverlays.length-1]={value:S,type:u?"bearing":"length"}}if(e.createMeasureTooltip(),"Polygon"===a&&e.createMeasureTooltip(),e.tooltipCoord="LineString"===a?Object(s.last)(f):e.tooltipCoord=d.getInteriorPoint().getCoordinates(),Object(s.last)(e.measureTooltipElements).innerHTML=g[a](),Object(s.last)(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.measureTooltipElements.length-1]={value:b[a](),type:"Polygon"===a?"area":u?"bearing":"length"},"Polygon"===a){var E=Object(l.calculateDistance)(p,t.measurement.lengthFormula);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(E,t.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:E,type:"length"},e.perimeterTooltipCoord=Object(s.last)(f),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord),e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7])}var j=L({},n);return j.properties=n.properties?L({},n.properties):{},j.properties.values=[{value:(b[a]||function(){return null})(),formattedValue:(g[a]||function(){return null})(),position:"Polygon"===a?Object(l.pointObjectToArray)(Object(l.reproject)(d.getInteriorPoint().getCoordinates(),B(t.map),"EPSG:4326")):Object(s.last)(p),type:(i[0]||{}).type||(t.measurement.pointMeasureEnabled?"point":t.measurement.lineMeasureEnabled?"length":t.measurement.areaMeasureEnabled?"area":t.measurement.bearingMeasureEnabled?"bearing":void 0)}].concat(M("Polygon"===a?[{value:Object(l.calculateDistance)(p,t.measurement.lengthFormula),formattedValue:e.formatLengthValue(Object(l.calculateDistance)(p,t.measurement.lengthFormula),t.uom,!1),position:Object(s.last)(p),uom:t.uom,type:"length"}]:[])),[j,d]})),o=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]}));e.source.addFeatures(a.filter((function(e){return!!e})).map((function(e){return new v.a({geometry:e})})));var i=M(e.textLabels);o.map((function(e){var t=!!e.properties.values.find((function(e){return"bearing"===e.type}));e.geometry=e.geometry||{};var r="Polygon"===e.geometry.type,n=r||t?0:1,o=r?e.geometry.coordinates[0]:e.geometry.coordinates,a=r?o.length-1:t?0:o.length;return e.geometry.textLabels=i.splice(0,a-n)||[],e})),e.props.changeGeometry(o),e.props.setTextLabels(M(e.textLabels));for(var u=0;u<e.measureTooltipElements.length;++u)e.measureTooltipElements[u]&&(e.measureTooltipElements[u].className="tooltip tooltip-static");for(var p=0;p<e.segmentOverlayElements.length;++p)e.segmentOverlayElements[p]&&(e.segmentOverlayElements[p].className="segment-overlay segment-overlay-static")})),U(F(e),"updateMeasures",(function(t){for(var r=function(r){var n=r.type,o=r.value;return"length"===n?e.formatLengthValue(o,t.uom,!1):"area"===n?e.formatAreaValue(o,t.uom):e.formatLengthValue(o,t.uom,!0,t.measurement.trueBearing)},n=0;n<e.outputValues.length;++n)e.outputValues[n]&&(e.measureTooltipElements[n].innerHTML=r(e.outputValues[n]));for(var o=0;o<e.segmentOverlayElements.length;++o)if(e.segmentOverlayElements[o]){var a=r(e.segmentLengths[o]),i=e.textLabels[o].text,s=i.indexOf(" | ");i=i.replace(i.substring(0,-1!==s?s:i.length),a),e.segmentOverlayElements[o].innerHTML=i,e.textLabels[o].text=i}e.drawing||e.props.setTextLabels(M(e.textLabels));var l=(t.measurement.features||[]).map((function(e){return L(L({},e),e.properties?{properties:L(L({},e.properties),{},{values:(e.properties.values||[]).map((function(e){return L(L({},e),{},{formattedValue:r({type:e.type,value:e.value})})}))})}:{})}));e.props.changeGeometry(l)})),U(F(e),"addFeature",(function(t){var r=!1;e.source||(e.source=new g.a,r=!0);var n=Object(l.reprojectGeoJson)(t,"EPSG:4326",B(e.props.map)).geometry,o=new v.a({geometry:Object(d.createOLGeometry)(n)});e.source.addFeature(o),r&&e.measureLayer.setSource(e.source)})),U(F(e),"resetGeometry",(function(){e.source.clear(),e.props.resetGeometry()})),U(F(e),"saveDrawState",(function(){var t,r,n,o;e.savedDrawState={textLabels:e.textLabels.slice(),segmentLengths:e.segmentLengths.slice(),measureTooltipsLength:null!==(t=null===(r=e.measureTooltips)||void 0===r?void 0:r.length)&&void 0!==t?t:0,segmentOverlaysLength:null!==(n=null===(o=e.segmentOverlays)||void 0===o?void 0:o.length)&&void 0!==n?n:0}})),U(F(e),"discardDrawState",(function(){e.savedDrawState=null})),U(F(e),"restoreDrawState",(function(){if(e.savedDrawState){e.textLabels=e.savedDrawState.textLabels,e.segmentLengths=e.savedDrawState.segmentLengths;for(var t=e.savedDrawState.measureTooltipsLength;t<e.measureTooltips.length;++t)e.props.map.removeOverlay(e.measureTooltips[t]),e.measureTooltipElements[t].parentNode.removeChild(e.measureTooltipElements[t]);for(var r=e.savedDrawState.segmentOverlaysLength;r<e.segmentOverlays.length;++r)e.props.map.removeOverlay(e.segmentOverlays[r]),e.segmentOverlayElements[r].parentNode.removeChild(e.segmentOverlayElements[r]);e.measureTooltips.splice(e.savedDrawState.measureTooltipsLength),e.measureTooltipElements.splice(e.savedDrawState.measureTooltipsLength),e.outputValues.splice(e.savedDrawState.measureTooltipsLength),e.segmentOverlays.splice(e.savedDrawState.segmentOverlaysLength),e.segmentOverlayElements.splice(e.savedDrawState.segmentOverlaysLength),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.savedDrawState=null}})),U(F(e),"addDrawInteraction",(function(t){var r,n,o=t.measurement.startEndPoint;if(e.continueLineMsg=Object(f.getMessageById)(e.context.messages,"measureSupport.continueLine"),e.continuePolygonMsg=Object(f.getMessageById)(e.context.messages,"measureSupport.continuePolygon"),e.drawInteraction&&e.removeDrawInteraction(),!e.vector){e.source=new g.a;var a=[new S.default({fill:new O.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new w.default({color:"#ffcc33",width:2}),image:new E.default({radius:7,fill:new O.default({color:"#ffcc33"})})})],i=[],d=o||!0===o;if(d||void 0===o){var b=d?void 0===o?{}:o:t.startEndPoint;i=Object(p.f)(b.startPointOptions,b.endPointOptions)}var v=[].concat(a,M(i));e.vector=new h.a({source:e.source,zIndex:1e6,style:v}),e.props.map.addLayer(e.vector)}n="Bearing"===t.measurement.geomType?"LineString":t.measurement.geomType,r=new j.a({source:new g.a,type:n,style:new S.default({fill:new O.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new w.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new E.default({radius:5,stroke:new w.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new O.default({color:"rgba(255, 255, 255, 0.2)"})})})}),e.clickListener=e.props.map.on("click",(function(){return e.updateMeasurementResults(e.props)})),e.props.updateOnMouseMove&&e.props.map.on("pointermove",(function(){return e.updateMeasurementResults(e.props)})),e.props.map.on("pointermove",(function(t){return e.pointerMoveHandler(t)})),r.on("drawstart",(function(t){e.sketchFeature=t.feature,e.drawing=!0,e.textLabels||(e.textLabels=[]),e.segmentLengths||(e.segmentLengths=[]),e.props.measurement.disableLabels||(e.saveDrawState(),e.createMeasureTooltip("Polygon"===e.props.measurement.geomType?[0,0]:void 0),"Polygon"===e.props.measurement.geomType&&e.createMeasureTooltip(),"Polygon"===e.props.measurement.geomType&&e.createSegmentLengthOverlay()),e.listener=e.sketchFeature.getGeometry().on("change",(function(t){var r,n,o=t.target;if(o instanceof m.b){n={value:e.getArea(o),type:"area"},r=e.formatAreaValue(n.value,e.props.uom),e.tooltipCoord=o.getInteriorPoint().getCoordinates();var a=o.getCoordinates()[0],i=[];if(!e.props.measurement.disableLabels&&((void 0===e.curPolygonLength||e.curPolygonLength<a.length)&&(e.createSegmentLengthOverlay(),e.curPolygonLength=a.length),a.length>2)){i.push(Object(l.midpoint)(a[a.length-1],a[a.length-2],!0)),i.push(Object(l.midpoint)(a[a.length-2],a[a.length-3],!0));for(var u=0;u<i.length;++u){var p=a.slice(a.length-2-u,a.length-u),f=e.getLength(p,e.props),d=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(c.getFormattedBearingValue)(Object(l.calculateAzimuth)(p[0],p[1],B(e.props.map)),e.props.measurement.trueBearing)||"",b=e.formatLengthValue(f,e.props.uom,!1)+d;e.segmentOverlayElements[e.segmentOverlays.length-u-1].innerHTML=b,e.segmentOverlays[e.segmentOverlays.length-u-1].setPosition(i[u]),e.segmentLengths[e.segmentOverlays.length-u-1]={value:f,type:"length"},e.textLabels[e.segmentOverlays.length-u-1]={text:b,position:Object(l.pointObjectToArray)(Object(l.reproject)(i[u],B(e.props.map),"EPSG:4326"))}}}}else if(o instanceof y.a){var g=o.getCoordinates(),h=[g[g.length-2],g[g.length-1]];e.props.measurement.disableLabels||e.props.measurement.bearingMeasureEnabled||!(void 0===e.curLineStringLength||e.curLineStringLength<g.length)||(e.createSegmentLengthOverlay(),e.curLineStringLength=g.length);var v=e.getLength(g,e.props),S=e.getLength(h,e.props);if(r=e.formatLengthValue(v,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing),e.tooltipCoord=o.getLastCoordinate(),!e.props.measurement.disableLabels&&!e.props.measurement.bearingMeasureEnabled){var O=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(c.getFormattedBearingValue)(Object(l.calculateAzimuth)(h[0],h[1],B(e.props.map)),e.props.measurement.trueBearing)||"",w=e.formatLengthValue(S,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing)+O;Object(s.last)(e.segmentOverlayElements).innerHTML=w,Object(s.last)(e.segmentOverlays).setPosition(Object(l.midpoint)(h[0],h[1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:w,position:Object(l.pointObjectToArray)(Object(l.reproject)(Object(l.midpoint)(h[0],h[1],!0),B(e.props.map),"EPSG:4326"))},e.segmentLengths[e.segmentOverlays.length-1]={value:S,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}n={value:v,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}if(!e.props.measurement.disableLabels&&(Object(s.last)(e.measureTooltipElements).innerHTML=r,Object(s.last)(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.outputValues.length-1]=n,o instanceof m.b)){var E=o.getCoordinates()[0],j=e.getLength(3===E.length?Object(s.dropRight)(E):E,e.props);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(j,e.props.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:j,type:"length"},e.perimeterTooltipCoord=o.getLastCoordinate(),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord)}}))})),r.on("drawend",(function(t){e.drawing=!1;var r=Object(s.get)(e.props.measurement,"features",[]),n=t.feature.getGeometry(),o=n.getCoordinates(),a=new T.a,i={Point:function(){return Object(l.reproject)(o,B(e.props.map),"EPSG:4326")},LineString:function(){return e.getLength(o,e.props)},Polygon:function(){return e.getArea(n)},Bearing:function(){return Object(l.calculateAzimuth)(o[0],o[1],B(e.props.map))}},c={LineString:function(){return e.formatLengthValue(e.getLength(o,e.props),e.props.uom,!1)},Polygon:function(){return e.formatAreaValue(e.getArea(n),e.props.uom)},Bearing:function(){return e.formatLengthValue(Object(l.calculateAzimuth)(o[0],o[1],B(e.props.map)),e.props.uom,!0,e.props.measurement.trueBearing)}},p=Object(l.reprojectGeoJson)(a.writeFeatureObject(t.feature.clone()),B(e.props.map),"EPSG:4326");p.properties=p.properties||{},p.properties.values=[{value:(i[e.props.measurement.geomType]||function(){return null})(),formattedValue:(c[e.props.measurement.geomType]||function(){return null})(),position:Object(l.pointObjectToArray)(Object(l.reproject)("Polygon"===e.props.measurement.geomType?n.getInteriorPoint().getCoordinates():Object(s.last)(o),B(e.props.map),"EPSG:4326")),type:e.props.measurement.pointMeasureEnabled?"point":e.props.measurement.lineMeasureEnabled?"length":e.props.measurement.areaMeasureEnabled?"area":e.props.measurement.bearingMeasureEnabled?"bearing":void 0}].concat(M("Polygon"===e.props.measurement.geomType?[{value:(e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,formattedValue:e.formatLengthValue((e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,e.props.uom,!1),position:Object(l.pointObjectToArray)(Object(l.reproject)(Object(s.last)(o[0]),B(e.props.map),"EPSG:4326")),uom:e.props.uom,type:"length"}]:[]));var f=L({},p);if(e.props.measurement.lineMeasureEnabled){var d=f.geometry.coordinates,m=Object(l.transformLineToArcs)(d);if(!e.props.measurement.disableLabels){e.removeLastSegment();for(var y=0;y<d.length-1;++y){var b=m[100*y+50];b&&(e.textLabels[e.segmentOverlays.length-d.length+1+y].position=b,e.segmentOverlays[e.segmentOverlays.length-d.length+1+y].setPosition(Object(l.pointObjectToArray)(Object(l.reproject)(b,"EPSG:4326",B(e.props.map)))))}}f=Object(u.set)("geometry.coordinates",m,f)}else!e.props.measurement.disableLabels&&e.props.measurement.areaMeasureEnabled&&(e.textLabels.splice(e.segmentOverlays.length-2,1),e.props.map.removeOverlay(e.segmentOverlays[e.segmentOverlays.length-2]),e.segmentOverlayElements[e.segmentOverlays.length-2].parentNode.removeChild(e.segmentOverlayElements[e.segmentOverlays.length-2]),e.segmentOverlayElements.splice(e.segmentOverlays.length-2,1),e.segmentOverlays.splice(e.segmentOverlays.length-2,1));var g=e.textLabels.length;p.geometry=p.geometry||{},p.geometry.coordinates=p.geometry.coordinates||[];var h=p.geometry.coordinates.length;if(p.geometry.textLabels=e.textLabels.slice(g-("Polygon"===p.geometry.type?3:h-1),g),e.props.changeGeometry([].concat(M(r),[p])),e.props.setTextLabels(M(e.textLabels)),e.addFeature(f),!e.props.measurement.disableLabels){Object(s.last)(e.measureTooltipElements).className="tooltip tooltip-static",Object(s.last)(e.measureTooltips).setOffset([0,-7]),"Polygon"===e.props.measurement.geomType&&(e.measureTooltipElements[e.measureTooltipElements.length-2].className="tooltip tooltip-static",e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7]));for(var v=0;v<e.segmentOverlayElements.length;++v)e.segmentOverlayElements[v]&&(e.segmentOverlayElements[v].className="segment-overlay segment-overlay-static")}Object(A.b)(e.listener),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.discardDrawState()})),e.props.map.addInteraction(r),e.createHelpTooltip(),e.drawInteraction=r,e.measureLayer=e.vector})),U(F(e),"removeLastSegment",(function(){e.textLabels.pop(),e.segmentLengths.pop(),e.props.map.removeOverlay(Object(s.last)(e.segmentOverlays)),Object(s.last)(e.segmentOverlayElements).parentNode.removeChild(Object(s.last)(e.segmentOverlayElements)),e.segmentOverlays.pop(),e.segmentOverlayElements.pop()})),U(F(e),"removeDrawInteraction",(function(){null!==e.drawInteraction&&(e.removeHelpTooltip(),e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,e.sketchFeature=null,e.props.map.un("click",(function(){return e.updateMeasurementResults(e.props)}),F(e)),Object(A.b)(e.clickListener),e.props.updateOnMouseMove&&e.props.map.un("pointermove",(function(){return e.updateMeasurementResults(e.props)}),F(e)))})),U(F(e),"pointerMoveHandler",(function(e){if(!e.dragging){var t=Object(f.getMessageById)(this.context.messages,"measureSupport.startDrawing");if(this.sketchFeature&&this.drawing){var r=this.sketchFeature.getGeometry();r instanceof m.b?t=this.continuePolygonMsg:r instanceof y.a&&(t=this.continueLineMsg)}this.helpTooltipElement.innerHTML=t,this.helpTooltip.setPosition(e.coordinate),this.helpTooltipElement.classList.remove("hidden")}})),U(F(e),"updateMeasurementResults",(function(t){if(e.sketchFeature){var r=e.sketchFeature.getGeometry().getCoordinates();if("Bearing"===t.measurement.geomType&&r.length>1&&r.length>2){for(e.drawInteraction.sketchCoords_=[r[0],r[1],r[0]];e.sketchFeature.getGeometry().getCoordinates().length>3;)e.drawInteraction.removeLastPoint();e.sketchFeature.getGeometry().setCoordinates([r[0],r[1]]),e.drawInteraction.sketchFeature_=e.sketchFeature,e.drawInteraction.finishDrawing()}}})),U(F(e),"reprojectedCoordinatesFrom4326",(function(t){return t.map((function(t){var r=Object(l.reproject)(t,"EPSG:4326",B(e.props.map));return[r.x,r.y]}))})),U(F(e),"reprojectedCoordinatesIn4326",(function(t){return t.map((function(t){var r=Object(l.reproject)(t,B(e.props.map),"EPSG:4326");return[r.x,r.y]}))})),U(F(e),"calculateGeodesicArea",(function(t){if(t.length>=4){var r=e.reprojectedCoordinatesIn4326(t);return Math.abs(Object(_.a)(new m.b([r]),{projection:"EPSG:4326"}))}return 0})),U(F(e),"createHelpTooltip",(function(){e.removeHelpTooltip(),e.helpTooltipElement=document.createElement("div"),e.helpTooltipElement.className="tooltip hidden",e.helpTooltip=new b.a({element:e.helpTooltipElement,offset:[15,0],positioning:"center-left"}),e.props.map.addOverlay(e.helpTooltip)})),U(F(e),"createMeasureTooltip",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,-15];e.measureTooltipElements||(e.measureTooltipElements=[]),e.measureTooltips||(e.measureTooltips=[]),e.outputValues||(e.outputValues=[]);var r=document.createElement("div");r.className="tooltip tooltip-measure",r.style.display=e.props.measurement.showLabel?"":"none",e.measureTooltipElements.push(r);var n=new b.a({element:r,offset:t,positioning:"bottom-center"});e.props.map.addOverlay(n),e.measureTooltips.push(n),e.outputValues.push(null)})),U(F(e),"createSegmentLengthOverlay",(function(t){e.segmentOverlayElements||(e.segmentOverlayElements=[]),e.segmentOverlays||(e.segmentOverlays=[]);var r=document.createElement("div");r.className="segment-overlay",r.style.display=e.props.measurement.showSegmentLengths&&!t?"":"none",e.segmentOverlayElements.push(r);var n=new b.a({element:r,offset:[0,0],positioning:"center-center"});e.props.map.addOverlay(n),e.segmentOverlays.push(n)})),U(F(e),"formatLengthValue",(function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n)return Object(c.getFormattedBearingValue)(t,o);var a=r&&r.length,i=a.label,l=a.unit,u=Object(s.round)(Object(c.convertUom)(t,"m",l),2);return e.props.formatNumber(u)+" "+i})),U(F(e),"formatAreaValue",(function(t,r){var n=r&&r.area,o=n.label,a=n.unit,i=Object(s.round)(Object(c.convertUom)(t,"sqm",a),2);return e.props.formatNumber(i)+" "+o})),U(F(e),"removeHelpTooltip",(function(){e.helpTooltipElement&&e.helpTooltipElement.parentNode&&e.helpTooltipElement.parentNode.removeChild(e.helpTooltipElement),e.helpTooltip&&e.props.map.removeOverlay(e.helpTooltip)})),U(F(e),"removeMeasureTooltips",(function(){(e.measureTooltips||[]).forEach((function(t){e.props.map.removeOverlay(t)}));for(var t=document.getElementsByClassName("tooltip-static")||[],r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);t=document.getElementsByClassName("tooltip-measure")||[];for(var n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);e.measureTooltips=[],e.measureTooltipElements=[],e.outputValues=[]})),U(F(e),"removeSegmentLengthOverlays",(function(){(e.segmentOverlays||[]).forEach((function(t){e.props.map.removeOverlay(t)})),(e.segmentOverlayElements||[]).forEach((function(e){e.parentNode.removeChild(e)})),e.segmentOverlays=[],e.segmentOverlayElements=[]})),e}return t=a,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.measureTooltipElements&&e.measurement.showLabel!==this.props.measurement.showLabel)for(var t=0;t<this.measureTooltipElements.length;++t)this.measureTooltipElements[t]&&(this.measureTooltipElements[t].style.display=e.measurement.showLabel?"":"none");if(this.segmentOverlayElements&&e.measurement.showSegmentLengths)for(var r=0;r<this.segmentOverlayElements.length;++r)this.segmentOverlayElements[r]&&(this.segmentOverlayElements[r].style.display=e.measurement.showSegmentLengths?"":"none");(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&(this.restoreDrawState(),this.addDrawInteraction(e)),e.measurement.geomType||(this.removeDrawInteraction(),this.removeMeasureTooltips(),this.removeSegmentLengthOverlays(),this.textLabels=[],this.segmentLengths=[],this.props.map.removeLayer(this.measureLayer),this.vector=null,this.measureLayer=null,e.measurement.features&&e.measurement.features.length>0&&this.props.changeGeometry([]),e.measurement.textLabels&&e.measurement.textLabels.length>0&&this.props.setTextLabels([]),this.source&&(this.source.clear(),this.source=null));var n=this.props.measurement.features,o=e.measurement.features;e.measurement.updatedByUI&&!Object(s.isEqual)(n,o)?this.updateFeatures(e):e.measurement.updatedByUI&&!Object(s.isEqual)(this.props.uom,e.uom)&&this.updateMeasures(e)}},{key:"render",value:function(){return null}}])&&I(t.prototype,r),n&&I(t,n),a}(o.a.Component);U(H,"propTypes",{startEndPoint:i.a.object,map:i.a.object,measurement:i.a.object,enabled:i.a.bool,uom:i.a.object,formatNumber:i.a.func,changeMeasurementState:i.a.func,updateMeasures:i.a.func,resetGeometry:i.a.func,changeGeometry:i.a.func,updateOnMouseMove:i.a.bool,setTextLabels:i.a.func}),U(H,"contextTypes",{messages:i.a.object}),U(H,"defaultProps",{changeMeasurementState:function(){},resetGeometry:function(){},updateMeasures:function(){},changeGeometry:function(){},formatNumber:function(e){return e},setTextLabels:function(){},startEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},updateOnMouseMove:!1})},"./MapStore2/web/client/components/map/openlayers/Overview.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return E}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/openlayers/Layers.js"),l=r("./node_modules/object-assign/index.js"),c=r.n(l),u=r("./MapStore2/node_modules/lodash/isFinite.js"),p=r.n(u),f=r("./node_modules/ol/control/OverviewMap.js");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r("./MapStore2/web/client/components/map/openlayers/overview.css");var w={className:"ol-overviewmap ol-custom-overviewmap",collapseLabel:"»",label:"«",collapsed:!0,collapsible:!0},E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,r,n,o=g(a);function a(){var e;m(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return O(v(e=o.call.apply(o,[this].concat(r))),"dragstart",(function(t){e.dragging||(e.dragBox=e.box.cloneNode(),e.dragBox.setAttribute("class","ol-overview-dargbox"),e.dragBox.style.position="relative",e.box.appendChild(e.dragBox),""===e.box.style.top?e.offsetStartTop=0:e.offsetStartTop=parseInt(e.box.style.top.slice(0,-2),10),""===e.box.style.left?e.offsetStartLeft=0:e.offsetStartLeft=parseInt(e.box.style.left.slice(0,-2),10),e.mouseStartTop=t.pageY,e.mouseStartLeft=t.pageX,e.dragging=!0)})),O(v(e),"draggingel",(function(t){!0===e.dragging&&(e.dragBox.style.top=e.offsetStartTop+t.pageY-e.mouseStartTop+"px",e.dragBox.style.left=e.offsetStartLeft+t.pageX-e.mouseStartLeft+"px",t.stopPropagation(),t.preventDefault())})),O(v(e),"dragend",(function(){if(!0===e.dragging){var t={};t.top=""===e.dragBox.style.top?0:parseInt(e.dragBox.style.top.slice(0,-2),10),t.left=""===e.dragBox.style.left?0:parseInt(e.dragBox.style.left.slice(0,-2),10),e.box.removeChild(e.dragBox),delete e.dragBox,e.dragging=!1,e.setNewExtent(t)}})),O(v(e),"setNewExtent",(function(t){var r=e.box.offsetWidth,n=e.box.offsetHeight,o=e.props.map.getSize(),a=t.left*Math.abs(o[0]/r),i=t.top*Math.abs(o[1]/n);a=p()(a)?a:0,i=p()(i)?i:0;var s=[0+a,o[1]+i],l=[o[0]+a,0+i],c=e.props.map.getCoordinateFromPixel(s)||[0,0],u=e.props.map.getCoordinateFromPixel(l)||[0,0],f=[c[0],c[1],u[0],u[1]];e.props.map.getView().fit(f,o,{nearest:!0})})),e}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this,t=[];this.props.layers.forEach((function(e){t.push(s.default.createLayer(e.type,e.options||{}))}));var r=c()({},w,this.props.overviewOpt,{layers:t});this.overview=new f.a(r),this.props.map&&this.overview.setMap(this.props.map),this.box=this.overview.element.getElementsByClassName("ol-overviewmap-box").item(0),this.box.onmousedown=function(t){e.dragstart(t),e.box.onmousemove=function(t){e.draggingel(t)},e.overview.element.onmousemove=function(t){e.draggingel(t)},e.box.onmouseup=function(){e.dragend(),e.overview.element.onmousemove=null,e.box.onmousemove=null,e.box.onmouseup=null}}}},{key:"render",value:function(){return null}}])&&y(t.prototype,r),n&&y(t,n),a}(i.a.Component);O(E,"displayName","Overview"),O(E,"propTypes",{id:o.a.string,map:o.a.object,overviewOpt:o.a.object,layers:o.a.array}),O(E,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]})},"./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return A}));var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/react-dom/index.js"),i=r.n(a),s=r("./node_modules/prop-types/index.js"),l=r.n(s),c=r("./node_modules/ol/Overlay.js"),u=r("./MapStore2/node_modules/lodash/isString.js"),p=r.n(u),f=r("./MapStore2/web/client/utils/PopupUtils.js"),d=r("./MapStore2/web/client/components/map/popups/index.js");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O(this,r)}}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new MutationObserver((function(){e.getMap().getSize()&&(e.setPosition(void 0),e.setPosition(r.coordinates))}));return n.observe(t,{attributes:!0,childList:!0,subtree:!0}),n},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,r,n,a=S(s);function s(){var e;g(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return j(w(e=a.call.apply(a,[this].concat(r))),"onPopupClose",(function(t){e.props.onPopupClose(t)})),j(w(e),"renderPopups",(function(){return e.preparePopups().map((function(t){var r,n=t.popup,a=t.id,s=t.component,l=t.content,c=t.props,u=t.containerStyle,m=n.getElement(),y=p()(s)&&d.default[s]||s;return y?r=o.a.isValidElement(y)&&y||o.a.createElement(y,c):l&&(r=f.c(l)?o.a.createElement("div",{dangerouslySetInnerHTML:{__html:l}}):l),m&&i.a.createPortal(o.a.createElement("div",{className:"map-popup-ol",key:a,onMouseUp:e.convertToClick},o.a.createElement("div",{className:"ol-popup-content-wrapper"},o.a.createElement("div",{className:"ol-popup-content",style:u},r)),o.a.createElement("div",{className:"ol-popup-closer",onClick:function(){return e.onPopupClose(a)}},"x")),m)}))})),j(w(e),"update",(function(){(e._popups||[]).map((function(e){var t=e.popup;t.setElement(t.getElement())}))})),j(w(e),"convertToClick",(function(e){var t=new MouseEvent("click",{bubbles:!0});t.stopPropagation=function(){},e.target.dispatchEvent(t)})),j(w(e),"preparePopups",(function(){var t=e.props,r=t.popups,n=void 0===r?[]:r,o=t.map,a=o.getSize();return(e._popups||[]).forEach((function(e){var t=e.popup,r=e.observer;r&&r.disconnect(),t&&o.removeOverlay(t)})),e._popups=n.map((function(e){var t=Math.round(.9*a[0])-40,r=Math.round(.9*a[1])-40,n=e.id,i=e.position.coordinates,s=e.className,l=e.maxWidth,u=void 0===l?t:l,p=e.maxHeight,d=void 0===p?r:p,m=e.autoPan,y=void 0!==m&&m,g=e.autoPanMargin,h=void 0===g?20:g,v=e.offset,S=void 0===v?[0,0]:v,O=e.autoPanAnimation,w=void 0===O?{duration:200}:O,E=u>t?t:u,j=d>r?r:d,A=f.b(n,s),_=new c.a({id:n,element:A,autoPan:y,offset:S,autoPanMargin:h,autoPanAnimation:w,positioning:"bottom-center",className:"ol-overlay-container ol-unselectable",position:i});return o.addOverlay(_),b({popup:_,observer:T(_,A,{coordinates:i}),containerStyle:{maxWidth:E,maxHeight:j}},e)})),e._popups})),j(w(e),"stopPropagationOnPointerMove",(function(e){e.stopPropagation()})),e}return t=s,(r=[{key:"componentWillMount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().addEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().removeEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&h(t.prototype,r),n&&h(t,n),s}(o.a.Component);j(A,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),j(A,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=r("./node_modules/object-assign/index.js"),l=r.n(s),c=r("./node_modules/ol/control/ScaleLine.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,r,n,o=m(a);function a(){return p(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"componentDidMount",value:function(){this.scalebar=new c.a(l()({},this.props,this.props.container?{target:document.querySelector(this.props.container)}:{})),this.props.map&&this.props.map.addControl(this.scalebar)}},{key:"componentWillUnmount",value:function(){if(this.props.container&&document.querySelector(".ol-scale-line"))try{document.querySelector(this.props.container).removeChild(document.querySelector(".ol-scale-line"))}catch(e){}}},{key:"render",value:function(){return null}}])&&f(t.prototype,r),n&&f(t,n),a}(i.a.Component);g(h,"propTypes",{map:o.a.object,className:o.a.string,minWidth:o.a.number,units:o.a.oneOf(["degrees","imperial","nautical","metric","us"]),container:o.a.string}),g(h,"defaultProps",{map:null,className:"ol-scale-line",minWidth:64,units:"metric"})},"./MapStore2/web/client/components/map/openlayers/SelectionSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return j}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),a=r("./node_modules/react/index.js"),i=r.n(a),s=r("./node_modules/ol/source/Vector.js"),l=r("./node_modules/ol/layer/Vector.js"),c=r("./node_modules/ol/style/Style.js"),u=r("./node_modules/ol/style/Fill.js"),p=r("./node_modules/ol/style/Stroke.js"),f=r("./node_modules/ol/style/Circle.js"),d=r("./node_modules/ol/interaction/Draw.js"),m=r("./node_modules/ol/interaction/DoubleClickZoom.js");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,r,n,o=v(a);function a(){var e;b(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return E(O(e=o.call.apply(o,[this].concat(r))),"addDrawInteraction",(function(t){e.drawInteraction&&e.removeDrawInteraction();var r=new s.a,n=new l.a({source:r,zIndex:1e6,style:new c.default({fill:new u.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new p.default({color:"#ffcc33",width:2}),image:new f.default({radius:7,fill:new u.default({color:"#ffcc33"})})})});e.props.map.addLayer(n);var o=new d.a({source:r,type:t.selection.geomType,style:new c.default({fill:new u.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new p.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new f.default({radius:5,stroke:new p.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new u.default({color:"rgba(255, 255, 255, 0.2)"})})})});o.on("drawstart",(function(t){e.sketchFeature=t.feature,r.clear()})),o.on("drawend",(function(){e.updateSelectionState()})),e.props.map.addInteraction(o),e.drawInteraction=o,e.selectionLayer=n,e.setDoubleClickZoomEnabled(!1)})),E(O(e),"removeDrawInteraction",(function(){null!==e.drawInteraction&&(e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,e.props.map.removeLayer(e.selectionLayer),e.sketchFeature=null,setTimeout((function(){return e.setDoubleClickZoomEnabled(!0)}),251))})),E(O(e),"updateSelectionState",(function(){if(e.sketchFeature){var t=e.sketchFeature.getGeometry().getCoordinates(),r={geomType:e.props.selection.geomType,point:"Point"===e.props.selection.geomType?[t[0],t[1]]:null,line:"LineString"===e.props.selection.geomType?t.map((function(e){return[e[0],e[1]]})):null,polygon:"Polygon"===e.props.selection.geomType?e.sketchFeature.getGeometry().getLinearRing(0).getCoordinates().map((function(e){return[e[0],e[1]]})):null};e.props.changeSelectionState(r)}})),E(O(e),"setDoubleClickZoomEnabled",(function(t){for(var r=e.props.map.getInteractions(),n=0;n<r.getLength();n++){var o=r.item(n);if(o instanceof m.a){o.setActive(t);break}}})),e}return t=a,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selection.geomType&&e.selection.geomType!==this.props.selection.geomType&&this.addDrawInteraction(e),e.selection.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){return null}}])&&g(t.prototype,r),n&&g(t,n),a}(i.a.Component);E(j,"propTypes",{map:o.a.object,projection:o.a.string,selection:o.a.object,changeSelectionState:o.a.func}),E(j,"defaultProps",{selection:{}})},"./MapStore2/web/client/components/map/openlayers/VectorStyle.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/lodash/isNil.js"),o=r.n(n),a=r("./MapStore2/node_modules/lodash/trim.js"),i=r.n(a),s=r("./MapStore2/node_modules/lodash/isString.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/isArray.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/castArray.js"),f=r.n(p),d=r("./MapStore2/node_modules/lodash/head.js"),m=r.n(d),y=r("./MapStore2/node_modules/lodash/last.js"),b=r.n(y),g=r("./MapStore2/node_modules/lodash/find.js"),h=r.n(g),v=r("./MapStore2/node_modules/lodash/isObject.js"),S=r.n(v),O=r("./MapStore2/web/client/utils/ColorUtils.js"),w=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),E=r("./MapStore2/web/client/utils/MarkerUtils.js"),j=r.n(E),T=r("./MapStore2/node_modules/lodash/isNumber.js"),A=r.n(T),_=r("./node_modules/ol/style/Style.js"),x=r("./node_modules/ol/style/Icon.js"),M=r("./node_modules/ol/style/Text.js"),P=r("./node_modules/ol/style/Fill.js"),C=r("./MapStore2/web/client/utils/openlayers/highlight.png"),L=r.n(C),R=j.a.markers.extra,I=R.icons[0],D=R.icons[1],N=j.a.getGlyphs("fontawesome"),k=function(e){var t=e.highlight,r=e.rotation,n=void 0===r?0:r;return t?[new _.default({image:new x.default({anchor:[.5,2*(R.size[1]+18)],rotation:n,anchorXUnits:"fraction",anchorYUnits:"pixels",src:L.a,scale:.5})})]:[]},F={extra:{getIcon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()(e.style&&e.style.rotation)?0:e.style.rotation;return[new _.default({image:new x.default({rotation:t,anchor:[12,12],anchorXUnits:"pixels",anchorYUnits:"pixels",src:D})}),new _.default({image:new x.default({rotation:t,src:I,anchor:[R.size[0]/2,R.size[1]],anchorXUnits:"pixels",anchorYUnits:"pixels",size:R.size,offset:[R.colors.indexOf(e.style.iconColor||"blue")*R.size[0],R.shapes.indexOf(e.style.iconShape||"circle")*R.size[1]]}),text:new M.default({rotation:t,text:N[e.style.iconGlyph],font:"14px FontAwesome",offsetY:2*-R.size[1]/3,fill:new P.default({color:"#FFFFFF"})})})].concat(k(e.style))}},standard:{getIcon:function(e){var t=e.style,r=e.iconAnchor,n=o()(t&&t.rotation)?0:t.rotation,a=t.iconAnchor||r,i=[new _.default({image:new x.default({anchor:a||[.5,1],anchorXUnits:t.anchorXUnits||(a||0===a?"pixels":"fraction"),anchorYUnits:t.anchorYUnits||(a||0===a?"pixels":"fraction"),size:u()(t.size)?t.size:A()(t.size)?[t.size,t.size]:void 0,rotation:n,anchorOrigin:t.anchorOrigin||"top-left",src:t.iconUrl||t.symbolUrlCustomized||t.symbolUrl})})];return t.shadowUrl&&(i=[new _.default({image:new x.default({anchor:[12,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:t.shadowUrl})}),i[0]]),i.concat(k(t))}},html:{getIcon:function(){return null}}},G=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),U=r("./node_modules/ol/style/Circle.js"),B=r("./node_modules/ol/style/Stroke.js"),H=r("./node_modules/ol/geom/Point.js"),z=r("./node_modules/ol/geom/LineString.js"),V=r("./node_modules/es6-promise/dist/es6-promise.js"),W=r("./MapStore2/web/client/libs/ajax.js"),Y=r.n(W),q=r("./node_modules/geostyler-openlayers-parser/build/dist/OlStyleParser.js"),Z=r.n(q),K=r("./MapStore2/web/client/components/map/openlayers/img/marker-icon.png"),Q=r.n(K),X=r("./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png"),J=r.n(X),$=r("./node_modules/object-assign/index.js"),ee=r.n($),te=r("./MapStore2/web/client/utils/ImmutableUtils.js");function re(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var se=[0,153,255,1],le=new U.default({radius:5,fill:null,stroke:new B.default({color:"red",width:1})}),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"green":n,a=e.applyToPolygon,i=void 0!==a&&a;return new _.default({image:new U.default({radius:r,fill:new P.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!i&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return n.length>1?new H.a(m()(n)):null}})},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"red":n,a=e.applyToPolygon,i=void 0!==a&&a;return new _.default({image:new U.default({radius:r,fill:new P.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!i&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return new H.a(n.length>3?n[n.length-("Polygon"===r?2:1)]:b()(n))}})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[ce(e),ue(t)]},fe=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new _.default({text:new M.default({offsetY:-4*Math.sqrt(e.fontSize),textAlign:e.textAlign||"center",text:t||"",font:e.font,fill:new P.default({color:Object(O.colorToRgbaStr)(e.stroke||e.color||"#000000",e.opacity||1)}),stroke:r?new B.default({color:[255,255,255,1],width:2}):null}),image:r?new U.default({radius:5,fill:null,stroke:new B.default({color:Object(O.colorToRgbaStr)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null})},de={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,radius:10},me={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},ye={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},be={Marker:{iconColor:"orange",iconShape:"circle",iconGlyph:"comment"},Text:{fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1},Circle:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},Point:de,MultiPoint:de,LineString:me,MultiLineString:me,Polygon:ye,MultiPolygon:ye},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"blue",width:3,lineDash:[6]};return{stroke:new B.default(e.style?e.style.stroke||{color:e.style.color||t.color,lineDash:l()(e.style.dashArray)&&i()(e.style.dashArray).split(" ")||t.lineDash,width:e.style.weight||t.width,lineCap:e.style.lineCap||"round",lineJoin:e.style.lineJoin||"round",lineDashOffset:e.style.dashOffset||0}:ae({},t))}},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"rgba(0, 0, 255, 0.1)"};return{fill:new P.default(e.style?e.style.fill||{color:Object(O.colorToRgbaStr)(e.style.fillColor,e.style.fillOpacity)||t.color}:ae({},t))}},ve={Point:function(){return[new _.default({image:le})]},LineString:function(e){return[new _.default(ee()({},ge(e,{color:"blue",width:3})))]},MultiLineString:function(e){return[new _.default(ee()({},ge(e,{color:"blue",width:3})))]},MultiPoint:function(){return[new _.default({image:le})]},MultiPolygon:function(e){return[new _.default(ee()({},ge(e),he(e)))]},Polygon:function(e){return[new _.default(ee()({},ge(e),he(e)))]},GeometryCollection:function(e){return[new _.default(ee()({},ge(e),he(e),{image:new U.default({radius:10,fill:null,stroke:new B.default({color:"magenta"})})}))]},Circle:function(){return[new _.default({stroke:new B.default({color:"red",width:2}),fill:new P.default({color:"rgba(255,0,0,0.2)"})})]},marker:function(e){return[new _.default({image:new x.default({anchor:[14,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:J.a})}),new _.default({image:new x.default({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:Q.a}),text:new M.default({text:e.label,scale:1.25,offsetY:8,fill:new P.default({color:"#000000"}),stroke:new B.default({color:"#FFFFFF",width:2})})})]}},Se=function(e,t){var r=e.getGeometry().getType();return ve[r](t&&t.style&&t.style[r]&&{style:ae({},t.style[r])}||t||{})};function Oe(e){if(e.style.iconUrl)return F.standard.getIcon(e);var t=e.style.iconLibrary||"extra";return F[t]?F[t].getIcon(e):null}var we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{style:be},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=t.style[e]||t.style;if("MultiLineString"===e||"LineString"===e){var s=[new _.default({stroke:t.style.useSelectedStyle?new B.default({color:[255,255,255,1],width:i.weight+2}):null}),new _.default(i?{stroke:new B.default(i&&i.stroke?i.stroke:{color:Object(O.colorToRgbaStr)(t.style&&i.color||"#0000FF",i.opacity||1),lineDash:t.style.highlight?[10]:[0],width:i.weight||1}),image:r?le:null}:{stroke:new B.default(be[e]&&be[e].stroke?be[e].stroke:{color:Object(O.colorToRgbaStr)(t.style&&be[e].color||"#0000FF",be[e].opacity||1),lineDash:t.style.highlight?[10]:[0],width:be[e].weight||1})})],l=t.style.useSelectedStyle?pe({radius:i.weight,applyToPolygon:!0},{radius:i.weight,applyToPolygon:!0}):[];return[].concat(re(l),s)}if(("MultiPoint"===e||"Point"===e)&&(i.iconUrl||i.iconGlyph))return r?new _.default({image:le}):Oe({style:ae(ae({},i),{},{highlight:t.style.highlight||t.style.useSelectedStyle})});if("Circle"===e&&a){var c=[new _.default({stroke:t.style.useSelectedStyle?new B.default({color:[255,255,255,1],width:i.weight+4}):null}),new _.default({stroke:new B.default(i&&i.stroke?i.stroke:{color:t.style.useSelectedStyle?se:Object(O.colorToRgbaStr)(t.style&&i.color||"#0000FF",i.opacity||1),lineDash:t.style.highlight?[10]:[0],width:i.weight||1}),fill:new P.default(i.fill?i.fill:{color:Object(O.colorToRgbaStr)(t.style&&i.fillColor||"#0000FF",i.fillOpacity||.2)})}),new _.default({image:t.style.useSelectedStyle?new U.default({radius:3,fill:new P.default(i.fill?i.fill:{color:se})}):null,geometry:function(e){var t=e.getGeometry();if("Circle"===t.getType()){var r=t.getCenter();return new H.a(r)}return null}})];return c}if("Text"===e&&i.font)return[fe(i,n[0],t.style.useSelectedStyle||t.style.highlight)];if("MultiPolygon"===e||"Polygon"===e){var u=[new _.default({stroke:t.style.useSelectedStyle?new B.default({color:[255,255,255,1],width:i.weight+2}):null}),new _.default({stroke:new B.default(i.stroke?i.stroke:{color:t.style.useSelectedStyle?se:Object(O.colorToRgbaStr)(t.style&&i.color||"#0000FF",i.opacity||1),lineDash:t.style.highlight?[10]:[0],width:i.weight||1}),image:r?le:null,fill:new P.default(i.fill?i.fill:{color:Object(O.colorToRgbaStr)(t.style&&i.fillColor||"#0000FF",i.fillOpacity||1)})})],p=t.style.useSelectedStyle?pe({radius:i.weight,applyToPolygon:!0},{radius:i.weight,applyToPolygon:!0}):[];return[].concat(u,re(p))}return o};function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.styleName&&!e.overrideOLStyle)return function(t){if("marker"===e.styleName)switch(t.getGeometry().getType()){case"Point":case"MultiPoint":return ve.marker(e)}return ve[e.styleName](e)};var n,a=e.nativeStyle,i=r,s=0,l=e.style&&e.style.type||(e.features&&e.features[0]&&e.features[0].geometry?e.features[0].geometry.type:void 0);if("FeatureCollection"===l||e.features&&e.features[0]&&"FeatureCollection"===e.features[0].type)return function(r){var o=this||r;n=o.getGeometry()&&o.getGeometry().getType();var a=o&&o.getProperties();a&&a.isCircle&&(n="Circle",s=a.radius),a&&a.isText&&(n="Text",i=[a.valueText]);var l=Object(te.set)("style.useSelectedStyle",a.canEdit,e);return we(n,l,t,i,null,s)};if(e&&e.properties&&e.properties.isText)return n="Text",i=[e.properties.valueText],we(n,e,t,i,null,s);if(e&&e.properties&&e.properties.isCircle)return n="Circle",s=e.properties.radius,we(n,e,t,i,null,s);if(!a&&e.style){if(a={stroke:new B.default(e.style.stroke?e.style.stroke:{color:Object(O.colorToRgbaStr)(e.style&&e.style.color||"#0000FF",o()(e.style.opacity)?1:e.style.opacity),lineDash:e.style.highlight?[10]:[0],width:e.style.weight||1}),fill:new P.default(e.style.fill?e.style.fill:{color:Object(O.colorToRgbaStr)(e.style&&e.style.fillColor||"#0000FF",o()(e.style.fillOpacity)?1:e.style.fillOpacity)})},"Point"===l&&(a={image:new U.default(ee()({},a,{radius:e.style.radius||5}))}),e.style.iconUrl||e.style.iconGlyph){var c=Oe(e);return a=function(t){var r=this||t;switch(n=r.getGeometry().getType()){case"Point":case"MultiPoint":return c;default:return Se(r,e)}}}return a=new _.default(a),"GeometryCollection"===l?a=function(o){var a,i=this||o;n=i.getGeometry().getType();var s=i.get("textGeometriesIndexes")||[],l=i.get("circles")||[],c=i.get("textValues");return"GeometryCollection"===i.getGeometry().getType()?i.getGeometry().getGeometries().reduce((function(o,i,p){if(("Point"===(n=i.getType())||"MultiPoint"===n)&&s.length&&-1!==s.indexOf(p)){var f=we("Text",e,t,[c[s.indexOf(p)]]);return f.setGeometry(i),o.concat([f])}if("Polygon"===n&&l.length&&-1!==l.indexOf(p)){var d=we("Circle",e,t,[]);return d.setGeometry(i),o.concat([d])}if("Point"===n||"MultiPoint"===n)return a=Oe({style:ae(ae({},e.style[n]),{},{highlight:e.style.highlight})}),o.concat(a.map((function(e){return e.setGeometry(i),e})));var m=we(n,e,t,r);return u()(m)?m.forEach((function(e){return e.setGeometry(i)})):m.setGeometry(i),o.concat([m])}),[]):"Point"===n||"MultiPoint"===n?(a=Oe({style:ae(ae({},e.style[n]),{},{highlight:e.style.highlight})}),t?new _.default({image:le,geometry:i.getGeometry()}):a.map((function(e){return e.setGeometry(i.getGeometry()),e}))):we(n,e,t,r)}:("Circle"===l&&(s=e.features&&e.features.length&&e.features[0].properties&&e.features[0].properties.radius||10),we(l,e,t,r,a,s))}return a||Se}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"b",(function(){return Pe})),r.d(t,"e",(function(){return Ue})),r.d(t,"d",(function(){return Be})),r.d(t,"c",(function(){return He})),r.d(t,"f",(function(){return ze})),r.d(t,"a",(function(){return Ve}));var _e=new Z.a,xe={white:[255,255,255,1],blue:[0,153,255,1],width:3},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(G.isCircleStyle)(e)?new U.default({stroke:t,fill:r,radius:e.radius||5}):null},Pe=function(e){if(Object(G.isMarkerStyle)(e)){if(e.iconUrl)return F.standard.getIcon({style:e});var t=e.iconLibrary||"extra";if(F[t])return F[t].getIcon({style:e})}return null},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(G.isStrokeStyle)(e)?new B.default(e.stroke&&S()(e.stroke)?e.stroke:{color:e.highlight?xe.blue:Object(O.colorToRgbaStr)(e.color||e.stroke||"#0000FF",o()(e.opacity)?1:e.opacity),width:o()(e.weight)?1:e.weight,lineDash:l()(e.dashArray)&&i()(e.dashArray).split(" ")||u()(e.dashArray)&&e.dashArray||[0],lineCap:e.lineCap||"round",lineJoin:e.lineJoin||"round",lineDashOffset:e.dashOffset||0}):null},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(G.isFillStyle)(e)?new P.default(e.fill&&S()(e.fill)?e.fill:{color:Object(O.colorToRgbaStr)(e.fillColor||"#0000FF",o()(e.fillOpacity)?1:e.fillOpacity)}):null},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return Object(G.isTextStyle)(e)?new M.default({fill:r,offsetY:e.offsetY||-4*Math.sqrt(e.fontSize),rotation:e.textRotationDeg?e.textRotationDeg/180*Math.PI:0,textAlign:e.textAlign||"center",text:e.label||n&&n.properties&&n.properties.valueText||"New",font:e.font||"Arial",stroke:e.highlight?new B.default({color:[255,255,255,1],width:2}):t,image:e.highlight?new U.default({radius:5,fill:null,stroke:new B.default({color:Object(O.colorToRgbaStr)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null}):null},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"green":n,a=e.applyToPolygon,i=void 0!==a&&a;return new _.default({image:new U.default({radius:r,fill:new P.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!i&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return n.length>1?new H.a(m()(n)):null}})},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"red":n,a=e.applyToPolygon,i=void 0!==a&&a;return new _.default({image:new U.default({radius:r,fill:new P.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!i&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return new H.a(n.length>3?n[n.length-("Polygon"===r?2:1)]:b()(n))}})},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{radius:3,fillColor:"green",applyToPolygon:!0},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{radius:3,fillColor:"red",applyToPolygon:!0},n=[];return h()(e,(function(e){return"startPoint"===e.geometry&&e.filtering}))||n.push(Ie(Te({},t))),h()(e,(function(e){return"endPoint"===e.geometry&&e.filtering}))||n.push(De(Te({},r))),n};Object(G.registerGeometryFunctions)("centerPoint",(function(e){var t=e.getGeometry(),r=t.getExtent(),n=t.getCenter&&t.getCenter()||[r[2]-r[0],r[3]-r[1]];return new H.a(n)}),"Point"),Object(G.registerGeometryFunctions)("lineToArc",(function(e){var t=e.getGeometry().getType();if("LineString"===t||"MultiPoint"===t){var r=e.getGeometry().getCoordinates();return r=Object(w.transformLineToArcs)(r.map((function(e){var t=Object(w.reproject)(e,"EPSG:3857","EPSG:4326");return[t.x,t.y]}))),new z.a(r.map((function(e){var t=Object(w.reproject)(e,"EPSG:4326","EPSG:3857");return[t.x,t.y]})))}return e.getGeometry()}),"LineString"),Object(G.registerGeometryFunctions)("startPoint",(function(e){var t=e.getGeometry(),r="Polygon"===t.getType()?t.getCoordinates()[0]:t.getCoordinates();return r.length>1?new H.a(m()(r)):null}),"Point"),Object(G.registerGeometryFunctions)("endPoint",(function(e){var t=e.getGeometry(),r=t.getType(),n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return new H.a(n.length>3?n[n.length-("Polygon"===r?2:1)]:b()(n))}),"Point");var ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.geometry?function(t){var r=e.geometry||"centerPoint";return G.geometryFunctions[r].func(t)}:function(e){return e.getGeometry()}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!o()(e.filtering)||e.filtering},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=Fe(t,e);if(n){var o=Ce(t),a=Le(t),i=Me(t,o,a);if(Object(G.isMarkerStyle)(t))return Pe(t).map((function(e){return e.setGeometry(ke(t)),e}));if(Object(G.isSymbolStyle)(t))return F.standard.getIcon({style:t}).map((function(e){return e.setGeometry(ke(t)),e}));var s=Re(t,o,a,e),l=t.zIndex,c=new _.default({geometry:ke(t),image:i,text:s,stroke:!s&&!i&&o||null,fill:!s&&!i&&a||null,zIndex:l});return[c].concat(e&&e.properties&&e.properties.canEdit&&!e.properties.isCircle?Ne(r):[])}return new _.default({})},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=e.style;if(t){var r=u()(t)?t:f()(t);return r.reduce((function(t,n){return t.concat(Ge(e,n,r))}),[])}return[]},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.style&&e.style.url)return Y.a.get(e.style.url).then((function(t){return Object(G.getStyleParser)(e.style.format).readStyle(t.data).then((function(e){return _e.writeStyle(e)}))}));if(e.style&&"geostyler"===e.style.format)return _e.writeStyle(e.style.styleObj);var n=Ee(e,t,r);return e.asPromise?new V.Promise((function(e){e(n)})):n},He=Oe,ze=pe,Ve=be},"./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII="},"./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/ol/layer/Tile.js"),a=r("./node_modules/ol/source/BingMaps.js"),i=function e(t,r){t.getSource&&"error"===t.getSource().getState()&&r.onError&&r.onError(t),t.getSource&&"loading"===t.getSource().getState()&&setTimeout(e.bind(null,t,r),1e3)};n.default.registerType("bing",{create:function(e){var t=e.apiKey,r=e.maxNativeZoom||19,n=new o.a({preload:1/0,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,visible:e.visibility,source:new a.a({key:t,imagerySet:e.name,maxZoom:r})});return setTimeout(i.bind(null,n,e),1e3),n},isValid:function(e){return!e.getSource||"error"!==e.getSource().getState()}})},"./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js":function(e,t,r){"use strict";r.r(t);var n,o,a=r("./MapStore2/web/client/utils/openlayers/Layers.js"),i=r("./node_modules/react/index.js"),s=r.n(i),l=r("./node_modules/ol/proj.js"),c={},u="ontouchstart"in window,p=u?"touchstart":"mousedown",f=u?"touchmove":"mousemove",d=u?"touchend":"mouseup";a.default.registerType("google",{create:function(e,t,r){if(document.getElementById(r+"gmaps")){var o=window.google;n||(n={HYBRID:o.maps.MapTypeId.HYBRID,SATELLITE:o.maps.MapTypeId.SATELLITE,ROADMAP:o.maps.MapTypeId.ROADMAP,TERRAIN:o.maps.MapTypeId.TERRAIN}),c[r]||(c[r]=new o.maps.Map(document.getElementById(r+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1})),c[r].setMapTypeId(n[e.name]);var a=document.getElementById(r+"gmaps"),i=function(){if(c[r]&&"hidden"!==a.style.visibility){var e=Object(l.l)(t.getView().getCenter(),"EPSG:3857","EPSG:4326");c[r].setCenter(new o.maps.LatLng(e[1],e[0]))}},s=function(){c[r]&&"hidden"!==a.style.visibility&&c[r].setZoom(t.getView().getZoom())},u=function(e,t){var r=t[0],n=t[1],o=[[r/2,n/2],[-r/2,n/2],[-r/2,-n/2],[r/2,-n/2]].map((function(t){return r=t,n=e*Math.PI/180,o=r[0],a=r[1],[o*Math.cos(n)-a*Math.sin(n),o*Math.sin(n)+a*Math.cos(n)];var r,n,o,a})),a=o.map((function(e){return e[0]})),i=o.map((function(e){return e[1]})),s=Math.max.apply(null,a),l=Math.min.apply(null,a),c=Math.max.apply(null,i),u=Math.min.apply(null,i),p=Math.abs(c)+Math.abs(u);return{width:Math.abs(s)+Math.abs(l),height:p}},m=function(){if("hidden"!==a.style.visibility){var e=180*t.getView().getRotation()/Math.PI;a.style.transform="rotate("+e+"deg)",o.maps.event.trigger(c[r],"resize")}},y=function(){var e=t.getView();e.on("change:center",i),e.on("change:resolution",s),e.on("change:rotation",m)};t.on("change:view",y),y(),i(),s();var b=t.getViewport(),g=document.getElementById(r+"gmaps").style.transform,h=!1,v=!1;b.addEventListener(p,(function(){h=!0})),b.addEventListener(d,(function(){v&&h&&function(){var e=document.getElementById(r+"gmaps").style.transform;if(c[r]&&e!==g&&-1!==e.indexOf("rotate")){var n=parseFloat(e.match(/[\+\-]?\d+\.?\d*/i)[0]),s=u(-n,t.getSize());a.style.width=s.width+"px",a.style.height=s.height+"px",a.style.left=Math.round((t.getSize()[0]-s.width)/2)+"px",a.style.top=Math.round((t.getSize()[1]-s.height)/2)+"px",o.maps.event.trigger(c[r],"resize"),i()}}(),g=document.getElementById(r+"gmaps").style.transform,h=!1})),b.addEventListener(f,(function(){v=h}))}return null},render:function(e,t,r){o||(o=e.name);var a={zIndex:0};if(!0===e.visibility){var i=document.getElementById(r+"gmaps");i&&(i.style.visibility="visible"),c[r]&&n&&(c[r].setMapTypeId(n[e.name]),c[r].setTilt(0))}else a.visibility="hidden";if(o===e.name){var l=document.getElementById(r+"gmaps");return l&&(l.style.visibility=e.visibility?"visible":"hidden"),s.a.createElement("div",{id:r+"gmaps",className:"fill",style:a})}return null},update:function(e,t,r,n,o){if(c[o]){var a=window.google;if(!r.visibility&&t.visibility){var i=n.getView(),s=Object(l.l)(i.getCenter(),"EPSG:3857","EPSG:4326");c[o].setCenter(new a.maps.LatLng(s[1],s[0])),c[o].setZoom(i.getZoom())}}},remove:function(e,t,r){o===e.name&&(o=void 0,delete c[r])}})},"./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/ol/Graticule.js"),a=r("./node_modules/ol/style/Stroke.js");n.default.registerType("graticule",{create:function(e,t){var r=new o.a({strokeStyle:e.style||new a.default({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]})});return r.setMap(t),{detached:!0,remove:function(){r.setMap(null)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js":function(e,t,r){"use strict";r.r(t),r("./MapStore2/web/client/utils/openlayers/Layers.js").default.registerType("mapquest",{create:function(e){return e.onError(),!1},isValid:function(){return!1}})},"./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/ol/source/OSM.js"),a=r("./node_modules/ol/layer/Tile.js");n.default.registerType("osm",{create:function(e){return new a.a({opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,zIndex:e.zIndex,source:new o.a})}})},"./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/eventlistener/eventlistener.js"),a=r.n(o),i=r("./node_modules/ol/Overlay.js");n.default.registerType("overlay",{create:function(e,t){var r=function(e,t){var r=e.cloneNode(!0);r.id=t.id+"-overlay",r.className=(t.className||e.className)+"-overlay",r.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var r=0;r<t.length;r++){var n=t.item(r);n.removeAttribute("data-reactid"),e(n.children||[])}}(r.children||[]);var n=t.closeClass||"close";if(t.onClose&&1===r.getElementsByClassName(n).length){var o=r.getElementsByClassName(n)[0];a.a.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}if(t.onLink)for(var i=r.getElementsByTagName("a"),s=0;s<i.length;s++)a.a.add(i[s],"click",t.onLink);return r}(document.getElementById(e.id),e);document.body.appendChild(r);var n=new i.a({id:e.id,element:r,autoPan:e.autoPan||!1,positioning:e.positioning||"top-left",offset:e.offset||[0,0],autoPanAnimation:{duration:e.autoPanAnimation||250},position:[e.position.x,e.position.y]});return t.addOverlay(n),{detached:!0,remove:function(){t.removeOverlay(n)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/openlayers/Layers.js"),a=r("./node_modules/ol/source/XYZ.js"),i=r("./node_modules/ol/tilegrid/TileGrid.js"),s=r("./node_modules/ol/layer/Tile.js");o.default.registerType("tms",{create:function(e){return new s.a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.get)(e,"bbox.bounds",{}),r=t.minx,o=t.miny,s=t.maxx,l=t.maxy,c={projection:e.srs,url:"".concat(e.tileMapUrl,"/{z}/{x}/{-y}.").concat(e.extension),attributions:e.attribution?[e.attribution]:[]},u=new a.a(c),p=u.getTileGrid();if(e.forceDefaultTileGrid){var f=p.getExtent(),d=[f[0],f[1]],m=new i.a({origin:d,extent:e.bbox&&[r,o,s,l],resolutions:p.getResolutions(),tileSize:e.tileSize});u.setTileGridForProjection(e.srs,m),"EPSG:3857"===e.srs&&u.setTileGridForProjection("EPSG:900913",m)}else e.tileSets&&u.setTileGridForProjection(e.srs,new i.a({origin:e.origin,extent:e.bbox&&[r,o,s,l],resolutions:e.tileSets.map((function(e){return e.resolution})),tileSize:e.tileSize}));var y={extent:e.bbox&&[r,o,s,l],opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:u};return y}(e))}})},"./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/object-assign/index.js"),o=r.n(n),a=r("./MapStore2/web/client/utils/openlayers/Layers.js"),i=r("./MapStore2/web/client/utils/TileConfigProvider.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/TileProviderUtils.js"),u=r("./node_modules/ol/source/XYZ.js"),p=r("./node_modules/ol/layer/Tile.js");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}a.default.registerType("tileprovider",{create:function(e){var t=f(i.a.getLayerConfig(e.provider,e),2),r=t[0],n=t[1];return n.url=r,new p.a(function(e){var t,r,n,a,i,s,p,d,m,y=e.url.match(/(\{s\})/)?Object(c.getUrls)(e):[Object(c.template)(e.url,e)],b=o()({},{urls:y,attributions:e.attribution?[e.attribution]:[],maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0}),g=new u.a(b);return o()({},{opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:g},e.bounds?{extent:(t=e.bounds,r=e.srs?e.srs:"EPSG:3857",n=f(t,2),a=f(n[0],2),i=a[0],s=a[1],p=f(n[1],2),d=p[0],m=p[1],l.a.reprojectBbox([s,i,m,d],"EPSG:4326",l.a.normalizeSRS(r)))}:{})}(n))}})},"./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),a=r("./MapStore2/node_modules/lodash/isEqual.js"),i=r.n(a),s=r("./node_modules/ol/source/Vector.js"),l=r("./node_modules/ol/layer/Vector.js");n.default.registerType("vector",{create:function(e){var t=new s.a({features:[]}),r=Object(o.d)(e);return new l.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:r,opacity:e.opacity})},update:function(e,t,r){var n=r.crs||r.srs||"EPSG:3857",a=t.crs||t.srs||"EPSG:3857";a!==n&&e.getSource().forEachFeature((function(e){e.getGeometry().transform(n,a)})),i()(r.style,t.style)&&r.styleName===t.styleName||e.setStyle(Object(o.d)(t))},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/head.js"),o=r.n(n),a=r("./node_modules/url/url.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/MapUtils.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/openlayers/Layers.js"),f=r("./MapStore2/web/client/utils/SecurityUtils.js"),d=r.n(f),m=r("./node_modules/ol/proj.js"),y=r("./node_modules/ol/extent.js"),b=r("./node_modules/ol/tilegrid/TileGrid.js"),g=r("./node_modules/ol/layer/VectorTile.js"),h=r("./node_modules/ol/source/VectorTile.js"),v=r("./node_modules/ol/format/MVT.js"),S=r("./MapStore2/web/client/utils/VectorTileUtils.js"),O=r("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js");function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M=function(e){var t=l.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),r=Object(m.f)(t),n=r.getMetersPerUnit(),a=o()(e.tilingSchemes&&e.tilingSchemes.schemes&&e.tilingSchemes.schemes.filter((function(e){return e.supportedCRS===t})))||{},s=a.identifier,c=a.tileMatrix,p=a.boundingBox,f=c&&c.map((function(e){return e.scaleDenominator})),w=u.a.getResolutions(),j=e.resolutions||f&&f.map((function(e){return 28e-5*e/n}))||w,_="ne"===r.getAxisOrientation().substr(0,2),x=c&&c.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topLeftCorner;return t})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=A(e,2),r=t[0],n=t[1];return _?[n,r]:[r,n]})),M=c&&c.map((function(e){return[e.tileWidth,e.tileHeight]})),P=e.bbox,C=P?Object(y.a)([parseFloat(P.bounds.minx),parseFloat(P.bounds.miny),parseFloat(P.bounds.maxx),parseFloat(P.bounds.maxy)],Object(m.h)(P.crs,e.srs)):null,L=p&&p.lowerCorner&&p.upperCorner?[].concat(T(p.lowerCorner),T(p.upperCorner)):null,R=new b.a({extent:L,minZoom:0,origins:x,origin:x?void 0:[20037508.3428,-20037508.3428],resolutions:j,tileSizes:M,tileSize:M?void 0:[256,256]}),I=(e.url||"").replace(/\{tilingSchemeId\}/,s).replace(/\{level\}/,"{z}").replace(/\{row\}/,"{y}").replace(/\{col\}/,"{x}"),D={};d.a.addAuthenticationParameter(I,D,e.securityToken);var N=decodeURI(I),k=i.a.format({query:E({},D)}),F=Object(S.isVectorFormat)(e.format)&&O.a[e.format]||v.a,G=new h.a({format:new F({dataProjection:t,layerName:"_layer_"}),tileGrid:R,url:N+k}),U=new g.a({extent:C,msId:e.id,source:G,visible:!1!==e.visibility,zIndex:e.zIndex});return Object(O.b)(e.vectorStyle,U),U};p.default.registerType("wfs3",{create:M,update:function(e,t,r){return r.securityToken!==t.securityToken||r.srs!==t.srs?M(t):null},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),a=r("./node_modules/ol/source/Vector.js"),i=r("./node_modules/ol/layer/Vector.js"),s=r("./node_modules/ol/format/GeoJSON.js"),l=r("./MapStore2/web/client/api/WFS.js"),c=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),u=r("./MapStore2/web/client/utils/WFSLayerUtils.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e,t){return function(r,n,o){var a=Object(c.optionsToVendorParams)(t),i=o.getCode(),s=function(){e.removeLoadedExtent(r)};Object(l.getFeature)(t.url,t.name,f({outputFormat:"application/json",srsname:i},a)).then((function(t){200===t.status?e.addFeatures(e.getFormat().readFeatures(t.data)):s()})).catch((function(e){s()}))}},y=function(e,t){return Object(o.d)(f(f({},e),{},{style:f(f({},e.style||{}),{},{type:t})}))},b=function(e,t){return e.geometryType?e.setStyle(y(t,e.geometryType)):Object(l.describeFeatureType)(t.url,t.name).then(u.extractGeometryType).then((function(r){e.geometryType=r,e.setStyle(y(t,r))}))};n.default.registerType("wfs",{create:function(e){var t=new a.a({format:new s.a});t.setLoader(m(t,e));var r=Object(o.d)(e),n=new i.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:r,opacity:e.opacity});return b(n,e),n},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.crs||r.srs||"EPSG:3857",o=t.crs||t.srs||"EPSG:3857",a=e.getSource();o!==n&&a.forEachFeature((function(e){e.getGeometry().transform(n,o)})),Object(u.needsReload)(r,t)&&(a.setLoader(m(a,t)),a.clear(),a.refresh()),t.style===r.style&&t.styleName===r.styleName||b(e,t)},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r.n(a),s=r("./MapStore2/web/client/utils/openlayers/Layers.js"),l=r("./MapStore2/node_modules/lodash/isNil.js"),c=r.n(l),u=r("./MapStore2/node_modules/lodash/isEqual.js"),p=r.n(u),f=r("./MapStore2/node_modules/lodash/union.js"),d=r.n(f),m=r("./MapStore2/node_modules/lodash/isArray.js"),y=r.n(m),b=r("./node_modules/object-assign/index.js"),g=r.n(b),h=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),v=r.n(h),S=r("./MapStore2/web/client/utils/ProxyUtils.js"),O=r.n(S),w=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),E=r("./MapStore2/web/client/utils/SecurityUtils.js"),j=r.n(E),T=r("./MapStore2/web/client/utils/LayersUtils.js"),A=r("./MapStore2/web/client/utils/MapUtils.js"),_=r.n(A),x=r("./MapStore2/web/client/utils/ElevationUtils.js"),M=r.n(x),P=r("./node_modules/ol/layer/Image.js"),C=r("./node_modules/ol/source/ImageWMS.js"),L=r("./node_modules/ol/proj.js"),R=r("./node_modules/ol/tilegrid/TileGrid.js"),I=r("./node_modules/ol/layer/Tile.js"),D=r("./node_modules/ol/source/TileWMS.js"),N=r("./node_modules/ol/source/VectorTile.js"),k=r("./node_modules/ol/layer/VectorTile.js"),F=r("./MapStore2/web/client/utils/VectorTileUtils.js"),G=r("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js"),U=r("./MapStore2/web/client/utils/LayerLocalizationUtils.js");function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=Object(w.optionsToVendorParams)(e),r=g()({},e.baseParams,{LAYERS:e.name,STYLES:e.style||"",FORMAT:e.format||"image/png",TRANSPARENT:void 0===e.transparent||e.transparent,SRS:v.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:v.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),TILED:!e.singleTile&&(!!c()(e.tiled)||e.tiled),VERSION:e.version||"1.3.0"},g()({},e._v_?{_v_:e._v_}:{},t||{},e.localizedLayerStyles&&e.env&&e.env.length&&"background"!==e.group?{ENV:Object(U.generateEnvString)(e.env)}:{}));return j.a.addAuthenticationToSLD(r,e)}function W(e,t){var r=t;O.a.needProxy(t)&&(r=O.a.getProxyUrl()+encodeURIComponent(t));e.getImage().src=r}function Y(e){return e.join(":")}function q(e,t,r){var n=r;e&&O.a.needProxy(r)&&(n=O.a.getProxyUrl()+encodeURIComponent(r));var o=t.getTileCoord();t.getImage().src="",M.a.loadTile(n,o,Y(o))}function Z(e){try{var t=function(e,t){var r=e.get("map");return e.getSource().getTileGrid().getTileCoordForCoordAndZ(t,r.getView().getZoom())}(this,e),r=this.getSource().getTileGrid().getTileSize(),n=M.a.getElevation(Y(t),function(e,t,r){var n=e.getSource().getTileGrid(),o=n.getTileCoordExtent(r),a=n.getTileSize()/(o[2]-o[0]);return{x:Math.floor((t[0]-o[0])*a),y:Math.floor((o[3]-t[1])*a)}}(this,e,t),r,this.get("nodata"));return n.available?n.value:o.a.createElement(i.a,{msgId:n.message})}catch(e){return o.a.createElement(i.a,{msgId:"elevationLoadingError"})}}var K=function(e){return e&&Object(T.creditsToAttribution)(e)||void 0},Q=function(e,t){var r=function(e){return e.map((function(e){return e.split("?")[0]}))}(y()(e.url)?e.url:[e.url]),n=V(e)||{};r.forEach((function(t){return j.a.addAuthenticationParameter(t,n,e.securityToken)}));var o=Object(F.isVectorFormat)(e.format);if(e.singleTile&&!o)return new P.a({opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:new C.default({url:r[0],crossOrigin:e.crossOrigin,attributions:K(e.credits),params:n,ratio:e.ratio||1})});var a,i=t&&t.getView()&&t.getView().getProjection()&&t.getView().getProjection().getCode()||"EPSG:3857",s=Object(L.f)(v.a.normalizeSRS(e.srs||i,e.allowedSRS)).getExtent(),l=function(e,t){return t.useForElevation?g()({},e,{tileLoadFunction:q.bind(null,[t.forceProxy])}):t.forceProxy?g()({},e,{tileLoadFunction:W}):e}({attributions:K(e.credits),urls:r,crossOrigin:e.crossOrigin,params:n,tileGrid:new R.a({extent:s,resolutions:e.resolutions||_.a.getResolutions(),tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[s[0],s[1]]})},e),c=new D.default(H({},l)),u={opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex};return(a=o?new k.a(H(H({},u),{},{source:new N.a(H(H({},l),{},{format:new G.a[e.format]({layerName:"_layer_"}),tileUrlFunction:function(e,t,r){return c.tileUrlFunction(e,t,r)}}))})):new I.a(H(H({},u),{},{source:c}))).set("map",t),o&&(a.set("wmsSource",c),e.vectorStyle&&Object(G.b)(e.vectorStyle,a)),e.useForElevation&&(a.set("nodata",e.nodata),a.set("getElevation",Z.bind(a))),a};s.default.registerType("wms",{create:Q,update:function(e,t,r,n){var o=Object(F.isVectorFormat)(t.format);if(function(e,t){return e.singleTile!==t.singleTile||e.securityToken!==t.securityToken||e.ratio!==t.ratio||e.credits!==t.credits&&!t.credits||Object(F.isVectorFormat)(e.format)!==Object(F.isVectorFormat)(t.format)||Object(F.isVectorFormat)(e.format)&&Object(F.isVectorFormat)(t.format)&&e.format!==t.format||e.localizedLayerStyles!==t.localizedLayerStyles||e.tileSize!==t.tileSize}(r,t))return Q(t,n);var a=!1;o&&t.vectorStyle&&!p()(t.vectorStyle,r.vectorStyle||{})&&(Object(G.b)(t.vectorStyle,e),a=!0);var i=e.get("wmsSource")||e.getSource(),s=o?e.getSource():null;if(r.srs!==t.srs){var l=Object(L.f)(v.a.normalizeSRS(t.srs,t.allowedSRS)).getExtent();if(t.singleTile&&!o)e.setExtent(l);else{var u=new R.a({extent:l,resolutions:t.resolutions||_.a.getResolutions(),tileSize:t.tileSize?t.tileSize:256,origin:t.origin?t.origin:[l[0],l[1]]});i.tileGrid=u,s&&(s.tileGrid=u)}a=!0}r.credits!==t.credits&&t.credits&&(i.setAttributions(K(t.credits)),a=!0);var f,m,y=!1;if(r&&i&&i.updateParams&&(r.params&&t.params?y=d()(Object.keys(r.params),Object.keys(t.params)).reduce((function(e,n){return t.params[n]!==r.params[n]||e}),!1):(!r.params&&t.params||r.params&&!t.params)&&(y=!0),f=V(r),m=V(t),y=y||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce((function(e,t){return f[t]!==m[t]||e}),!1),a=a||y),a&&(i.refresh&&i.refresh(),s&&(s.clear(),s.refresh()),y)){var b=g()(m,j.a.addAuthenticationToSLD(Object(w.optionsToVendorParams)(t)||{},t));i.updateParams(g()(b,Object.keys(f||{}).reduce((function(e,t){return c()(b[t])?g()(e,z({},t,void 0)):e}),{})))}return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./MapStore2/node_modules/lodash/castArray.js"),a=r.n(o),i=r("./MapStore2/node_modules/lodash/head.js"),s=r.n(i),l=r("./MapStore2/node_modules/lodash/last.js"),c=r.n(l),u=r("./MapStore2/web/client/utils/SecurityUtils.js"),p=r.n(u),f=r("./MapStore2/web/client/utils/WMTSUtils.js"),d=r.n(f),m=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),y=r.n(m),b=r("./MapStore2/web/client/utils/MapUtils.js"),g=r.n(b),h=r("./MapStore2/web/client/utils/VectorTileUtils.js"),v=r("./node_modules/url/url.js"),S=r.n(v),O=r("./node_modules/ol/proj.js"),w=r("./node_modules/ol/extent.js"),E=r("./node_modules/ol/layer/Tile.js"),j=r("./node_modules/ol/layer/VectorTile.js"),T=r("./node_modules/ol/source/WMTS.js"),A=r("./node_modules/ol/source/VectorTile.js"),_=r("./node_modules/ol/tilegrid/WMTS.js"),x=r("./node_modules/ol/format/MVT.js"),M=r("./node_modules/ol/format/GeoJSON.js"),P=r("./node_modules/ol/format/TopoJSON.js"),C=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js");function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D={"application/vnd.mapbox-vector-tile":x.a,"application/json;type=geojson":M.a,"application/json;type=topojson":P.a};var N=function(e){var t="RESTful"===e.requestEncoding?"REST":e.requestEncoding,r=function(e,t){return e.map((function(e){return"REST"===t?e:e.split("?")[0]}))}(a()(e.url),t),n=y.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=Object(O.f)(n),i=o.getMetersPerUnit(),s=d.a.getTileMatrix(e,n),l=s.tileMatrixSetName,u=s.tileMatrixSet,f=s.matrixIds,m=u&&(null==u?void 0:u.TileMatrix.map((function(e){return Number(e.ScaleDenominator)}))),b=g.a.getResolutions(),v=e.resolutions||m&&m.map((function(e){return 28e-5*e/i}))||b,x="ne"===o.getAxisOrientation().substr(0,2),M=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TopLeftCorner;return t&&y.a.parseString(t)})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,r=e.y;return x?[r,t]:[t,r]})),P=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.MatrixWidth,r=e.MatrixHeight;return[parseInt(t,10),parseInt(r,10)]})),L=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TileWidth,r=e.TileHeight;return[parseInt(t,10),parseInt(r,10)]})),I=e.bbox,N=I?Object(w.a)([parseFloat(I.bounds.minx),parseFloat(I.bounds.miny),parseFloat(I.bounds.maxx),parseFloat(I.bounds.maxy)],Object(O.h)(I.crs,e.srs)):o.getExtent(),k=Object(w.B)(N,o.getExtent());Object(w.H)(k)&&(k=o.getExtent());var F={};r.forEach((function(t){return p.a.addAuthenticationParameter(t,F,e.securityToken)}));var G=S.a.format({query:R({},F)}),U=e.maxResolution||c()(b.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return v[0]/e*256<.5}))),B=-1!==(e.availableFormats||[]).indexOf(e.format)&&e.format||!e.availableFormats&&e.format||"image/png",H=Object(h.isVectorFormat)(B),z={requestEncoding:t,urls:r.map((function(e){return e+G})),layer:e.name,version:e.version||"1.0.0",matrixSet:l,format:B,style:e.style||"",tileGrid:new _.b({origins:M,origin:M?void 0:[20037508.3428,-20037508.3428],resolutions:v,matrixIds:d.a.limitMatrix((f||d.a.getDefaultMatrixId(e)||[]).map((function(e){return e.identifier})),v.length),sizes:P,extent:k,tileSizes:L,tileSize:!L&&(e.tileSize||[256,256])}),wrapX:!0},V=new T.a(z),W=new(H?j.a:E.a)({opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,maxResolution:U,visible:!1!==e.visibility,source:H?new A.a(R(R({},z),{},{format:new D[e.format]({dataProjection:n}),tileUrlFunction:function(){return V.tileUrlFunction.apply(V,arguments)}})):V});return H&&W.setStyle(Object(C.d)(e)),W};n.default.registerType("wmts",{create:N,update:function(e,t,r){return r.securityToken!==t.securityToken||r.srs!==t.srs||r.format!==t.format||r.style!==t.style?N(t):null},isCompatible:function(e){return!!s()(y.a.getEquivalentSRS(e.srs||"EPSG:3857").filter((function(t){return function(e,t){var r=d.a.getTileMatrix(t,e),n=r.tileMatrixSetName,o=r.tileMatrixSet;return o?y.a.getEPSGCode(o["ows:SupportedCRS"])===e:n===e}(t,e)})))}})},"./MapStore2/web/client/components/map/openlayers/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js").default,GoogleLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js").default,GraticuleLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js").default,MapQuest:r("./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js").default,OSMLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js").default,OverlayLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js").default,TMSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js").default,TileProviderLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js").default,VectorLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js").default,WFSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js").default,WFS3Layer:r("./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js").default,WMSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js").default,WMTSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js").default}},"./MapStore2/web/client/components/map/popups/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),i=r.n(a),s=r("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),l=r("./node_modules/recompose/es/Recompose.js"),c=r("./node_modules/react-redux/es/index.js"),u=r("./node_modules/reselect/es/index.js"),p=r("./MapStore2/web/client/selectors/mapInfo.js"),f=r("./MapStore2/web/client/actions/mapInfo.js"),d=r("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx"),m=r.n(d),y=r("./MapStore2/node_modules/lodash/lodash.js"),b=r("./MapStore2/web/client/components/data/identify/SwipeHeader.jsx"),g=r.n(b),h=r("./MapStore2/web/client/selectors/map.js").isMouseMoveIdentifyActiveSelector,v=Object(l.compose)(Object(c.connect)(Object(u.createSelector)(p.indexSelector,(function(e){return{index:e}})),{setIndex:f.changePage}),Object(l.defaultProps)({index:0,responses:[]})),S=Object(u.createSelector)([p.responsesSelector,p.validResponsesSelector,p.requestsSelector,p.generalInfoFormatSelector,p.showEmptyMessageGFISelector,h,p.isLoadedResponseSelector],(function(e,t,r,n,o,a,i){return{responses:e,validResponses:t,requests:r,format:n,showEmptyMessageGFI:o,missingResponses:(r||[]).length-(e||[]).length,renderEmpty:a,loaded:i}})),O=Object(l.compose)(Object(c.connect)(S),Object(l.defaultProps)({responses:[],container:function(e){var t=e.index,r=e.children;return o.a.createElement(o.a.Fragment,null,Object(y.isArray)(r)&&r[t]||r)},header:g.a}),v,s.defaultViewerDefaultProps,s.defaultViewerHandlers,i()((function(e){var t=e.loaded;return Object(y.isUndefined)(t)})))(m.a);r.d(t,"IDENTIFY_POPUP",(function(){return w}));var w="identify";t.default={identify:O}},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png":function(e,t,r){e.exports=r.p+"MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAB3klEQVR42s3U4UdDURzG8czMXJnJ1Vwzc6VJZjaZJdlMlpQsKdmUFNOUspRSSqUolfQfr+fF98Vx5mwv9qbDx7LdznnO7/7Omej3+/+Ga0QMUYkhbvBgmhzCQxwxibIGrGEF8CQhU+LLtKQkQNqScUgjxRxTBIxbgfgD/BgnhM8kM5KTeclLQYqGkkMRBckzR8ic/mAgd5BAZplsUaqyIg2sDtHg2brUZJk5SmwopErJUWE8SpmTMhNvya60Zd/SNrR4bkeaskG4uiwRZk6yrJEYFibGAxn+scECHTmTnuVCzvmty3PHciB7bGKN6lQkzysPqIrHmpFhYbKUtckC1/Ioz4ZHuZdbuSLYiRxRpSZVWXZVxAzC0R4Ik5SQsu6w8yd5l2/5kg95I9SdXMoZQfYIUjeqEUrgOkXGPeN4TYRhxy8E+ZUf+eS7B7miIoeybVSjKDnm8u3+gH3pDTYwu1igATvs/pXqvBKiR4i2bNJfi1ZfUAnjgrOG8wY2quNzBKuU/ZS+uSFEl5O0xRGuUIlZCcw7xG5QPkeHYUSNV5WXGou2sC3rBC0LjenqCXGO0WEiTJa0Lr4KixdHBrDGuGGiRqCUpFk8pGIpQtCU7p4YPwxYxEMCk1aAMQZh8Ac8PfbIzYPJOwAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Form,b=m.FormControl,g=m.FormGroup,h=m.ControlLabel,v=r("./MapStore2/web/client/utils/MapUtils.js"),S=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onComboChange",(function(t){var r=parseInt(t.nativeEvent.target.value,10);e.props.onChange(r,e.props.scales[r])})),p(c(e),"getOptions",(function(){return e.props.scales.map((function(t,r){return d.createElement("option",{value:r,key:r},e.props.template(t,r))})).filter((function(t,r){return r>=e.props.minZoom}))})),e}return t=u,(r=[{key:"shouldComponentUpdate",value:function(e){return!S(e,this.props)}},{key:"render",value:function(){var e=null;return e=this.props.readOnly?d.createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?d.createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):d.createElement(y,{inline:!0},d.createElement(g,{bsSize:"small"},d.createElement(h,null,this.props.label),d.createElement(b,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),d.createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(O,"propTypes",{id:f.string,style:f.object,scales:f.array,currentZoomLvl:f.number,minZoom:f.number,onChange:f.func,readOnly:f.bool,label:f.oneOfType([f.func,f.string,f.object]),template:f.func,useRawInput:f.bool}),p(O,"defaultProps",{id:"mapstore-scalebox",scales:v.getGoogleMercatorScales(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1}),e.exports=O},"./MapStore2/web/client/components/maps/forms/Thumbnail.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/web/client/components/I18N/Message.jsx"),y=r("./MapStore2/web/client/utils/ResourceUtils.js").getResourceIdFromURL,b=r("./MapStore2/web/client/components/misc/Thumbnail.jsx").default,g={FORMAT:f.createElement(m,{msgId:"map.errorFormat"}),SIZE:f.createElement(m,{msgId:"map.errorSize"})},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{}),p(c(e),"getThumbnailUrl",(function(){return e.props.map&&e.props.map.newThumbnail&&"NODATA"!==e.props.map.newThumbnail?decodeURIComponent(e.props.map.newThumbnail):null})),p(c(e),"getDataUri",(function(e,t){var r=e;if(r&&r.length>0){var n=r[0],o=new FileReader;return o.onload=function(e){return t(e.target.result,n.size)},o.readAsDataURL(n)}return t(null)})),p(c(e),"getThumbnailDataUri",(function(t){e.getDataUri(e.files,t)})),p(c(e),"generateUUID",(function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))})),p(c(e),"processUpdateThumbnail",(function(t,r,n){var o=e.generateUUID();!e.props.map||n||!e.props.map.thumbnail||e.refs.imgThumbnail||r||e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!0),e.props.map&&!n&&e.props.map.newThumbnail&&!e.refs.imgThumbnail&&r&&(e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,r,o,n,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&n&&e.refs.imgThumbnail&&(e.deleteThumbnail(e.props.map.thumbnail,null,!1),e.props.onSaveAll(t,r,o,n,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&!n&&e.refs.imgThumbnail&&e.props.onSaveAll(t,r,o,n,"THUMBNAIL",e.props.map.id),e.props.map.newThumbnail||n||e.refs.imgThumbnail||(e.props.map.thumbnail&&r&&e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,r,o,n,"THUMBNAIL",e.props.map.id))})),p(c(e),"updateThumbnail",(function(t,r){e.props.map.errors&&e.props.map.errors.length||e.getDataUri(e.files,(function(n){return e.processUpdateThumbnail(t,r,n),n}))})),p(c(e),"deleteThumbnail",(function(t,r){if(t&&-1!==t.indexOf("geostore")){var n=y(t);n&&e.props.onDeleteThumbnail(n,r)}})),e}return t=u,(r=[{key:"renderThumbnailErrors",value:function(){return this.props.thumbnailErrors&&this.props.thumbnailErrors.length>0?f.createElement("div",{className:"dropzone-errorBox alert-danger"},f.createElement("p",null,f.createElement(m,{msgId:"map.error"})),this.props.thumbnailErrors.map((function(e){return f.createElement("div",{id:"error"+e,key:"error"+e,className:"error"+e},g[e])}))):null}},{key:"render",value:function(){var e=this;return f.createElement(b,{ref:"imgThumbnail",thumbnail:this.getThumbnailUrl(),className:null,dropZoneProps:{className:"dropzone alert alert-info",rejectClassName:"alert-danger"},loading:this.props.loading,maxFileSize:this.props.maxFileSize,style:{pointerEvents:this.props.map.saving?"none":"auto"},label:this.props.withLabel&&f.createElement("label",{className:"control-label"},f.createElement(m,{msgId:"map.thumbnail"})),"ù":!0,message:f.createElement(f.Fragment,null,this.props.message,f.createElement("br",null),this.props.suggestion),error:this.renderThumbnailErrors(),onUpdate:function(t,r){var n;e.props.onError([],e.props.map.id),e.files=r,e.props.onUpdate(t,null==r||null===(n=r[0])||void 0===n?void 0:n.preview)},onError:function(t,r){e.props.onError(t,e.props.map.id),e.files=r,e.props.onUpdate(null,null)},onRemove:function(){e.files=null,e.props.onUpdate(null,null),e.props.onRemoveThumbnail(),e.props.onError([],e.props.map.id)}})}}])&&a(t.prototype,r),n&&a(t,n),u}(f.Component);p(h,"propTypes",{glyphiconRemove:d.string,style:d.object,thumbnailErrors:d.array,loading:d.bool,withLabel:d.bool,map:d.object,maxFileSize:d.number,onDrop:d.func,onError:d.func,onUpdate:d.func,onSaveAll:d.func,onCreateThumbnail:d.func,onDeleteThumbnail:d.func,onRemoveThumbnail:d.func,message:d.oneOfType([d.string,d.element]),suggestion:d.oneOfType([d.string,d.element])}),p(h,"contextTypes",{messages:d.object}),p(h,"defaultProps",{loading:!1,withLabel:!0,glyphiconRemove:"remove-circle",maxFileSize:5e5,onDrop:function(){},onError:function(){},onUpdate:function(){},onSaveAll:function(){},onRemoveThumbnail:function(){},onCreateThumbnail:function(){},onDeleteThumbnail:function(){},message:f.createElement(m,{msgId:"map.message"}),suggestion:f.createElement(m,{msgId:"map.suggestion"}),map:{},thumbnailErrors:[]}),e.exports=h},"./MapStore2/web/client/components/misc/ConfirmDialog.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),d=r("./node_modules/react-bootstrap/es/index.js"),m=d.Button,y=d.ButtonGroup,b=d.Glyphicon,g=r("./MapStore2/web/client/components/misc/Dialog.jsx"),h=r("./node_modules/object-assign/index.js"),v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return f.createElement(g,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:h({},this.props.style,{display:this.props.show?"block":"none"})},f.createElement("span",{role:"header"},f.createElement("span",{className:"user-panel-title"},this.props.title),f.createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?f.createElement(b,{glyph:this.props.closeGlyph}):f.createElement("span",null,"×"))),f.createElement("div",{role:"body"},this.props.children),f.createElement("div",{role:"footer"},f.createElement(y,null,f.createElement(m,{onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),f.createElement(m,{onClick:this.props.onClose},this.props.closeText))))}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);u(S,"propTypes",{show:p.bool,draggable:p.bool,onClose:p.func,onConfirm:p.func,onSave:p.func,modal:p.bool,closeGlyph:p.string,style:p.object,buttonSize:p.string,inputStyle:p.object,title:p.node,confirmButtonContent:p.node,confirmButtonDisabled:p.bool,closeText:p.node,confirmButtonBSStyle:p.string}),u(S,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:f.createElement(v,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:f.createElement(v,{msgId:"confirm"})||"Confirm",closeText:f.createElement(v,{msgId:"close"}),includeCloseButton:!0}),e.exports=S},"./MapStore2/web/client/components/misc/Dialog.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react-draggable/dist/react-draggable.js"),g=r("./node_modules/react-spinkit/dist/index.js"),h=r("./node_modules/object-assign/index.js"),v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?m.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},m.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},m.createElement(v,{msgId:"loading"}),m.createElement(g,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),d(p(e),"renderRole",(function(t){return m.Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),d(p(e),"hasRole",(function(t){return m.Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),d(p(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=m.createElement("div",{id:this.props.id,style:a({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},m.createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),m.createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?m.createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):m.createElement("span",null)),r=this.props.draggable?m.createElement(b,{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=h({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?m.createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);d(S,"propTypes",{id:y.string.isRequired,style:y.object,backgroundStyle:y.object,className:y.string,maskLoading:y.bool,containerClassName:y.string,headerClassName:y.string,bodyClassName:y.string,footerClassName:y.string,onClickOut:y.func,modal:y.bool,start:y.object,draggable:y.bool,bounds:y.oneOfType([y.string,y.object])}),d(S,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"}),e.exports=S},"./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/prop-types/index.js"),i=r.n(a),s=r("./MapStore2/web/client/utils/MapInfoUtils.js"),l=r.n(s),c=r("./node_modules/react-select/dist/react-select.es.js"),u=r("./node_modules/react-bootstrap/es/index.js"),p=r("./MapStore2/web/client/components/misc/Overlay.jsx"),f=r.n(p);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t=e.text,r=e.placement,a=e.bsStyle,i=e.left,s=e.top,l=e.title,c=e.glyph,p=e.id,m=Object(n.useRef)(),y=d(Object(n.useState)(!1),2),b=y[0],g=y[1];return o.a.createElement("span",{className:"mapstore-info-popover",onMouseLeave:function(){return g(!1)}},o.a.createElement(u.Glyphicon,{onMouseEnter:function(){g(!0)},ref:function(e){m.current=e},className:"text-".concat(a),glyph:c}),o.a.createElement(f.a,{placement:r,show:b,target:function(){return m.current}},o.a.createElement(u.Popover,{id:p,placement:r,positionLeft:i,positionTop:s,title:l},o.a.createElement("div",{style:{display:"flex"}},t))))};y.propTypes={id:i.a.string,title:i.a.string,text:i.a.string,glyph:i.a.string,bsStyle:i.a.string,placement:i.a.string,left:i.a.number,top:i.a.number,trigger:i.a.oneOfType([i.a.array,i.a.bool])},y.defaultProps={id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info"};var b=y,g=r("./MapStore2/web/client/components/I18N/HTML.jsx"),h=r.n(g);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=e.id,r=e.label,n=e.infoFormat,a=e.availableInfoFormat,i=e.popoverMessage,s=e.disabled,l=e.onInfoFormatChange,p=e.selectProps,f=Object.keys(a).reduce((function(e,t){return Object.keys(e).map((function(t){return e[t]})).some((function(e){return e===a[t]}))?e:O(O({},e),{},w({},t,a[t]))}),{}),d=Object.keys(f).map((function(e){return{value:f[e],label:e}})),m=o.a.createElement(o.a.Fragment,null,"   ",i&&o.a.createElement(b,{text:o.a.createElement(h.a,{msgId:i})}),o.a.createElement(c.default,v({},p,{id:t,value:n,clearable:!1,disabled:s,options:d,onChange:function(e){return l(null==e?void 0:e.value)}})));return r?o.a.createElement(u.FormGroup,{bsSize:"small"},o.a.createElement(u.ControlLabel,null,r),m):m}E.propTypes={id:i.a.string,label:i.a.oneOfType([i.a.func,i.a.string,i.a.object]),availableInfoFormat:i.a.object,infoFormat:i.a.string,popoverMessage:i.a.string,onInfoFormatChange:i.a.func,disabled:i.a.bool,selectProps:i.a.object},E.defaultProps={id:"mapstore-feature-format-selector",availableInfoFormat:l.a.getAvailableInfoFormat(),infoFormat:l.a.getDefaultInfoFormatValue(),popoverMessage:"",onInfoFormatChange:function(){},selectProps:{}};t.default=E},"./MapStore2/web/client/components/misc/FeatureInfoTriggerSelector.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/web/client/plugins/locale/Message.jsx"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.FormControl,g=y.FormGroup,h=y.ControlLabel,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onChange",(function(t){e.props.onSetMapTrigger(t.target.value)})),e}return t=u,(r=[{key:"render",value:function(){return f.createElement(g,{bsSize:"small"},f.createElement(h,null,f.createElement(m,{msgId:"infoTriggerLabel"})),f.createElement(b,{value:this.props.trigger,componentClass:"select",onChange:this.onChange},f.createElement("option",{value:"click",key:"click"},"Click"),f.createElement("option",{value:"hover",key:"hover"},"Hover")))}}])&&a(t.prototype,r),n&&a(t,n),u}(f.Component);p(v,"propTypes",{trigger:d.string,onSetMapTrigger:d.func}),e.exports=v},"./MapStore2/web/client/components/misc/Loader.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react/index.js"),s=r("./node_modules/prop-types/index.js"),l=function(e){return e>100?"full":e>40?"medium":"small"},c=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,a=e.className,s=e.hidden;return i.createElement("div",{className:a,style:o({width:t,height:t,overflow:"hidden"},n)},!s&&i.createElement("div",{className:"mapstore-".concat(l(t),"-size-loader")}))};c.propTypes={size:s.number,className:s.string,style:s.object},e.exports=c},"./MapStore2/web/client/components/misc/LoadingSpinner.jsx":function(e,t,r){var n=r("./node_modules/react/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{display:"inline-block"}:t;return n.createElement("div",{style:r,className:"mapstore-inline-loader"})}},"./MapStore2/web/client/components/misc/LoadingView.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react/index.js"),s=r("./node_modules/react-container-dimensions/lib/index.js").default,l=r("./MapStore2/web/client/components/misc/Loader.jsx");e.exports=function(e){var t=e.width,r=e.height,n=e.className,a=void 0===n?"loader-container":n,c=e.contentStyle,u=void 0===c?{}:c;return i.createElement("div",{className:a},i.createElement(s,null,(function(e){var n=e.width,a=void 0===n?200:n,s=e.height,c=void 0===s?200:s,p=t||(c>0?Math.min(a,c):a),f=r||(c>0?Math.min(a,c):a),d=Math.min(p,f);return i.createElement(l,{size:d,style:o({padding:d/10,margin:"auto",display:"flex"},u)})})))}},"./MapStore2/web/client/components/misc/Overlay.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=n(r("./node_modules/react-bootstrap/es/index.js").Overlay)},"./MapStore2/web/client/components/misc/OverlayTrigger.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=n(r("./node_modules/react-bootstrap/es/index.js").OverlayTrigger)},"./MapStore2/web/client/components/misc/Portal.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=n(r("./node_modules/react-overlays/es/index.js").Portal)},"./MapStore2/web/client/components/misc/ResizableModal.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,a=r("./MapStore2/web/client/components/misc/Dialog.jsx"),i=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=r("./node_modules/recompose/es/Recompose.js").withState,l=r("./node_modules/react-addons-css-transition-group/index.js"),c=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),u={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},p={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}};e.exports=s("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,r=void 0!==t&&t,s=e.loading,f=e.loadingText,d=e.onClose,m=void 0===d?function(){}:d,y=e.title,b=void 0===y?"":y,g=e.clickOutEnabled,h=void 0===g||g,v=e.showClose,S=void 0===v||v,O=e.disabledClose,w=void 0!==O&&O,E=e.showFullscreen,j=void 0!==E&&E,T=e.fullscreenType,A=void 0===T?"full":T,_=e.buttons,x=void 0===_?[]:_,M=e.size,P=void 0===M?"":M,C=e.bodyClassName,L=void 0===C?"":C,R=e.children,I=e.draggable,D=void 0!==I&&I,N=e.fullscreenState,k=e.onFullscreen,F=e.fade,G=void 0!==F&&F,U=e.fitContent,B=e.modalClassName,H=void 0===B?"":B,z=e.dialogClassName,V=void 0===z?"":z,W=u[P]||"",Y=j&&"expanded"===N&&p.className[A]||"",q=r?n.createElement("div",{className:"modal-fixed ".concat(H," ")+(D?"ms-draggable":"")},n.createElement(a,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:h?m:function(){},containerClassName:"ms-resizable-modal",draggable:D,modal:!0,className:"modal-dialog modal-content"+W+Y+V+(U?" ms-fit-content":"")},n.createElement("span",{role:"header"},n.createElement("h4",{className:"modal-title"},n.createElement("div",{className:"ms-title"},b),j&&p.className[A]&&n.createElement(o,{className:"ms-header-btn",onClick:function(){return k("expanded"===N?"collapsed":"expanded")},glyph:p.glyph[N][A]}),S&&m&&n.createElement(o,{glyph:"1-close",className:"ms-header-btn",onClick:m,disabled:w}))),n.createElement("div",{role:"body",className:L},R),n.createElement("div",{style:{display:"flex"},role:"footer"},n.createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},s?n.createElement(c,null):null),n.createElement("div",{className:"ms-resizable-modal-loading-text"},s?f:null),n.createElement(i,{buttons:x})))):null;return G?n.createElement(l,{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},q):q}))},"./MapStore2/web/client/components/misc/Thumbnail.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/react-dropzone/dist/index.js"),i=r.n(a),s=r("./MapStore2/web/client/components/misc/Loader.jsx"),l=r.n(s),c=r("./MapStore2/web/client/utils/ThumbnailUtils.js"),u=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=r.n(u);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=Object(n.forwardRef)((function(e,t){var r=e.className,a=void 0===r?"ms-thumbnail":r,s=e.label,u=e.loading,y=e.message,b=e.error,g=e.thumbnail,h=e.removeGlyph,v=void 0===h?"trash":h,S=e.removeTooltipId,O=void 0===S?"removeThumbnail":S,w=e.style,E=void 0===w?{}:w,j=e.maxFileSize,T=void 0===j?5e5:j,A=e.supportedImageTypes,_=void 0===A?["image/png","image/jpeg","image/jpg"]:A,x=e.thumbnailOptions,M=e.dropZoneProps,P=void 0===M?{className:"ms-thumbnail-dropzone",activeClassName:"ms-thumbnail-dropzone-active",rejectClassName:"ms-thumbnail-dropzone-reject"}:M,C=e.onUpdate,L=void 0===C?function(){}:C,R=e.onError,I=void 0===R?function(){}:R,D=e.onRemove,N=e.toolbarButtons,k=Object(n.useRef)(),F=m(Object(n.useState)(),2),G=F[0],U=F[1];Object(n.useEffect)((function(){return k.current=!0,function(){k.current=!1}}),[]);if(u||G)return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(a?" ".concat(a):""," ms-loading")},o.a.createElement(l.a,{size:70}));var B=o.a.createElement(p.a,{btnDefaultProps:{className:"square-button-md no-border"},buttons:N||[{glyph:v,visible:!(!D||!g),tooltipId:O,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==D||D()}}]});return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(a?" ".concat(a):""),style:E},s,o.a.createElement(i.a,f({},P,{multiple:!1,onDrop:function(e){var t,r=null==e||null===(t=e[0])||void 0===t?void 0:t.type,n=-1!==_.indexOf(r);U(!0),function(e,t){return new Promise((function(r){var n=e;if(null==n?void 0:n[0]){var o=n[0],a=new FileReader;return a.onload=function(e){return r(t?Object(c.a)(e.target.result,t).then((function(e){return{data:e,size:e.length}})):{data:e.target.result,size:o.size})},a.readAsDataURL(o)}return r({data:null})}))}(e,x).then((function(t){var r=t.data,o=t.size;return k.current?(U(!1),n&&r&&o<T?L(r,e):I([].concat(d(n?[]:["FORMAT"]),d(r&&o>=T?["SIZE"]:[])),e)):null})).catch((function(e){return k.current?(U(!1),I(e)):null}))}}),g?o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o.a.createElement("div",{ref:t,style:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(".concat(g,")"),backgroundSize:(null==x?void 0:x.contain)?"contain":"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{className:"dropzone-content-image-added"},y),B):o.a.createElement("div",{className:"dropzone-content-image"},y,B,b&&o.a.createElement("div",{className:"dropzone-errors"},b))))}));t.default=g},"./MapStore2/web/client/components/misc/WithContainer.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/utils/ConfigUtils.js");e.exports=function(e){return function(t){return o.createElement(e,n({},t,{container:document.querySelector("."+(a.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/web/client/components/misc/coordinateeditors/editors/DecimalCoordinateEditor.jsx"),y=r("./MapStore2/web/client/components/misc/coordinateeditors/editors/AeronauticalCoordinateEditor.jsx"),b=r("./MapStore2/node_modules/lodash/lodash.js").isNil,g=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/no90Lat.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return a(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){var e=this.props.format;return"decimal"===e||b(e)?f.createElement(m,o({},this.props,{format:this.props.format||"decimal"})):f.createElement(y,this.props)}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(h,"propTypes",{idx:d.number,value:d.number,constraints:d.object,format:d.string,aeronauticalOptions:d.object,coordinate:d.string,onChange:d.func,onKeyDown:d.func}),p(h,"defaultProps",{format:"decimal",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}}),e.exports=g(h)},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Glyphicon,g=y.InputGroup,h=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),v=r("./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx"),S=r("./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx"),O=r("./MapStore2/web/client/components/I18N/Message.jsx"),w=r("./MapStore2/node_modules/lodash/lodash.js"),E=w.isEqual,j=w.isNumber,T=r("./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx"),A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,r,n,o=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),f(u(t=o.call(this,e)),"onChangeLatLon",(function(e,r){t.setState(a(a({},t.state),{},f({},e,parseFloat(r))),(function(){var e=parseFloat(t.state.lat)!==parseFloat(t.props.component.lat),r=parseFloat(t.state.lon)!==parseFloat(t.props.component.lon);t.setState(a(a({},t.state),{},{disabledApplyChange:!(e||r)}),(function(){"annotations"===t.props.renderer&&t.props.onSubmit(t.props.idx,t.state)}))}))})),f(u(t),"onSubmit",(function(){t.props.onSubmit(t.props.idx,t.state)})),t.state={lat:j(t.props.component.lat)?t.props.component.lat:"",lon:j(t.props.component.lon)?t.props.component.lon:"",disabledApplyChange:!0},t}return t=c,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!E(e.component,this.props.component)){var t=j(e.component.lat)?e.component.lat:"",r=j(e.component.lon)?e.component.lon:"";this.setState({lat:t,lon:r,disabledApplyChange:!0})}}},{key:"render",value:function(){var e=this,t=this.props.idx,r=[{visible:this.props.removeVisible,disabled:!this.props.removeEnabled,glyph:"trash",onClick:function(){e.props.onRemove(t)}},{buttonConfig:{title:d.createElement(b,{glyph:"cog"}),className:"square-button-md no-border",pullRight:!0,tooltipId:"identifyChangeCoordinateFormat"},menuOptions:[{active:"decimal"===this.props.format,onClick:function(){e.props.onChangeFormat("decimal")},text:d.createElement(O,{msgId:"search.decimal"})},{active:"aeronautical"===this.props.format,onClick:function(){e.props.onChangeFormat("aeronautical")},text:d.createElement(O,{msgId:"search.aeronautical"})}],visible:this.props.formatVisible,Element:T},{glyph:"ok",disabled:this.state.disabledApplyChange,tooltipId:"identifyCoordinateApplyChanges",onClick:this.onSubmit,visible:"annotations"!==this.props.renderer}],n=d.createElement("div",{role:"button",className:"square-button-md no-border btn btn-default",style:{display:"table",color:!this.props.isDraggableEnabled&&"#999999",pointerEvents:this.props.isDraggableEnabled?"auto":"none",cursor:this.props.isDraggableEnabled&&"grab"}},d.createElement(b,{glyph:"menu-hamburger"}));return d.createElement("div",{className:"coordinateRow ".concat(this.props.format||""," ").concat(this.props.customClassName||""),onMouseEnter:function(){e.props.onMouseEnter&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseEnter(e.props.component)},onMouseLeave:function(){e.props.onMouseLeave&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseLeave()}},d.createElement("div",{style:{cursor:this.props.isDraggableEnabled?"grab":"not-allowed"}},this.props.showDraggable?this.props.isDraggable?this.props.connectDragSource(n):n:null),d.createElement("div",{className:"coordinate lat"},d.createElement(g,null,d.createElement(g.Addon,null,d.createElement(O,{msgId:"latitude"})),d.createElement(S,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lat",idx:t,value:this.state.lat,onChange:function(t){return e.onChangeLatLon("lat",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit})),d.createElement(g,null,d.createElement(g.Addon,null,d.createElement(O,{msgId:"longitude"})),d.createElement(S,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lon",idx:t,value:this.state.lon,onChange:function(t){return e.onChangeLatLon("lon",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit}))),this.props.showToolButtons&&d.createElement("div",{key:"tools"},d.createElement(h,{btnGroupProps:{className:"tools"},btnDefaultProps:{className:"square-button-md no-border"},buttons:r})))}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);f(A,"propTypes",{idx:m.number,component:m.object,onRemove:m.func,onSubmit:m.func,onChangeFormat:m.func,onMouseEnter:m.func,format:m.string,type:m.string,onMouseLeave:m.func,connectDragSource:m.func,aeronauticalOptions:m.object,customClassName:m.string,isDraggable:m.bool,isDraggableEnabled:m.bool,showLabels:m.bool,showDraggable:m.bool,showToolButtons:m.bool,removeVisible:m.bool,formatVisible:m.bool,removeEnabled:m.bool,renderer:m.string}),f(A,"defaultProps",{showLabels:!1,formatVisible:!1,onMouseEnter:function(){},onMouseLeave:function(){},showToolButtons:!0}),e.exports=v(A)},"./MapStore2/web/client/components/misc/coordinateeditors/editors/AeronauticalCoordinateEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/recompose/es/Recompose.js").compose,g=r("./node_modules/react-bootstrap/es/index.js"),h=g.FormGroup,v=g.FormControl,S=r("./MapStore2/node_modules/lodash/lodash.js").isNil,O=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js"),w=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/coordinateTypePreset.js"),E=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/tempAeronauticalValue.js"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=o.call.apply(o,[this].concat(r))),"onChange",(function(t,r){var n=e.getUpdatedCoordinateValue(t,r);e.props.onChange(n)})),d(p(e),"getUpdatedCoordinateValue",(function(t,r){try{var n=d({degrees:e.props.degrees,minutes:e.props.minutes,seconds:e.props.seconds,direction:e.props.direction},t,"degrees"===t?Math.min(r,e.props.maxDegrees):r),o=n.seconds,a=n.minutes+e.getSexagesimalStep(o),i=Math.min(e.props.maxDegrees,n.degrees+e.getSexagesimalStep(a)),s=n.direction;return o=e.roundToNextSexagesimalStep(o),a=e.roundToNextSexagesimalStep(a),i===e.props.maxDegrees&&(a=0,o=0),s=i<0?s===e.props.directions[0]?e.props.directions[1]:e.props.directions[0]:s,-1===i&&(n.degrees<0&&n.minutes>=0?i=n.degrees:n.minutes<0&&n.degrees<=0?(i=0,a=n.minutes):(i=0,a=0,o=1e-4)),{degrees:i,minutes:a,seconds:o,direction:s}}catch(e){return null}})),d(p(e),"getSexagesimalStep",(function(e){return e>=60?1:e<0?-1:0})),d(p(e),"getInputStyle",(function(e){return isNaN(e)||""===e?{borderColor:"#a94442"}:{}})),d(p(e),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown())})),d(p(e),"roundToNextSexagesimalStep",(function(e){return e<0?60+e:e>=60?e-60:e})),d(p(e),"isValid",(function(t){var r=t.minutes,n=t.seconds,o=t.degrees,a=t.direction;return!S(r)&&r>0&&r<60&&!S(n)&&n>0&&n<60&&!S(o)&&o>0&&o<e.props.maxDegrees&&a})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t={padding:0,textAlign:"center",borderRight:"none"},r=this.getInputStyle(this.props.degrees),n=this.getInputStyle(this.props.minutes),o=this.getInputStyle(this.props.seconds),i={position:"relative",top:0,overflow:"visible",zIndex:3,left:-13,width:0,height:0},s=this.props.aeronauticalOptions.seconds.step;return m.createElement(h,{style:{display:"inline-flex"}},m.createElement("div",{className:"degrees"},m.createElement(v,{key:this.props.coordinate+"degree",value:this.props.degrees,placeholder:"d",onChange:function(t){return e.onChange("degrees",parseInt(t.target.value,10))},step:1,max:this.props.maxDegrees,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:a(a({width:"100%"},t),r),type:"number"}),m.createElement("span",{style:i},"°")),m.createElement("div",{className:"minutes"},m.createElement(v,{key:this.props.coordinate+"minutes",placeholder:"m",value:this.props.minutes,onChange:function(t){return e.onChange("minutes",parseInt(t.target.value,10))},max:60,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:a(a({width:"100%"},t),n),step:1,type:"number"}),m.createElement("span",{style:i},"′")),m.createElement("div",{className:"seconds"},m.createElement(v,{key:this.props.coordinate+"seconds",value:this.props.seconds,placeholder:"s",onChange:function(t){return e.onChange("seconds",parseFloat(t.target.value))},step:s,max:60,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},min:-1,style:a(a({width:"100%"},t),o),type:"number"}),m.createElement("span",{style:i},"″")),m.createElement("div",{className:"direction-select"},m.createElement(v,{componentClass:"select",placeholder:"select",value:this.props.direction,onChange:function(t){return e.onChange("direction",t.target.value)},style:{minWidth:45,paddingLeft:4,paddingRight:4,flex:"1 1 0%"}},this.props.directions.map((function(e){return m.createElement("option",{key:e,value:e},e)})))))}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);d(j,"propTypes",{idx:y.number,maxDegrees:y.number,degrees:y.number,minutes:y.number,seconds:y.number,directions:y.array,direction:y.string,aeronauticalOptions:y.object,coordinate:y.string,onChange:y.func,onKeyDown:y.func}),d(j,"defaultProps",{coordinate:"lat",maxDegrees:90,directions:["N","S"],aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},onKeyDown:function(){}}),e.exports=b(w,O,E)(j)},"./MapStore2/web/client/components/misc/coordinateeditors/editors/DecimalCoordinateEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.FormGroup,b=m.FormControl,g=r("./MapStore2/node_modules/lodash/lodash.js").capitalize,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown())})),p(c(e),"validateDecimalLon",(function(t){var r=e.props.constraints[e.props.format].lon.min,n=e.props.constraints[e.props.format].lon.max,o=parseFloat(t);return isNaN(o)||o<r||o>n?"error":null})),p(c(e),"validateDecimalLat",(function(t){var r=e.props.constraints[e.props.format].lat.min,n=e.props.constraints[e.props.format].lat.max,o=parseFloat(t);return isNaN(o)||o<r||o>n?"error":null})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.coordinate,n=t.value,o=t.onChange,a="validateDecimal"+g(r);return f.createElement(y,{validationState:this[a](n)},f.createElement(b,{key:r,value:n,placeholder:r,onChange:function(t){""===t.target.value&&o(""),null===e[a](t.target.value)&&o(t.target.value)},onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},step:1,type:"number"}))}}])&&a(t.prototype,r),n&&a(t,n),u}(f.Component);p(h,"propTypes",{idx:d.number,value:d.number,constraints:d.object,format:d.string,coordinate:d.string,onChange:d.func,onKeyDown:d.func,onSubmit:d.func}),p(h,"defaultProps",{format:"decimal",coordinate:"lat",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:function(){}}),e.exports=h},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/coordinateTypePreset.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").withProps;e.exports=n((function(e){var t=e.coordinate,r=void 0===t?"lat":t;return{maxDegrees:"lat"===r?90:180,directions:"lat"===r?["N","S"]:["E","W"]}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),i=a.compose,s=a.withHandlers,l=a.withProps,c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.round,p=c.isNaN;e.exports=i(l((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{seconds:{decimals:4}},n=r.seconds,o=e>=0?Math.floor(e):Math.ceil(e),a=Math.abs(60*(e-o)),i=Math.floor(a),s=60*(a-i),l=u(s,n.decimals);if(o=Math.abs(o),60===l&&(i++,l=0),60===i&&(o++,i=0),p(o)||""===e)return{degrees:"",minutes:"",seconds:"",direction:t?"E":"N"};var c={degrees:o,minutes:i,seconds:l,direction:e<0?t?"W":"S":t?"E":"N"};return c}(e.value,"lon"===e.coordinate,e.aeronauticalOptions))})),s({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.degrees,n=t.minutes,o=t.seconds,a=t.direction,i=0,s=0,l=0;void 0===r&&void 0===n&&void 0===o&&e.onChange(void 0),p(r)||(i=r),p(n)||(s=n),p(o)||(l=o);var c=i+s/60+l/3600;(c>0&&("S"===a||"W"===a)||c<0&&("N"===a||"E"===a))&&(c*=-1),e.onChange(c.toPrecision(12))}}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/no90Lat.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,a=n.withHandlers;e.exports=o(a({onChange:function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.maxLatitude,o=void 0===n?89.9997222222:n,a=e.coordinate;return function(e){return r(Math.abs(parseFloat(e))>o&&"lat"===a?Math.sign(e)*o:e)}}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/tempAeronauticalValue.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,a=n.withHandlers,i=n.withState,s=n.withProps;e.exports=o(s((function(e){return{isValid:""!==e.value}})),i("initial","setInitial",{}),s((function(e){var t=e.isValid,r=e.initial,n=e.degrees,o=e.minutes,a=e.seconds;return t||""===n&&""===o&&""===a?{}:r})),a({onChange:function(e){return function(t){var r=t.degrees,n=t.minutes,o=t.seconds,a=t.direction;isNaN(r)?e.setInitial({degrees:"",minutes:n,seconds:o,direction:a}):isNaN(n)?e.setInitial({degrees:r,minutes:"",seconds:o,direction:a}):isNaN(o)&&e.setInitial({degrees:r,minutes:n,seconds:"",direction:a}),e.onChange({degrees:r,minutes:n,seconds:o,direction:a})}}}))},"./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/recompose/es/Recompose.js").branch,a=r("./MapStore2/node_modules/lodash/lodash.js").omit,i=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");e.exports=o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,r=e.noTooltipWhenDisabled,n=void 0!==r&&r;return!(n&&t)}),i,(function(e){return function(t){return n.createElement(e,a(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.branch,p=r("./node_modules/react-dnd/lib/index.js").DragSource,f=r("./node_modules/react-dnd/lib/index.js").DropTarget,d={beginDrag:function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}};e.exports=u((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDraggable;return t}),c(p("row",d,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),draggingItem:t.getItem()||null}})),f("row",{drop:function(e,t){var r=t.getItem();r.sortId!==e.sortId&&e.onSort(e.sortId,r.sortId,{id:e.id,containerId:e.containerId},{id:r.id,containerId:r.containerId})}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})),(function(e){return function(t){var r=t.connectDragSource,a=t.connectDragPreview,i=t.connectDropTarget,l=t.isDragging,c=t.isOver,u=o(t,["connectDragSource","connectDragPreview","connectDropTarget","isDragging","isOver"]),p=u.draggingItem&&u.draggingItem.sortId<u.sortId,f=u.draggingItem&&u.draggingItem.containerId===u.containerId,d=f&&l?" ms-dragging":"",m=f&&c?" ms-over":"",y=f&&p?" ms-above":" ms-below";return a(i(s.createElement("div",{className:"ms-dragg".concat(d).concat(m," ").concat(y)},s.createElement("div",null,s.createElement(e,n({},u,{connectDragSource:r,isDragging:l,isOver:c,onDrop:function(e){return e.stopPropagation()}}))))))}})))},"./MapStore2/web/client/components/misc/enhancers/loadingState.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),a=r("./node_modules/recompose/es/Recompose.js").branch,i=r("./MapStore2/web/client/components/misc/LoadingView.jsx"),s=function(e){var t=e.loading,r=e.isLoading;return t||r&&("function"==typeof r?r():!0===r)};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return a(e,(function(){return function(e){var a=e.loaderProps;return o.createElement(r,n({},t,a))}}))}},"./MapStore2/web/client/components/misc/enhancers/localizedProps.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./MapStore2/web/client/utils/LocaleUtils.js").getMessageById,l=r("./node_modules/prop-types/index.js"),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.castArray,p=c.isArray,f=c.isNil,d=c.isString,m=r("./node_modules/recompose/es/Recompose.js"),y=m.getContext,b=m.mapProps,g=m.compose,h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(p(t))return t.map((function(n){var o=s(e,n[r]||d(n)&&n||"");return a(a({},n),{},i({},r,f(o)?t:o))}));var n=s(e,t);return f(n)?t:n},v=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return a(a({},n),{},i({},o,e[o]&&h(t,e[o],r)))}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return g(y({messages:l.object}),b((function(r){var o=r.messages,i=n(r,["messages"]);return a(a({},i),u(e).reduce(v(i,o,t),{}))})))}},"./MapStore2/web/client/components/misc/enhancers/popover.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./node_modules/recompose/es/Recompose.js"),d=f.branch,m=f.toClass,y=r("./node_modules/prop-types/index.js"),b=r("./MapStore2/node_modules/lodash/lodash.js").omit,g=r("./node_modules/react-bootstrap/es/index.js").Popover,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");e.exports=d((function(e){return e.popover}),(function(e){var t,r;return r=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,t);var r,n,l,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"renderPopover",value:function(){return p.createElement(g,b(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=m(e);return p.createElement(t,b(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return p.createElement("span",null,p.createElement(h,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&a(r.prototype,n),l&&a(r,l),u}(p.Component),u(t,"propTypes",{popover:y.object}),u(t,"defaultProps",{popover:{trigger:!0}}),r}))},"./MapStore2/web/client/components/misc/enhancers/tooltip.jsx":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var o=r("./node_modules/react/index.js"),a=r("./node_modules/recompose/es/Recompose.js").branch,i=r("./node_modules/react-bootstrap/es/index.js").Tooltip,s=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),l=r("./MapStore2/web/client/components/I18N/Message.jsx"),c=r("./MapStore2/node_modules/lodash/lodash.js").omit;e.exports=a((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,a=t.tooltipId,c=t.tooltipPosition,u=void 0===c?"top":c,p=t.tooltipTrigger,f=t.keyProp,d=t.idDropDown,m=t.args,y=n(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args"]);return o.createElement(s,{trigger:p,id:d,key:f,placement:u,overlay:o.createElement(i,{id:"tooltip-"+{keyProp:f}},a?o.createElement(l,{msgId:a,msgParams:{data:m}}):r)},o.createElement(e,y))}}),(function(e){return function(t){return o.createElement(e,c(t,["tooltipId","tooltip"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/withMask.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/recompose/es/Recompose.js"),a=o.branch,i=o.nest,s=function(e,t,r){var o=r.maskContainerStyle,a=r.maskStyle,s=r.className,l=r.white;return function(r){return i((function(r){return n.createElement("div",{className:"ms2-mask-container ".concat(s||""," ").concat(e(r)?"":"ms2-mask-empty"),style:o},r.children,e(r)?n.createElement("div",{className:"ms2-mask"+(l?" white-mask":""),style:a},t(r)):null)}),r)}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.alwaysWrap,o=void 0===n||n,i=r.white,l=void 0!==i&&i,c=r.maskContainerStyle,u=void 0===c?{}:c,p=r.maskStyle,f=void 0===p?{}:p,d=r.className;return o?s(e,t,{maskContainerStyle:u,maskStyle:f,className:d,white:l}):a(e,s((function(){return!0}),t,{maskContainerStyle:u,maskStyle:f,white:l}))}},"./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./MapStore2/node_modules/lodash/lodash.js").debounce,b=r("./node_modules/prop-types/index.js"),g=r("./node_modules/react-dom/index.js"),h=r("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js").default;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,r=e.querySelector,n=e.closest,a=void 0!==n&&n;return function(e){var n,l;return l=n=function(n){s(u,n);var l=c(u);function u(e){var n;return o(this,u),d(p(n=l.call(this,e)),"findDomNode",(function(){if(!n.isMounded)return null;var e=g.findDOMNode(p(n));return e&&a&&r?e.closest(r||"*"):e&&(r?e.querySelector(r):e)})),n.width=void 0,n.height=void 0,n.skipOnMount=e.skipOnMount,n.onResize=y((function(){var e;return(e=n.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),n.ro=new h((function(e){e.forEach((function(e){var t=e.contentRect,r=t.width,o=t.height,a=n.props.handleWidth&&n.width!==r,i=n.props.handleHeight&&n.height!==o;n.skipOnMount||!a&&!i||n.onResize({width:r,height:o}),n.width=r,n.height=o,n.skipOnMount=!1}))})),n}return i(u,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findDomNode();e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return m.createElement(e,this.props)}}]),u}(m.Component),d(n,"propTypes",{handleWidth:b.bool,handleHeight:b.bool,onResize:b.func}),d(n,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),l}}},"./MapStore2/web/client/components/misc/panels/DockPanel.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-dock/lib/index.js").default,a=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),i=r("./node_modules/recompose/es/Recompose.js").withState,s=r("./MapStore2/web/client/components/misc/panels/PanelHeader.jsx");e.exports=i("fullscreen","onFullscreen",!1)((function(e){var t=e.fluid,r=e.className,i=void 0===r?"":r,l=e.fullscreen,c=void 0!==l&&l,u=e.position,p=e.open,f=e.size,d=void 0===f?550:f,m=e.style,y=void 0===m?{}:m,b=e.zIndex,g=void 0===b?1030:b,h=e.onClose,v=e.bsStyle,S=e.title,O=e.showFullscreen,w=void 0!==O&&O,E=e.glyph,j=e.header,T=e.footer,A=e.children,_=e.onFullscreen,x=void 0===_?function(){}:_,M=e.fixed,P=void 0!==M&&M,C=e.resizable,L=void 0!==C&&C,R=e.hideHeader;return n.createElement("div",{className:"ms-side-panel "+(P?"":"ms-absolute-dock ")+(L?"":"react-dock-no-resize ")+i},n.createElement(o,{fluid:t||c,position:u,dimMode:"none",isVisible:p,size:c?1:d,dockStyle:y,zIndex:g},n.createElement(a,{header:!R&&p&&n.createElement(s,{position:u,onClose:h,bsStyle:v,title:S,fullscreen:c,showFullscreen:w,glyph:E,additionalRows:j,onFullscreen:x}),footer:p&&T},p&&A)))}))},"./MapStore2/web/client/components/misc/panels/DockablePanel.jsx":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var o=r("./node_modules/react/index.js"),a=r("./node_modules/recompose/es/Recompose.js"),i=a.branch,s=a.renameProps,l=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),c=r("./MapStore2/web/client/components/misc/panels/DockPanel.jsx"),u=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),p=s({open:"show"})((function(e){var t=e.children,r=e.header,a=n(e,["children","header"]);return o.createElement(u,a,o.createElement(l,{header:o.createElement("div",{className:"ms-header"},r)},t))}));e.exports=i((function(e){return!e.dock}),(function(){return function(e){return o.createElement(p,e)}}))(c)},"./MapStore2/web/client/components/misc/panels/PanelHeader.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),a=o.Button,i=o.Glyphicon,s=o.Grid,l=o.Row,c=o.Col,u={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}};e.exports=function(e){var t=e.position,r=void 0===t?"right":t,o=e.onClose,p=e.bsStyle,f=void 0===p?"default":p,d=e.title,m=void 0===d?"":d,y=e.fullscreen,b=void 0!==y&&y,g=e.showFullscreen,h=void 0!==g&&g,v=e.glyph,S=void 0===v?"info-sign":v,O=e.additionalRows,w=e.onFullscreen,E=void 0===w?function(){}:w,j=o?n.createElement(a,{key:"ms-header-close",className:"square-button ms-close",onClick:o,bsStyle:f},n.createElement(i,{glyph:"1-close"})):null,T=h?n.createElement(a,{key:"ms-header-glyph",className:"square-button",bsStyle:f,onClick:function(){return E(!b)}},n.createElement(i,{glyph:u[r]&&u[r][b]||"resize-full"})):n.createElement("div",{key:"ms-header-glyph",className:"square-button ".concat("bg-"+f),style:{display:"flex"}},n.createElement(i,{glyph:S,className:"".concat("default"===f?"text-primary":"")})),A="left"===r?[j,T]:[T,j];return n.createElement(s,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+f},n.createElement(l,null,n.createElement(c,{xs:2},A[0]),n.createElement(c,{xs:8},n.createElement("h4",null,m)),n.createElement(c,{xs:2},A[1])),O)}},"./MapStore2/web/client/components/misc/spinners/GlobalSpinner/GlobalSpinner.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),d=r("./node_modules/react-spinkit/dist/index.js");r("./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return this.props.loading?f.createElement("div",{className:this.props.className,id:this.props.id},f.createElement(d,{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);u(m,"propTypes",{id:p.string,loading:p.bool,className:p.string,spinner:p.string}),u(m,"defaultProps",{id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"}),e.exports=m},"./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/misc/switch/SwitchButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return p.createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},p.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),p.createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&a(t.prototype,r),n&&a(t,n),c}(p.Component);u(d,"propTypes",{className:f.string,checked:f.bool,onChange:f.func,onClick:f.func}),u(d,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}}),e.exports=d},"./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Panel,b=m.Button,g=m.Glyphicon,h=r("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),v=r("./MapStore2/web/client/components/misc/switch/SwitchToolbar.jsx").default,S=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),O=function(){return f.createElement(b,{className:"square-button-sm no-border switch-error"},f.createElement(g,{glyph:"exclamation-mark",className:"text-danger"}))},w=r("./MapStore2/web/client/components/misc/LoadingView.jsx"),E=function(){return f.createElement("div",{className:"switch-loading"},f.createElement(w,{size:"small"}))},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{}),e}return t=u,(r=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?v:h;return f.createElement("div",null,f.createElement("div",{className:"pull-left"},this.props.title||this.props.header),f.createElement("div",{className:"pull-right"},this.props.locked?null:f.createElement(t,{checked:this.props.expanded,onClick:function(t){e.props.onSwitch(t)}}),this.props.error?f.createElement(O,null):null,this.props.loading?f.createElement(E,null):null,this.props.buttons.length>0&&this.props.expanded&&f.createElement(S,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return f.createElement(y,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&a(t.prototype,r),n&&a(t,n),u}(f.Component);p(j,"propTypes",{header:d.node,title:d.oneOfType([d.string,d.node]),defaultExpanded:d.string,expanded:d.bool,onSwitch:d.func,locked:d.bool,buttons:d.array,loading:d.bool,error:d.any,errorMsgId:d.string,transitionProps:d.object,useToolbar:d.bool}),p(j,"defaultProps",{title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1}),e.exports=j},"./MapStore2/web/client/components/misc/switch/SwitchToolbar.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),a=r("./node_modules/prop-types/index.js"),i=r.n(a),s=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),l=r.n(s),c=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r.n(c);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,r,n,a=y(i);function i(){return f(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(l.a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?o.a.createElement(u.a,{msgId:"collapse"}):o.a.createElement(u.a,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&d(t.prototype,r),n&&d(t,n),i}(o.a.Component);h(v,"propTypes",{checked:i.a.bool,onClick:i.a.func}),h(v,"defaultProps",{checked:!1,onClick:function(){}}),t.default=v},"./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react-bootstrap/es/index.js"),a=o.Glyphicon,i=o.DropdownButton,s=o.MenuItem,l=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),c=r("./node_modules/react/index.js"),u=r("./node_modules/uuid/v1.js"),p=l(i),f={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:u()};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.menuOptions,r=void 0===t?[]:t,o=e.buttonConfig,i=void 0===o?{}:o;return c.createElement(p,n({},f,i),r.length?r.map((function(e,t){var r=e.glyph,n=e.text,o=e.onClick,i=e.active,l=void 0!==i&&i;return c.createElement(s,{active:l,eventKey:t,onClick:o,key:t},r&&c.createElement(a,{glyph:r})," ",n)})):null)}},"./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var a=r("./node_modules/react/index.js"),i=r("./node_modules/react-bootstrap/es/index.js").ButtonGroup,s=r("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),l=r("./node_modules/react-addons-css-transition-group/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,r=void 0===t?[]:t,c=e.btnGroupProps,u=void 0===c?{}:c,p=e.btnDefaultProps,f=void 0===p?{}:p,d=e.transitionProps,m=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,y=function(){return r.map((function(e,t){var r=e.visible,i=void 0===r||r,l=e.Element,c=e.renderButton,u=o(e,["visible","Element","renderButton"]);return i?c||(l&&a.createElement(l,n({key:u.key||t},u))||a.createElement(s,n({key:u.key||t},f,u))):null}))};return a.createElement(i,u,m?a.createElement(l,m,y()):y())}},"./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var a=r("./node_modules/react/index.js"),i=r("./node_modules/recompose/es/Recompose.js").compose,s=r("./MapStore2/web/client/components/I18N/Message.jsx"),l=r("./MapStore2/node_modules/lodash/lodash.js").omit,c=r("./node_modules/react-bootstrap/es/index.js"),u=c.Button,p=c.Glyphicon,f=r("./MapStore2/web/client/components/misc/Loader.jsx"),d=r("./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx"),m=r("./MapStore2/web/client/components/misc/enhancers/popover.js");e.exports=i(d,m)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,r=e.loading,i=e.text,c=void 0===i?"":i,d=e.textId,m=e.glyphClassName,y=void 0===m?"":m,b=e.loaderProps,g=void 0===b?{}:b,h=e.children,v=o(e,["glyph","loading","text","textId","glyphClassName","loaderProps","children"]);return a.createElement(u,l(v,["pullRight","confirmNo","confirmYes"]),t&&!r?a.createElement(p,{glyph:t,className:y}):null,d?a.createElement(s,{msgId:d}):c,r?a.createElement(f,n({className:"ms-loader".concat(v.bsStyle&&" ms-loader-"+v.bsStyle||"").concat(v.bsSize&&" ms-loader-"+v.bsSize||"")},g)):null,h)}))},"./MapStore2/web/client/components/playback/Settings.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react/index.js"),s=r("./node_modules/moment/moment.js"),l=r("./MapStore2/node_modules/lodash/lodash.js").isNaN,c=r("./node_modules/react-bootstrap/es/index.js"),u=c.Form,p=c.FormGroup,f=c.ControlLabel,d=c.FormControl,m=c.InputGroup,y=r("./MapStore2/web/client/components/I18N/Message.jsx"),b=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),g=r("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),h=r("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),v=r("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),S=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!l(parseInt(e,10))){var n=parseInt(e,10);return t(n<1?1:n)}return r()}catch(e){return r(e)}},O=function(e){var t=e.startPlaybackTime,r=e.endPlaybackTime,n=s(t).diff(r);return{startPlaybackTime:n>=0?r:t,endPlaybackTime:n>=0?t:r}};e.exports=function(e){var t=e.following,r=e.frameDuration,n=e.timeStep,a=e.stepUnit,s=e.onSettingChange,l=void 0===s?function(){}:s,c=e.toggleAnimationMode,w=void 0===c?function(){}:c,E=e.toggleAnimationRange,j=void 0===E?function(){}:E,T=e.fixedStep,A=void 0!==T&&T,_=e.playbackRange,x=void 0===_?{}:_,M=e.setPlaybackRange,P=void 0===M?function(){}:M,C=e.playbackButtons,L=e.dateSelectorStyle,R=void 0===L?{padding:0,margin:0,border:"none"}:L,I=e.style,D=void 0===I?{}:I;return i.createElement("div",{className:"ms-playback-settings",style:D},i.createElement("h4",null,i.createElement(y,{msgId:"timeline.settings.title"})),i.createElement(p,{controlId:"timelineSettings"},i.createElement(u,{componentClass:"fieldset",inline:!0},i.createElement(f,null,i.createElement(y,{msgId:"timeline.settings.snapToGuideLayer"})," ",i.createElement(b,{text:i.createElement(y,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),i.createElement("span",null,i.createElement(h,{checked:!A,onChange:function(){return w()}})))),i.createElement("h4",null,i.createElement(y,{msgId:"playback.settings.title"})),i.createElement(p,{controlId:"frameDuration"},i.createElement(f,null,i.createElement(y,{msgId:"playback.settings.frameDuration"})),i.createElement(m,null,i.createElement(d,{componentClass:"input",type:"number",value:r,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?{}:t;return S(r.value,(function(e){l("frameDuration",e)}))}}),i.createElement(m.Addon,null,"s"))),i.createElement(f,null,i.createElement(y,{msgId:"playback.settings.step.label"})," ",i.createElement(b,{text:i.createElement(y,{msgId:"playback.settings.step.tooltip"})})),i.createElement(p,{controlId:"formPlaybackStep"},i.createElement(u,{componentClass:"fieldset",inline:!0},i.createElement(d,{disabled:!A,componentClass:"input",type:"number",style:{maxWidth:120},value:n,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?{}:t;return S(r.value,(function(e){l("timeStep",e)}))}}),i.createElement(d,{disabled:!A,componentClass:"select",value:a,onChange:function(e){var t=e.target;return l("stepUnit",(void 0===t?{}:t).value)}},i.createElement(y,{msgId:"playback.settings.step.year",msgParams:{number:n||1}},(function(e){return i.createElement("option",{value:"years"},e)})),i.createElement(y,{msgId:"playback.settings.step.week",msgParams:{number:n||1}},(function(e){return i.createElement("option",{value:"weeks"},e)})),i.createElement(y,{msgId:"playback.settings.step.day",msgParams:{number:n||1}},(function(e){return i.createElement("option",{value:"days"},e)})),i.createElement(y,{msgId:"playback.settings.step.hour",msgParams:{number:n||1}},(function(e){return i.createElement("option",{value:"hour"},e)})),i.createElement(y,{msgId:"playback.settings.step.minute",msgParams:{number:n||1}},(function(e){return i.createElement("option",{value:"minutes"},e)})),i.createElement(y,{msgId:"playback.settings.step.second",msgParams:{number:n||1}},(function(e){return i.createElement("option",{value:"seconds"},e)}))))),i.createElement(v,{onSwitch:function(e){return j(e)},expanded:x.startPlaybackTime&&x.endPlaybackTime,title:i.createElement(y,{msgId:"playback.settings.range.title"}),buttons:C},i.createElement(p,{controlId:"formPlaybackMode",style:{margin:10}},i.createElement(g,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:x.startPlaybackTime,onUpdate:function(e){return P(O(o(o({},x),{},{startPlaybackTime:e})))},style:R,showButtons:!0}),i.createElement(g,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:x.endPlaybackTime,onUpdate:function(e){return P(O(o(o({},x),{},{endPlaybackTime:e})))},style:R,showButtons:!0}))),i.createElement(p,{controlId:"formPlaybackFollowingMode"},i.createElement(u,{componentClass:"fieldset",inline:!0},i.createElement(f,null,i.createElement(y,{msgId:"playback.settings.mode.following"})," ",i.createElement(b,{text:i.createElement(y,{msgId:"playback.settings.mode.followingDescription"})})),i.createElement("span",null,i.createElement(h,{checked:t,onChange:function(e){return l("following",e)}})))))}},"./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Form,b=m.FormGroup,g=m.FormControl,h=m.Glyphicon,v=m.Button,S=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(h),O=r("./MapStore2/node_modules/lodash/lodash.js"),w=O.padStart,E=O.isNil,j=r("./node_modules/moment/moment.js"),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onUpdate",(function(t,r){var n=j(e.props.date).utc(),o=r?j(n).add(1,t):j(n).subtract(1,t);o.isValid()&&!isNaN(o.toDate().getTime())&&e.props.onUpdate(o.toISOString())})),p(c(e),"onChange",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};if(""!==r){var o=j(e.props.date).utc(),a=o["day"===t?"date":t]&&j(o)["day"===t?"date":t](n(r));a.isValid()&&!isNaN(a.toDate().getTime())&&e.props.onUpdate(a.toISOString())}})),p(c(e),"getForm",(function(){var t=e.props.date&&j(e.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:t&&t.date()},{name:"month",placeholder:"MM",readOnly:!0,value:t&&t.month(),format:function(e){return!E(e)&&""!==e&&j.monthsShort(e)},parseValue:function(e){return e-1}},{name:"year",placeholder:"YYYY",value:t&&t.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:t&&t.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:t&&t.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:t&&t.seconds()},{name:"separator",value:t&&t.utcOffset(),type:"separator",format:function(e){return"UTC "+(e>=0?"+":"-")+w(e/60,2,0)}}]})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=this.getForm();return f.createElement(y,{className:"ms-inline-datetime ".concat(this.props.className),style:this.props.style},f.createElement(b,{controlId:"inlineDateTime"},this.props.glyph&&f.createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:function(){return e.props.clickable&&e.props.onIconClick(e.props.date,e.props.glyph)}},f.createElement(S,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),t.map((function(t){return"icon"===t.type&&f.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},f.createElement(S,{glyph:t.value}))||"separator"===t.type&&f.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},t.format&&t.format(t.value)||t.value)||f.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},e.props.showButtons&&f.createElement(v,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name,!0)}},f.createElement(S,{glyph:"chevron-up"})),f.createElement(g,{type:"text",readOnly:t.readOnly,placeholder:t.placeholder||t.name,disabled:!e.props.date,value:t.format&&t.format(t.value)||t.value,onChange:function(r){return e.onChange(t.name,r.target.value,t.parseValue)}}),e.props.showButtons&&f.createElement(v,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name)}},f.createElement(S,{glyph:"chevron-down"})))}))))}}])&&a(t.prototype,r),n&&a(t,n),u}(f.Component);p(T,"propTypes",{date:d.string,clickable:d.bool,onUpdate:d.func,onIconClick:d.func,glyph:d.string,style:d.object,className:d.string,tooltip:d.string,tooltipId:d.string,showButtons:d.bool}),p(T,"defaultProps",{date:"",onIconClick:function(){},clickable:!1,onUpdate:function(){},glyph:"time",style:{},className:"",tooltip:""}),e.exports=T},"./MapStore2/web/client/components/time/TimelineComponent.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/moment/moment.js"),b=r("./node_modules/vis/dist/vis-timeline-graph2d.min.js");b.timeline.components.items.BackgroundItem.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},r("./node_modules/vis/dist/vis-timeline-graph2d.min.css");var g=r("./MapStore2/node_modules/lodash/lodash.js"),h=g.difference,v=g.differenceBy,S=g.keys,O=g.intersection,w=g.intersectionBy,E=g.each,j=g.omit,T=g.assign,A=function(){},_=["currentTimeTick","click","contextmenu","doubleClick","groupDragged","changed","rangechange","rangechanged","select","drop","timechange","timechanged","mouseOver","mouseMove","mouseleave","itemover","itemout","mouseDown","mouseUp"],x={},M={};E(_,(function(e){return x[e]=m.func,M["".concat(e,"Handler")]=A,[x,M]}));var P={items:m.array,rangeItems:m.array,groups:m.array,options:m.object,selectionOptions:m.object,selection:m.array,customTimes:m.shape({datetime:m.instanceOf(Date),id:m.string}),animate:m.oneOfType([m.bool,m.object]),currentTime:m.oneOfType([m.string,m.instanceOf(Date),m.number])},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,r,n,a=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),f(u(t=a.call(this,e)),"setAllItems",(function(e){t.$el.setItems([].concat(o(e||[]),o(t.props.rangeItems||[])))})),f(u(t),"setItems",(function(e){(e.length||0)+(t.props.rangeItems&&t.props.rangeItems.length||0)>0?t.$el.initialFitDone?t.setAllItems(e):(t.setAllItems(e),t.$el.emit("changed")):t.$el.initialRangeChangeDone&&t.setAllItems(e)})),t.state={customTimes:[]},t}return t=c,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.refs.container;this.$el=new b.Timeline(t,void 0,this.props.options),_.forEach((function(t){return e.$el.on(t,e.props["".concat(t,"Handler")])})),this.init()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,r=t.items,n=t.groups,o=t.options,a=t.selection,i=t.customTimes,s=t.readOnly,l=t.rangeItems,c=r!==e.items,u=n!==e.groups,p=o!==e.options,f=i!==e.customTimes,d=a!==e.selection,m=s!==e.readOnly,y=l!==e.rangeItems;return c||u||p||f||d||m||y}},{key:"componentDidUpdate",value:function(e){this.init(e)}},{key:"componentWillUnmount",value:function(){this.$el.destroy()}},{key:"render",value:function(){return d.createElement("div",{ref:"container",className:this.props.readOnly?"read-only-timeline":"",onMouseOut:this.props.onMouseOutHandler})}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.props,n=r.items,o=r.rangeItems,a=r.groups,i=r.options,s=r.selection,l=r.selectionOptions,c=void 0===l?{}:l,u=r.customTimes,p=r.animate,f=void 0===p||p,d=r.currentTime,m=i;if(f&&(m=j(i,"start","end"),i.start&&i.end?this.$el.setWindow(i.start,i.end,{animation:f}):this.$el.setWindow(y().subtract(1,"month"),y().add(1,"month"),{animation:f})),this.$el.setOptions(m),a.length>0){var g=new b.DataSet;g.add(a),this.$el.setGroups(g)}if(n&&n!==t.items)this.setItems(n);else if(o!==t.rangeItems){var T=this.$el&&this.$el.itemsData&&this.$el.itemsData.getDataSet();if(T){var A=w(o||[],t.rangeItems||[],"id"),_=v(o||[],t.rangeItems||[],"id"),x=v(t.rangeItems||[],o||[],"id");A.map((function(e){return T.update(e)})),_.map((function(e){return T.add(e)})),x.map((function(e){var t=e.id;return T.remove(t)}))}else this.setItems(n)}this.$el.setSelection(s,c),d&&this.$el.setCurrentTime(d);var M=S(this.state.customTimes),P=S(u),C=h(P,M),L=h(M,P),R=O(M,P);E(L,(function(t){return e.$el.removeCustomTime(t)})),E(C,(function(t){var r=u[t];e.$el.addCustomTime(r,t)})),E(R,(function(t){var r=u[t];e.$el.setCustomTime(r,t)})),this.setState({customTimes:u}),(this.props.readOnly!==t.readOnly||this.props.readOnly&&C.length>0)&&E(this.$el.customTimes,(function(r){e.props.readOnly?r.hammer.off("panstart panmove panend"):!0===t.readOnly&&(r.hammer.on("panstart",r._onDragStart.bind(r)),r.hammer.on("panmove",r._onDrag.bind(r)),r.hammer.on("panend",r._onDragEnd.bind(r)))}))}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);f(C,"propTypes",T(P,x)),f(C,"defaultProps",T({items:[],groups:[],options:{},selection:[],customTimes:{}},M)),e.exports=C},"./MapStore2/web/client/components/time/enhancers/customTimesEnhancer.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.withPropsOnChange,p=l.withHandlers,f=r("./MapStore2/web/client/utils/TimeUtils.js").getStartEnd;e.exports=c(u(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],(function(e){var t=e.rangeItems,r=void 0===t?[]:t,n=e.playbackEnabled,a=e.playbackRange;return{rangeItems:n&&a&&void 0!==a.startPlaybackTime&&void 0!==a.endPlaybackTime?[].concat(i(r),[o(o({id:"playback-range"},f(a.startPlaybackTime,a.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter((function(e){return e})):r}})),c(p({onUpdate:function(e){var t=e.moveCurrentRange,r=void 0===t?function(){}:t;return function(e){var t=e.id,n=e.start;"current-range"===t&&r(n.toISOString())}}}),u(["options","onUpdate"],(function(e){var t=e.options,r=void 0===t?{}:t,n=e.onUpdate,a=void 0===n?function(){}:n;return{options:o(o({},r),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;a(e),t(e)}})}})),u(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],(function(e){var t=e.currentTimeRange,r=e.rangeItems,n=void 0===r?[]:r,a=e.readOnly;return{rangeItems:e.offsetEnabled&&void 0!==t.start&&void 0!==t.end?[].concat(i(n),[o(o({id:"current-range",editable:{updateTime:!a,updateGroup:!1,remove:!1}},f(t.start,t.end)),{},{type:"background",className:"ms-current-range"})]).filter((function(e){return e})):n}}))),u(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],(function(e){var t=e.currentTime,r=e.playbackRange,n=e.playbackEnabled,a=e.offsetEnabled,i=e.currentTimeRange;return{customTimes:[t?{currentTime:t}:{},n&&r&&r.startPlaybackTime&&r.endPlaybackTime?r:{},a&&i?{offsetTime:i.end}:{}].reduce((function(e,t){return t?o(o({},e),t):o({},e)}),{})}})))},"./MapStore2/web/client/components/time/enhancers/customTimesHandlers.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/recompose/es/Recompose.js").withHandlers,s=r("./MapStore2/node_modules/lodash/lodash.js").trim,l=r("./node_modules/moment/moment.js"),c=function(e,t){return l(t).diff(e)>0},u=r("./MapStore2/web/client/utils/TimeUtils.js").getStartEnd;e.exports=i({clickHandler:function(e){var t=e.selectedLayer,r=e.offsetEnabled,n=e.status,o=e.setCurrentTime,a=void 0===o?function(){}:o,i=e.selectGroup,l=void 0===i?function(){}:i;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.time,i=e.group,c=e.what,u=e.event;if("PLAY"!==n)switch(c){case"group-label":i&&"PLAY"!==n&&l(i);break;default:var p=u&&u.target&&u.target.closest(".vis-custom-time"),f=p&&p.getAttribute("class"),d=f&&s(f.replace("vis-custom-time",""));o&&!r&&"startPlaybackTime"!==d&&"endPlaybackTime"!==d&&a(o.toISOString(),t)}}},timechangedHandler:function(e){var t=e.currentTime,r=e.setOffset,n=void 0===r?function(){}:r,i=e.setCurrentTime,s=void 0===i?function(){}:i,l=e.currentTimeRange,p=void 0===l?{}:l,f=e.playbackRange,d=e.setPlaybackRange,m=void 0===d?function(){}:d,y=e.selectedLayer;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.time,i=e.id;if("startPlaybackTime"!==i&&"endPlaybackTime"!==i)"currentTime"===i&&(p.end?c(r,p.end)?s(r.toISOString(),null):(s(p.end),n(r.toISOString())):s(r.toISOString(),y)),"offsetTime"===i&&(c(t,r)?n(r.toISOString()):(s(r.toISOString()),n(t)));else{var l=o(o({},f),{},a({},i,r.toISOString())),d=u(l.startPlaybackTime,l.endPlaybackTime),b=d.start,g=d.end;c(b,g)&&m({startPlaybackTime:b,endPlaybackTime:g})}}}})},"./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),f=r("./node_modules/react-dom/index.js"),d=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Popover,b=m.Glyphicon,g=r("./MapStore2/web/client/components/misc/Overlay.jsx"),h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"renderPopover",value:function(){return p.createElement(y,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var e=this;return p.createElement(b,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return p.createElement("span",{className:"mapstore-info-popover"},this.props.trigger?p.createElement(h,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),p.createElement(g,{placement:this.props.placement,show:!0,target:function(){return f.findDOMNode(e.target)}},this.renderPopover())])}}])&&a(t.prototype,r),n&&a(t,n),c}(p.Component);u(v,"propTypes",{id:d.string,title:d.string,text:d.string,glyph:d.string,bsStyle:d.string,placement:d.string,left:d.number,top:d.number,trigger:d.oneOfType([d.array,d.bool])}),u(v,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]}),e.exports=v},"./MapStore2/web/client/epics/backgroundselector.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/rxjs/Rx.js"),c=r("./MapStore2/node_modules/lodash/lodash.js").head,u=r("./MapStore2/web/client/actions/backgroundselector.js"),p=u.ADD_BACKGROUND,f=u.ADD_BACKGROUND_PROPERTIES,d=u.SET_CURRENT_BACKGROUND_LAYER,m=u.BACKGROUND_ADDED,y=u.BACKGROUND_EDITED,b=u.REMOVE_BACKGROUND,g=u.createBackgroundsList,h=u.clearModalParameters,v=u.setBackgroundModalParams,S=u.setCurrentBackgroundLayer,O=u.allowBackgroundsDeletion,w=r("./MapStore2/web/client/actions/controls.js").setControlProperty,E=r("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,j=r("./MapStore2/web/client/actions/catalog.js").changeSelectedService,T=r("./MapStore2/web/client/actions/layers.js"),A=T.changeLayerProperties,_=T.removeNode,x=r("./MapStore2/web/client/selectors/layers.js"),M=x.getLayerFromId,P=x.currentBackgroundSelector,C=r("./MapStore2/web/client/selectors/backgroundselector.js").backgroundLayersSelector,L=r("./MapStore2/web/client/observables/wms.js").getLayerCapabilities,R=r("./MapStore2/web/client/utils/LayersUtils.js").formatCapabitiliesOptions;e.exports={accessMetadataExplorer:function(e){return e.ofType(p).switchMap((function(){return l.Observable.of(w("metadataexplorer","enabled",!0),O(!1),j("default_map_backgrounds"))}))},addBackgroundPropertiesEpic:function(e){return e.ofType(f).switchMap((function(e){var t=e.modalParams,r=l.Observable.of(v(i(i({},t),{},{loading:!1})));return t.layer&&"wms"===t.layer.type?l.Observable.of(v(i(i({},t),{},{loading:!0}))).concat(L(t.layer).switchMap((function(e){return l.Observable.of(v(i(i({},t),{},{loading:!1,capabilities:R(e)})))})).catch((function(){return r}))):r}))},backgroundsListInit:function(e){return e.ofType(E).switchMap((function(e){var t,r=e.config,o=r.map&&r.map.backgrounds||[],a=(r.map&&r.map.layers||[]).filter((function(e){return"background"===e.group})),i=o.filter((function(e){return!!e.thumbnail})).map((function(e){return A(e.id,{thumbURL:function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);return URL.createObjectURL(new Blob([n],{type:r}))}(e.thumbnail)})})),s=c(a.filter((function(e){return e.visibility})));return(t=l.Observable).of.apply(t,n(i.concat(g(o))).concat(n(s?[S(s.id)]:[])))}))},setCurrentBackgroundLayerEpic:function(e,t){return e.ofType(d).switchMap((function(e){var r,o=e.layerId,a=t.getState(),i=M(a,o);return(r=l.Observable).of.apply(r,n(i&&"background"===i.group?[w("backgroundSelector","tempLayer",i),w("backgroundSelector","currentLayer",i)]:[]))}))},backgroundAddedEpic:function(e,t){return e.ofType(m).mergeMap((function(e){var r=e.layerId,n=t.getState(),o=M(n,r);return o?l.Observable.of(A(o.id,{visibility:!0}),S(o.id),h()):l.Observable.empty()}))},backgroundEditedEpic:function(e,t){return e.ofType(y).mergeMap((function(e){var r=e.layerId,n=t.getState();return M(n,r)?l.Observable.of(h()):l.Observable.empty()}))},backgroundRemovedEpic:function(e,t){return e.ofType(b).mergeMap((function(e){var r=e.backgroundId,n=t.getState(),o=M(n,r),a=C(n)||[],i=P(n)||{},s=r===i.id?c(a.filter((function(e){return e.id!==r&&!e.invalid}))):i;return o?l.Observable.of(_(r,"layers"),A(s.id,{visibility:!0}),S(s.id)):l.Observable.empty()}))}}},"./MapStore2/web/client/epics/fullscreen.js":function(e,t,r){var n=r("./node_modules/screenfull/dist/screenfull.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),a=o.head,i=o.last,s=r("./MapStore2/web/client/actions/controls.js").setControlProperty,l=r("./MapStore2/web/client/actions/fullscreen.js").TOGGLE_FULLSCREEN,c=r("./MapStore2/web/client/utils/ConfigUtils.js"),u=r("./node_modules/rxjs/Rx.js");e.exports={toggleFullscreenEpic:function(e){return e.ofType(l).switchMap((function(e){var t=document.querySelector(e&&e.querySelector||"."+(c.getConfigProp("themePrefix")||"ms2")+" > div");return t&&e.enable&&n.enabled?n.request(t):t&&!e.enable&&n.exit(),u.Observable.merge(u.Observable.fromEvent(document,i(a([["exitFullscreen","fullscreenchange"],["webkitExitFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitfullscreenchange"],["mozCancelFullScreen","mozfullscreenchange"],["msExitFullscreen","MSFullscreenChange"]].filter((function(e){return document[e[0]]}))))).filter((function(){return n.element!==t})).map((function(){return s("fullscreen","enabled",!1)})),u.Observable.of(s("fullscreen","enabled",e.enable)),u.Observable.fromEvent(window,"hashchange").do((function(){return n.exit()})).map((function(){return s("fullscreen","enabled",!1)})))}))}}},"./MapStore2/web/client/epics/identify.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/rxjs/Rx.js"),o=r.n(n),a=r("./MapStore2/node_modules/lodash/lodash.js"),i=r("./node_modules/uuid/index.js"),s=r.n(i),l=r("./node_modules/connected-react-router/esm/actions.js"),c=r("./MapStore2/web/client/actions/mapInfo.js"),u=r("./MapStore2/web/client/actions/controls.js"),p=r("./MapStore2/web/client/actions/featuregrid.js"),f=r("./MapStore2/web/client/actions/wfsquery.js"),d=r("./MapStore2/web/client/actions/map.js"),m=r("./MapStore2/web/client/actions/layers.js"),y=r("./MapStore2/web/client/actions/annotations.js"),b=r("./MapStore2/web/client/actions/config.js"),g=r("./MapStore2/web/client/actions/mapPopups.js"),h=r("./MapStore2/web/client/actions/search.js"),v=r("./MapStore2/web/client/selectors/mapInfo.js"),S=r("./MapStore2/web/client/selectors/layers.js"),O=r("./MapStore2/web/client/selectors/featuregrid.js"),w=r("./MapStore2/web/client/selectors/queryform.js"),E=r("./MapStore2/web/client/selectors/map.js"),j=r("./MapStore2/web/client/selectors/maplayout.js"),T=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),A=r("./MapStore2/web/client/selectors/localConfig.js"),_=r("./MapStore2/web/client/selectors/controls.js"),x=r("./MapStore2/web/client/selectors/localizedLayerStyles.js"),M=r("./MapStore2/web/client/utils/MapUtils.js"),P=r("./MapStore2/web/client/utils/MapInfoUtils.js"),C=r.n(P),L=r("./MapStore2/web/client/components/map/popups/index.js"),R=r("./MapStore2/web/client/api/identify.jsx");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=r("./MapStore2/web/client/actions/mapInfo.js").SET_MAP_TRIGGER,U=function(e){return Object(v.stopGetFeatureInfoSelector)(e)||Object(O.isFeatureGridOpen)(e)&&(function(e){return"EDIT"===Object(O.modeSelector)(e)}(e)||function(e){return Object(a.get)(Object(a.find)(Object(O.getAttributeFilters)(e),(function(e){return"geometry"===e.type})),"enabled")}(e))},B=function(e,t){var r,n=Object(a.get)(e,"latlng.lng"),o=Object(a.get)(e,"latlng.lat"),i=Object(T.reproject)([n,o],"EPSG:4326",t),s=Object(M.getHook)(M.GET_PIXEL_FROM_COORDINATES_HOOK);if(s){var l=k(s([i.x,i.y]),2);r={x:l[0],y:l[1]}}else r=e.pixel;var c=Object(M.getHook)(M.GET_COORDINATES_FROM_PIXEL_HOOK),u=Object(T.calculateCircleRadiusFromPixel)(c,r,i,5),p={type:"geometry",enabled:!0,value:{geometry:{center:[i.x,i.y],coordinates:Object(T.calculateCircleCoordinates)(i,u,12),extent:[i.x-u,i.y-u,i.x+u,i.y+u],projection:t,radius:u,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}};return D(D({},e),{},{pixel:r,geometricFilter:p})};t.default={getFeatureInfoOnFeatureInfoClick:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(c.FEATURE_INFO_CLICK).switchMap((function(e){var t=e.point,r=e.filterNameList,i=void 0===r?[]:r,l=e.overrideParams,u=void 0===l?{}:l,p=Object(a.reverse)(Object(S.queryableLayersSelector)(n())),f=Object(S.queryableSelectedLayersSelector)(n());if(f.length&&(p=f),0===p.length)return o.a.Observable.of(Object(c.purgeMapInfoResults)(),Object(c.noQueryableLayers)());var d=["SLD_BODY"],m=["buffer","cql_filter","filter","propertyName"],y=o.a.Observable.from(p.filter((function(e){return!i.length||i.filter((function(t){return-1!==t.indexOf(e.name)})).length>0}))).mergeMap((function(e){var t=Object(x.localizedLayerStylesEnvSelector)(n()),r=C.a.buildIdentifyRequest(e,D(D({},Object(v.identifyOptionsSelector)(n())),{},{env:t})),a=r.url,i=r.request,l=r.metadata;if(Object(v.itemIdSelector)(n())&&Object(v.overrideParamsSelector)(n())&&(i=D(D({},i),Object(v.overrideParamsSelector)(n())[e.name])),u[e.name]&&(i=D(D({},i),u[e.name])),a){var f=a,y=i,b=l,g=C.a.filterRequestParams(e,m,d),h=Object(v.isHighlightEnabledSelector)(n()),S=Object(v.itemIdSelector)(n()),O=s.a.v1(),w=D(D({},g),y);return Object(R.a)(f,w,e,{attachJSON:h,itemId:S}).map((function(t){return t.data.exceptions?Object(c.exceptionsFeatureInfo)(O,t.data.exceptions,y,b):Object(c.loadFeatureInfo)(O,t.data,y,D(D({},b),{},{features:t.features,featuresCrs:t.featuresCrs}),e)})).catch((function(e){return o.a.Observable.of(Object(c.errorFeatureInfo)(O,e.data||e.statusText||e.status,y,b))})).startWith(Object(c.newMapInfoRequest)(O,w))}return o.a.Observable.of(Object(c.getVectorInfo)(e,i,l,p))}));return t&&t.modifiers&&!0===t.modifiers.ctrl&&t.multiSelection?y:y.startWith(Object(c.purgeMapInfoResults)())}))},handleMapInfoMarker:function(e,t){var r=t.getState;return e.ofType(c.FEATURE_INFO_CLICK).filter((function(){return!Object(v.isMapPopup)(r())})).map((function(e){return e.layer?Object(c.hideMapinfoMarker)():Object(c.showMapinfoMarker)()}))},closeFeatureGridFromIdentifyEpic:function(e){return e.ofType(c.LOAD_FEATURE_INFO,c.GET_VECTOR_INFO).switchMap((function(){return o.a.Observable.of(Object(p.closeFeatureGrid)())}))},closeFeatureAndAnnotationEditing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(c.CLOSE_IDENTIFY).switchMap((function(){return Object(a.get)(n(),"annotations.editing")?o.a.Observable.of(Object(y.closeAnnotations)()):o.a.Observable.of(Object(c.purgeMapInfoResults)())}))},hideMarkerOnIdentifyClose:function(e){return e.ofType(c.CLOSE_IDENTIFY).flatMap((function(){return o.a.Observable.of(Object(c.hideMapinfoMarker)())}))},changeMapPointer:function(e,t){return e.ofType(d.CHANGE_MOUSE_POINTER).filter((function(){return!t.getState().map})).switchMap((function(t){return e.ofType(b.MAP_CONFIG_LOADED).mapTo(t)}))},onMapClick:function(e,t){return e.ofType(d.CLICK_ON_MAP).filter((function(){var e=t.getState().mapInfo.disableAlwaysOn,r=void 0!==e&&e;return!Object(E.isMouseMoveIdentifyActiveSelector)(t.getState())&&(r||!U(t.getState()||{}))})).switchMap((function(e){var r=e.point,n=e.layer,a=Object(E.projectionSelector)(t.getState());return o.a.Observable.of(Object(c.featureInfoClick)(B(r,a),n),Object(h.cancelSelectedItem)()).merge(o.a.Observable.of(Object(g.addPopup)(s()(),{component:L.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:r?r.rawPos:[]}})).filter((function(){return Object(v.isMapPopup)(t.getState())})))}))},onUpdateFeatureInfoClickPoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(c.UPDATE_FEATURE_INFO_CLICK_POINT).map((function(e){var t=e.point,r=Object(E.projectionSelector)(n());return{point:B(t,r)}})).withLatestFrom(e.ofType(c.FEATURE_INFO_CLICK),(function(e,t){var r=e.point;return D(D({},t),{},{point:r})}))},featureInfoClickOnHighligh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(c.TOGGLE_HIGHLIGHT_FEATURE).filter((function(e){return e.enabled&&Object(v.clickPointSelector)(n())})).switchMap((function(){return o.a.Observable.from([Object(c.featureInfoClick)(Object(v.clickPointSelector)(n()),Object(v.clickLayerSelector)(n()),Object(v.filterNameListSelector)(n()),Object(v.overrideParamsSelector)(n()),Object(v.itemIdSelector)(n())),Object(c.showMapinfoMarker)()])}))},zoomToVisibleAreaEpic:function(e,t){return e.ofType(c.FEATURE_INFO_CLICK).filter((function(){return Object(S.centerToMarkerSelector)(t.getState())})).switchMap((function(r){return e.ofType(c.LOAD_FEATURE_INFO,c.ERROR_FEATURE_INFO).switchMap((function(){var n=t.getState(),i=Object(E.mapSelector)(n),s=Object(E.projectionSelector)(n),l=Object(E.projectionDefsSelector)(n),u=Object(a.find)(l,{code:s}),p=u&&u.extent,f=p&&Object(T.reprojectBbox)(p,s,"EPSG:4326"),m=Object(j.boundingMapRectSelector)(n),y=r.point&&r.point&&r.point.latlng,b=Object(M.getCurrentResolution)(Math.round(i.zoom),0,21,96),g=m&&i&&i.size&&{left:Object(M.parseLayoutValue)(m.left,i.size.width),bottom:Object(M.parseLayoutValue)(m.bottom,i.size.height),right:Object(M.parseLayoutValue)(m.right,i.size.width),top:Object(M.parseLayoutValue)(m.top,i.size.height)};if(!i||!g||!y||r.point.cartographic||Object(T.isInsideVisibleArea)(y,i,g,b)||Object(E.isMouseMoveIdentifyActiveSelector)(n))return o.a.Observable.of(Object(c.updateCenterToMarker)("disabled"));if(f&&!Object(T.isPointInsideExtent)(y,f))return o.a.Observable.empty();var h=Object(T.centerToVisibleArea)(y,i,g,b);return o.a.Observable.of(Object(c.updateCenterToMarker)("enabled"),Object(d.zoomToPoint)(h.pos,h.zoom,h.crs)).concat(e.ofType(c.CLOSE_IDENTIFY).switchMap((function(){var e=i&&Object(M.getBbox)(i.center,i.zoom);return o.a.Observable.of(Object(d.changeMapView)(i.center,i.zoom,e,i.size,null,i.projection))})).takeUntil(e.ofType(d.CHANGE_MAP_VIEW).skip(1)))}))}))},closeFeatureInfoOnCatalogOpenEpic:function(e,t){return e.ofType(u.SET_CONTROL_PROPERTIES).filter((function(e){return"metadataexplorer"===e.control&&e.properties&&e.properties.enabled})).switchMap((function(){return o.a.Observable.of(Object(c.purgeMapInfoResults)(),Object(c.hideMapinfoMarker)()).merge(o.a.Observable.of(Object(g.cleanPopups)()).filter((function(){return Object(v.isMapPopup)(t.getState())})))}))},closeFeatureInfoOnAnnotationOpenEpic:function(e,t){var r=t.getState;return e.ofType(u.TOGGLE_CONTROL).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control;return"annotations"===t&&Object(a.get)(r(),"controls.annotations.enabled",!1)})).mapTo(Object(c.purgeMapInfoResults)())},closeFeatureInfoOnMeasureOpenEpic:function(e){return e.ofType(u.SET_CONTROL_PROPERTY).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.value;return"measure"===t&&r})).mapTo(Object(c.purgeMapInfoResults)())},cleanPopupsEpicOnPurge:function(e,t){var r=t.getState;return e.ofType(c.PURGE_MAPINFO_RESULTS).filter((function(){return Object(v.isMapPopup)(r())})).mapTo(Object(g.cleanPopups)())},identifyEditLayerFeaturesEpic:function(e,t){return e.ofType(c.EDIT_LAYER_FEATURES).exhaustMap((function(e){var r,n=e.layer;return o.a.Observable.of(Object(c.setCurrentEditFeatureQuery)(null===(r=Object(v.clickPointSelector)(t.getState()))||void 0===r?void 0:r.geometricFilter),Object(m.browseData)(n))}))},switchFeatureGridToEdit:function(e,t){return e.ofType(f.QUERY_CREATE).switchMap((function(){var e=Object(v.currentEditFeatureQuerySelector)(t.getState()),r=(Object(a.find)(Object(O.getAttributeFilters)(t.getState()),(function(e){return"geometry"===e.type}))||{}).attribute||Object(a.get)(Object(w.spatialFieldSelector)(t.getState()),"attribute");return e?o.a.Observable.of(Object(c.setCurrentEditFeatureQuery)(),Object(p.toggleEditMode)(),Object(p.updateFilter)(D(D({},e),{},{attribute:r,value:D(D({},e.value),{},{attribute:r})}))):o.a.Observable.empty()}))},resetCurrentEditFeatureQuery:function(e){return e.ofType(p.CLOSE_FEATURE_GRID,l.b).mapTo(Object(c.setCurrentEditFeatureQuery)())},mouseMoveMapEventEpic:function(e,t){var r=t.getState;return e.ofType(d.MOUSE_MOVE).debounceTime(Object(A.floatingIdentifyDelaySelector)(r())).switchMap((function(e){var t=e.position,n=e.layer,a=Object(_.createControlEnabledSelector)("annotations")(r()),i=Object(_.measureSelector)(r()),l=r().mousePosition.mouseOut;return!Object(E.isMouseMoveIdentifyActiveSelector)(r())||a||i||l?o.a.Observable.empty():o.a.Observable.of(Object(c.featureInfoClick)(t,n)).merge(o.a.Observable.of(Object(g.addPopup)(s()(),{component:L.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:t?t.rawPos:[]},autoPanMargin:70,autoPan:!0})))}))},removePopupOnUnregister:function(e,t){var r=t.getState;return e.ofType(d.UNREGISTER_EVENT_LISTENER).switchMap((function(){var e,t,n=o.a.Observable.empty(),a=(null===(e=r())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(a.length&&!Object(E.isMouseMoveIdentifyActiveSelector)(r())){var i=a[0].id;n=o.a.Observable.of(Object(g.removePopup)(i))}return n}))},removePopupOnLocationChangeEpic:function(e,t){var r=t.getState;return e.ofType(l.b,c.PURGE_MAPINFO_RESULTS).switchMap((function(){var e,t,n=o.a.Observable.empty(),a=(null===(e=r())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(a.length){var i=a[0].id;n=o.a.Observable.of(Object(g.removePopup)(i))}return n}))},removeMapInfoMarkerOnRemoveMapPopupEpic:function(e,t){var r=t.getState;return e.ofType(g.REMOVE_MAP_POPUP).switchMap((function(){return Object(E.isMouseMoveIdentifyActiveSelector)(r())?o.a.Observable.of(Object(c.hideMapinfoMarker)()):o.a.Observable.empty()}))},setMapTriggerEpic:function(e,t){return e.ofType(G,b.MAP_CONFIG_LOADED).switchMap((function(){return o.a.Observable.of("hover"===Object(v.mapTriggerSelector)(t.getState())?Object(d.registerEventListener)("mousemove","identifyFloatingTool"):Object(d.unRegisterEventListener)("mousemove","identifyFloatingTool"))}))}}},"./MapStore2/web/client/epics/map.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/rxjs/Rx.js"),s=r("./MapStore2/web/client/actions/layers.js").changeLayerProperties,l=r("./MapStore2/web/client/actions/map.js"),c=l.CREATION_ERROR_LAYER,u=l.INIT_MAP,p=l.ZOOM_TO_EXTENT,f=l.CHANGE_MAP_CRS,d=l.changeMapView,m=l.changeMapLimits,y=r("./MapStore2/web/client/selectors/map.js"),b=y.configuredExtentCrsSelector,g=y.configuredRestrictedExtentSelector,h=y.configuredMinZoomSelector,v=y.mapSelector,S=y.mapIdSelector,O=r("./MapStore2/web/client/actions/config.js").loadMapInfo,w=r("./MapStore2/web/client/actions/security.js").LOGIN_SUCCESS,E=r("./MapStore2/web/client/selectors/layers.js"),j=E.currentBackgroundLayerSelector,T=E.allBackgroundLayerSelector,A=E.getLayerFromId,_=r("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector,x=r("./MapStore2/web/client/selectors/maplayout.js").mapPaddingSelector,M=r("./MapStore2/web/client/actions/controls.js").setControlProperty,P=r("./MapStore2/web/client/actions/config.js"),C=P.MAP_CONFIG_LOADED,L=P.MAP_CONFIG_LOAD_ERROR,R=r("./MapStore2/web/client/utils/LayersUtils.js").isSupportedLayer,I=r("./MapStore2/web/client/utils/MapUtils.js"),D=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),N=r("./MapStore2/web/client/actions/notifications.js").warning,k=r("./MapStore2/web/client/actions/controls.js").resetControls,F=r("./MapStore2/web/client/actions/layers.js").clearLayers,G=r("./MapStore2/web/client/actions/mapInfo.js").clearWarning,U=r("./MapStore2/web/client/actions/additionallayers.js").removeAllAdditionalLayers,B=r("./MapStore2/node_modules/lodash/lodash.js"),H=B.head,z=B.isArray,V=B.isObject,W=B.mapValues,Y=r("./MapStore2/web/client/selectors/security.js").isLoggedIn,q=r("./MapStore2/web/client/selectors/router.js").pathnameSelector,Z=r("./node_modules/connected-react-router/esm/index.js").push;e.exports={checkMapPermissions:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(w).filter((function(){return S(n())})).map((function(){var e=S(n());return O(e)}))},handleCreationLayerError:function(e,t){return e.ofType(c).delay(500).switchMap((function(e){var r=_(t.getState()),n=A(t.getState(),e.options.id);return n&&R(n,r)?i.Observable.from([s(e.options.id,{invalid:!0})]):i.Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(c).delay(500).filter((function(e){var r=j(t.getState());return r&&e.options.id===r.id&&"background"===e.options.group})).switchMap((function(e){var r=_(t.getState()),n=H(T(t.getState()).filter((function(t){return R(t,r)&&t.id!==e.options.id})));return n?i.Observable.from([s(n.id,{visibility:!0}),M("backgroundSelector","currentLayer",n),M("backgroundSelector","tempLayer",n),N({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):i.Observable.of(N({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(u).switchMap((function(){return i.Observable.of(U(),k(),F(),G())}))},resetLimitsOnInit:function(e,t){return e.ofType(C,f).switchMap((function(){var e=b(t.getState()),r=g(t.getState()),n=h(t.getState());return i.Observable.of(m({restrictedExtent:r,crs:e,minZoom:n}))}))},zoomToExtentEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(p).switchMap((function(e){var t=function(e){if(z(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(V(e)){var t=W(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return i.Observable.empty();var r=I.getHook(I.ZOOM_TO_EXTENT_HOOK),a=x(n());return r?(r(t,{crs:e.crs,padding:a,maxZoom:e.maxZoom}),i.Observable.empty()):function(e,t){var r=0,n=e.extent,a=void 0===n?[]:n,s=D.reprojectBbox(a,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(s){var l=D.reproject(I.getCenterForExtent(a,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&a&&a[0]<=-180&&a[1]<=-90&&a[2]>=180&&a[3]>=90)r=1;else{var c=D.reprojectBbox(a,e.crs,t.projection||"EPSG:4326");r=I.getZoomForExtent(c,t.size,0,21,null)}e.maxZoom&&r>e.maxZoom&&(r=e.maxZoom);var u={minx:s[0],miny:s[1],maxx:s[2],maxy:s[3]},p=o(o({},t.bbox),{},{bounds:u});return i.Observable.of(d(l,r,p,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return i.Observable.empty()}(o(o({},e),{},{extent:t}),v(n()))}))},redirectUnauthorizedUserOnNewMap:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(L).filter((function(e){return e.error&&403===e.error.status&&-1!==q(n()).indexOf("new")})).filter((function(){return!Y(n())})).switchMap((function(){return i.Observable.of(Z("/"))}))}}},"./MapStore2/web/client/epics/maps.js":function(e,t,r){"use strict";r.r(t),r.d(t,"loadMapsEpic",(function(){return k})),r.d(t,"reloadMapsEpic",(function(){return F})),r.d(t,"getMapsResourcesByCategoryEpic",(function(){return G})),r.d(t,"loadMapsOnSearchFilterChange",(function(){return U})),r.d(t,"hideTabsOnSearchFilterChange",(function(){return B})),r.d(t,"mapsLoadContextsEpic",(function(){return H})),r.d(t,"mapsSetupFilterOnLogin",(function(){return z})),r.d(t,"deleteMapAndAssociatedResourcesEpic",(function(){return V})),r.d(t,"fetchDataForDetailsPanel",(function(){return W})),r.d(t,"closeDetailsPanelEpic",(function(){return Y})),r.d(t,"storeDetailsInfoEpic",(function(){return q})),r.d(t,"mapSaveMapResourceEpic",(function(){return Z}));var n=r("./node_modules/rxjs/Rx.js"),o=r.n(n),a=r("./node_modules/object-assign/index.js"),i=r.n(a),s=r("./node_modules/connected-react-router/esm/actions.js"),l=r("./MapStore2/web/client/utils/NotificationUtils.js"),c=r("./MapStore2/web/client/api/GeoStoreDAO.js"),u=r.n(c),p=r("./MapStore2/web/client/actions/config.js"),f=r("./MapStore2/node_modules/lodash/lodash.js"),d=r("./MapStore2/web/client/actions/maps.js"),m=r("./MapStore2/web/client/actions/dashboards.js"),y=r("./MapStore2/web/client/actions/featuregrid.js"),b=r("./MapStore2/web/client/actions/controls.js"),g=r("./MapStore2/web/client/actions/contenttabs.js"),h=r("./MapStore2/web/client/selectors/maps.js"),v=r("./MapStore2/web/client/selectors/map.js"),S=r("./MapStore2/web/client/selectors/maptype.js"),O=r("./MapStore2/web/client/selectors/security.js"),w=r("./MapStore2/web/client/actions/security.js"),E=r("./MapStore2/web/client/utils/ObservableUtils.js"),j=r("./MapStore2/web/client/utils/MapUtils.js"),T=r("./MapStore2/web/client/utils/LocaleUtils.js"),A=r("./MapStore2/web/client/utils/MapInfoUtils.js"),_=r("./MapStore2/web/client/api/persistence/index.js"),x=r("./MapStore2/web/client/observables/epics.js");function M(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var k=function(e){return e.ofType(d.MAPS_LOAD_MAP).switchMap((function(e){var t=e.params,r=e.searchText,n=e.geoStoreUrl,a=r.replace(/[/?:;@=&\\]+/g,""),s=i()({},{params:t},n?{baseURL:n}:{});return o.a.Observable.of(Object(d.mapsLoading)(a,t),Object(d.getMapResourcesByCategory)("MAP",a,s))}))},F=function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(d.MAP_DELETED,p.MAP_SAVED,d.RELOAD_MAPS,d.ATTRIBUTE_UPDATED,m.DASHBOARD_DELETED).delay(1e3).switchMap((function(){return o.a.Observable.of(Object(d.loadMaps)(!1,Object(h.searchTextSelector)(n()),(e=n(),t=Object(h.totalCountSelector)(e),r=Object(h.searchParamsSelector)(e)||{},a=r.start,i=r.limit,s=N(r,["start","limit"]),a===t-1?{start:Math.max(0,a-i),limit:i}:I({start:a,limit:i},s))),Object(d.invalidateFeaturedMaps)());var e,t,r,a,i,s}))},G=function(e,t){return e.ofType(d.MAPS_GET_MAP_RESOURCES_BY_CATEGORY).switchMap((function(e){var r=t.getState(),n=Object(h.searchFilterSelector)(r)||{},a=Object(O.userRoleSelector)(r),i=e.map,s=e.searchText,l=e.opts,c=void 0===l?{}:l,p=n.contexts&&n.contexts.length>0,m=p&&"*"===s?"":s,y=function(e){var t=e.results,r=N(e,["results"]),n=Object(f.isArray)(t)?t:""===t?[]:[t];return 0===n.length?o.a.Observable.of(I({results:[]},r)):o.a.Observable.forkJoin(n.map((function(e){var t=e.context;return t?Object(_.getResource)(t,{includeAttributes:!1,withData:!1,withPermissions:!1}).switchMap((function(e){return o.a.Observable.of(e.name)})).catch((function(){return o.a.Observable.of(null)})):o.a.Observable.of(null)}))).map((function(e){return I({results:Object(f.zip)(n,e).map((function(e){var t=P(e,2),r=t[0],n=t[1];return I(I({},r),{},{contextName:n})}))},r)}))};return(p?Object(_.searchListByAttributes)({AND:{FIELD:[{field:["NAME"],operator:["ILIKE"],value:["%"+m+"%"]}],OR:p&&{ATTRIBUTE:(n.contexts||[]).map((function(e){return{name:["context"],operator:["EQUAL_TO"],type:["STRING"],value:[e.id]}}))}}},I(I({},c),{},{params:I(I({},c.params||{}),{},{includeAttributes:!0})})).switchMap((function(e){var t=e.results,r=e.totalCount,n={results:t.map((function(e){return I(I(I({},Object(f.omit)(e,"attributes","permissions")),Object(f.pick)(e.attributes,"thumbnail","context")),{},{canCopy:"ADMIN"===a,canEdit:"ADMIN"===a,canDelete:"ADMIN"===a})})),totalCount:r,success:!0};return y(n).switchMap((function(e){return o.a.Observable.of(Object(d.mapsLoaded)(e,c.params,m))}))})):o.a.Observable.fromPromise(u.a.getResourcesByCategory(i,m,I(I({},c),{},{params:I(I({},c.params||{}),{},{includeAttributes:!0})})).then((function(e){return e}))).switchMap((function(e){return y(e).switchMap((function(e){var t;return o.a.Observable.of(Object(d.mapsLoaded)(I(I({},e),{},{results:null===(t=e.results)||void 0===t?void 0:t.map((function(e){return I(I({},e),{},{category:{name:"MAP"}})}))}),c.params,s))}))}))).let(Object(x.wrapStartStop)(Object(d.loading)(!0,"loadingMaps"),Object(d.loading)(!1,"loadingMaps"),(function(e){return o.a.Observable.of(Object(d.loadError)(e))})))}))},U=function(e,t){return e.ofType(d.SEARCH_FILTER_CHANGED,d.SEARCH_FILTER_CLEAR_ALL).filter((function(e){var t=e.filter;return!t||"contexts"===t})).switchMap((function(e){var r,n=e.type,a=t.getState(),i=Object(h.searchFilterSelector)(a),s=Object(h.searchTextSelector)(a),l=Object(h.searchParamsSelector)(a)||{},c=l.limit,u=void 0===c?12:c,p=N(l,["limit"]);return(r=o.a.Observable).of.apply(r,M(n===d.SEARCH_FILTER_CLEAR_ALL?[Object(d.setSearchFilter)({})]:[]).concat(M(n!==d.SEARCH_FILTER_CLEAR_ALL||i&&0!==(i.contexts||[]).length?[Object(d.loadMaps)(null,s,I({start:0,limit:u},Object(f.omit)(p,"start")))]:[])))}))},B=function(e){return e.ofType(d.SEARCH_FILTER_CHANGED,d.SEARCH_FILTER_CLEAR_ALL).filter((function(e){var t=e.filter;return!t||"contexts"===t})).switchMap((function(e){var t=e.filterData;return o.a.Observable.of(Object(g.setTabsHidden)(0===(t||[]).length?{geostories:!1,dashboards:!1}:{geostories:!0,dashboards:!0}))}))},H=function(e){return e.ofType(d.LOAD_CONTEXTS).distinctUntilChanged((function(e,t){return(e.searchText||"*")===(t.searchText||"*")&&Object(f.isEqual)(e.options,t.options)&&!t.force})).switchMap((function(e){var t=e.searchText,r=e.options,n=void 0===r?{}:r,a=e.delayLoad,i=void 0===a?0:a,s=t||"*";return o.a.Observable.of(null).delay(i).switchMap((function(){return o.a.Observable.defer((function(){return u.a.getResourcesByCategory("CONTEXT",s,n)})).switchMap((function(e){return o.a.Observable.of(Object(d.setContexts)({results:(Object(f.isArray)(e.results)?e.results:[e.results]).filter((function(e){return!!e})),totalCount:e.totalCount,searchText:s,start:Object(f.get)(n,"params.start"),limit:Object(f.get)(n,"params.limit")}))})).let(Object(x.wrapStartStop)(Object(d.loading)(!0,"loadingContexts"),Object(d.loading)(!1,"loadingContexts"),(function(){return o.a.Observable.of(Object(l.basicError)({message:"maps.feedback.errorLoadingContexts"}))})))}))}))},z=function(e,t){return e.ofType(w.LOGIN_SUCCESS,w.LOGOUT).switchMap((function(){var e=t.getState(),r=Object(h.contextsSelector)(e)||{};return o.a.Observable.of(Object(b.setControlProperty)("advancedsearchpanel","enabled",!1),Object(d.loadContexts)(r.searchText,{params:{start:Object(f.get)(r,"start",0),limit:Object(f.get)(r,"limit",12)}},0,!0))}))},V=function(e,t){return e.ofType(d.DELETE_MAP).switchMap((function(e){var r=t.getState(),n=e.resourceId,a=e.options,i=Object(h.mapDetailsUriFromIdSelector)(r,n),s=Object(h.mapThumbnailsUriFromIdSelector)(r,n),c=Object(j.getIdFromUri)(i),u=Object(j.getIdFromUri)(s);return o.a.Observable.forkJoin(Object(E.deleteResourceById)(u,a),Object(E.deleteResourceById)(c,a),Object(E.deleteResourceById)(n,a)).concatMap((function(e){var t=P(e,3),r=t[0],a=t[1],i=t[2],s=[];return"error"===r.resType&&s.push(Object(l.basicError)({message:"maps.feedback.errorDeletingDetailsOfMap"})),"error"===a.resType&&s.push(Object(l.basicError)({message:"maps.feedback.errorDeletingThumbnailOfMap"})),"error"===i.resType&&(s.push(Object(l.basicError)({message:"maps.feedback.errorDeletingMap"})),s.push(Object(d.mapDeleted)(n,"failure",i.error))),"success"===i.resType&&s.push(Object(d.mapDeleted)(n,"success")),"success"===i.resType&&"success"===r.resType&&"success"===a.resType&&s.push(Object(l.basicSuccess)({message:"maps.feedback.allResDeleted"})),o.a.Observable.from(s)})).startWith(Object(d.mapDeleting)(n))}))},W=function(e,t){return e.ofType(d.OPEN_DETAILS_PANEL).switchMap((function(){var e=t.getState(),r=Object(v.mapInfoDetailsUriFromIdSelector)(e),n=Object(j.getIdFromUri)(r);return o.a.Observable.fromPromise(u.a.getData(n).then((function(e){return e}))).switchMap((function(e){return o.a.Observable.of(Object(y.closeFeatureGrid)(),Object(d.updateDetails)(e))})).startWith(Object(b.toggleControl)("details","enabled")).catch((function(){return o.a.Observable.of(Object(l.basicError)({message:"maps.feedback.errorFetchingDetailsOfMap"}),Object(d.updateDetails)(d.NO_DETAILS_AVAILABLE))}))}))},Y=function(e){return e.ofType(d.CLOSE_DETAILS_PANEL).switchMap((function(){return o.a.Observable.from([Object(b.toggleControl)("details","enabled")])}))},q=function(e,t){return e.ofType(p.MAP_INFO_LOADED).switchMap((function(){var e=Object(v.mapIdSelector)(t.getState());return e?o.a.Observable.fromPromise(u.a.getResourceAttributes(e)).switchMap((function(t){var r,n=Object(f.find)(t,{name:"details"}),a=Object(f.find)(t,{name:"detailsSettings"}),i={};if(!n||n.value===A.EMPTY_RESOURCE_VALUE)return o.a.Observable.empty();try{i=JSON.parse(a.value)}catch(e){i={}}return(r=o.a.Observable).of.apply(r,[Object(d.detailsLoaded)(e,n.value,i)].concat(M(i.showAtStartup?[Object(d.openDetailsPanel)()]:[])))})):o.a.Observable.empty()}))},Z=function(e,t){return e.ofType(d.SAVE_MAP_RESOURCE).exhaustMap((function(e){var r,n=e.resource,a=Object(f.mapValues)(n.attributes,(function(e){if(Object(f.isObject)(e)){var t=null;try{t=JSON.stringify(e)}catch(e){t=null}return t}return e})),c=Object(f.keys)(a).filter((function(e){return"thumbnail"!==e&&"details"!==e&&!Object(f.isNil)(a[e])}));return o.a.Observable.forkJoin((r=Object(f.get)(n,"attributes.context"),r?Object(_.getResource)(r,{withData:!1}):o.a.Observable.of(null)),n.id?Object(_.updateResource)(n):Object(_.createResource)(n)).switchMap((function(e){var r=P(e,2),u=r[0],f=r[1];return(c.length>0?o.a.Observable.forkJoin(c.map((function(e){return Object(_.updateResourceAttribute)({id:f,name:e,value:a[e]})}))):o.a.Observable.of([])).switchMap((function(){return o.a.Observable.from([].concat(M(n.id?[Object(p.loadMapInfo)(f)]:[]),M(n.id?[Object(p.configureMap)(n.data,f)]:[]),[n.id?Object(b.toggleControl)("mapSave"):Object(b.toggleControl)("mapSaveAs"),Object(p.mapSaved)(n.id)],M(n.id?[]:[Object(d.mapCreated)(f,i()({id:f,canDelete:!0,canEdit:!0,canCopy:!0},n.metadata),n.data),Object(s.g)(u?"/context/".concat(u.name,"/").concat(f):"/viewer/".concat(Object(S.mapTypeSelector)(t.getState()),"/").concat(f))]))).merge(o.a.Observable.of(Object(l.basicSuccess)({title:"map.savedMapTitle",message:"map.savedMapMessage",autoDismiss:6,position:"tc"})))}))})).catch((function(e){var t=e.status,r=e.statusText,n=e.data,a=e.message,i=N(e,["status","statusText","data","message"]);return o.a.Observable.of(Object(p.mapSaveError)(t?{status:t,statusText:r,data:n}:a||i),Object(l.basicError)(I(I({},Object(T.getErrorMessage)(e,"geostore","mapsError")),{},{autoDismiss:6,position:"tc"})))})).startWith(n.id?Object(d.mapUpdating)(n.metadata):Object(d.savingMap)(n.metadata))}))}},"./MapStore2/web/client/epics/playback.js":function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r("./node_modules/moment/moment.js"),p=r("./MapStore2/node_modules/lodash/lodash.js").get,f=r("./MapStore2/web/client/actions/playback.js"),d=f.PLAY,m=f.PAUSE,y=f.STOP,b=f.STATUS,g=f.SET_FRAMES,h=f.SET_CURRENT_FRAME,v=f.TOGGLE_ANIMATION_MODE,S=f.ANIMATION_STEP_MOVE,O=f.stop,w=f.setFrames,E=f.appendFrames,j=f.setCurrentFrame,T=f.framesLoading,A=f.updateMetadata,_=r("./MapStore2/web/client/actions/dimension.js"),x=_.moveTime,M=_.SET_CURRENT_TIME,P=_.MOVE_TIME,C=r("./MapStore2/web/client/actions/timeline.js"),L=C.selectLayer,R=C.onRangeChanged,I=C.timeDataLoading,D=C.SELECT_LAYER,N=C.SET_MAP_SYNC,k=r("./MapStore2/web/client/actions/layers.js"),F=k.changeLayerProperties,G=k.REMOVE_NODE,U=r("./MapStore2/web/client/actions/notifications.js").error,B=r("./MapStore2/web/client/selectors/dimension.js"),H=B.currentTimeSelector,z=B.layersWithTimeDataSelector,V=B.layerTimeSequenceSelectorCreator,W=r("./node_modules/connected-react-router/esm/index.js").LOCATION_CHANGE,Y=r("./MapStore2/web/client/selectors/playback.js"),q=Y.currentFrameSelector,Z=Y.currentFrameValueSelector,K=Y.lastFrameSelector,Q=Y.playbackRangeSelector,X=Y.playbackSettingsSelector,J=Y.frameDurationSelector,$=Y.statusSelector,ee=Y.playbackMetadataSelector,te=r("./MapStore2/web/client/selectors/timeline.js"),re=te.selectedLayerSelector,ne=te.selectedLayerName,oe=te.selectedLayerUrl,ae=te.selectedLayerData,ie=te.selectedLayerTimeDimensionConfiguration,se=te.rangeSelector,le=te.timelineLayersSelector,ce=te.multidimOptionsSelectorCreator,ue=r("./MapStore2/web/client/observables/pausable.js"),pe=r("./MapStore2/web/client/observables/epics.js").wrapStartStop,fe=r("./MapStore2/web/client/api/MultiDim.js").getDomainValues,de=r("./node_modules/rxjs/Rx.js"),me=function(e,t){return"".concat(e,"/").concat(t)},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=re(e()),n=ne(e()),o=oe(e()),a=Q(e())||{},i=a.startPlaybackTime,s=a.endPlaybackTime,c=$(e())===b.PLAY||$(e())===b.PAUSE;return[o,n,"time",l({limit:20,time:i&&s&&c?me(i,s):void 0},t),ce(r)(e())]},be=function(e,t){if(ne(e())){var r=V(ae(e()))(e()),n=ie(e());return"multidim-extension"!==p(n,"source.type")&&r&&r.length>0?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fromValue,o=r.limit,a=void 0===o?20:o,i=Q(t())||{},s=i.startPlaybackTime,l=i.endPlaybackTime;return de.Observable.of(e.filter((function(e){return!s||!l||u(e).isSameOrAfter(s)&&u(e).isSameOrBefore(l)})).filter((function(e){return!n||u(e).isAfter(n)})).slice(0,a))}(r,e,t):fe.apply(void 0,o(ye(e,t))).map((function(e){return e.DomainValues.Domain.split(",")}))}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fromValue,n=t.limit,o=void 0===n?20:n,a=t.sort,i=void 0===a?"asc":a,s=X(e()),l=s.timeStep,c=s.stepUnit,p=u.duration(l,c),f=Q(e())||{},d=f.startPlaybackTime,m=f.endPlaybackTime,y=void 0!==r?r:d||H(e())||(new Date).toString(),b=[];y!==r&&b.push(u(y).toISOString());for(var g=0;g<o&&(y=u(y).add("asc"===i?p:-1*p),!m||y.isBefore(m));g++)b.push(y.toISOString());return de.Observable.of(b)}(e,t)},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(t){var r=z(e());return de.Observable.from(r.map((function(e){return F(e.id,{singleTile:!0})}))).concat(t).concat(de.Observable.from(r.map((function(e){return F(e.id,{singleTile:e.singleTile})}))))}},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.start,n=t.end;return r&&n&&(u(e).isBefore(r)||u(e).isAfter(n))};e.exports={retrieveFramesForPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(d).exhaustMap((function(){return be(n,{fromValue:Q(n())&&Q(n()).startPlaybackTime&&Q(n()).endPlaybackTime?void 0:H(n())}).map((function(e){return w(e)})).let(pe(T(!0),T(!1)),(function(){return de.Observable.of(U({title:"There was an error retrieving animation",message:"Please contact the administrator"}),O())})).let(pe(I(!1,!0),I(!1,!1))).concat(e.ofType(h).filter((function(e){return e.frame%20==10})).switchMap((function(){return be(n,{fromValue:K(n())}).map(E).let(pe(T(!0),T(!1)))}))).takeUntil(e.ofType(y,W)).concat(de.Observable.of(I(!1,!1))).let(ge(n))}))},updateCurrentTimeFromAnimation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(h).map((function(){return Z(n())})).map((function(e){return e?x(e):O()}))},timeDimensionPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(g).exhaustMap((function(){return de.Observable.interval(1e3*J(n())).startWith(0).let(ue(e.ofType(d,m).map((function(e){return e.type===d})))).map((function(){return j(q(n())+1)})).merge(e.ofType(S).map((function(e){var t=e.direction;return j(Math.max(0,q(n())+t))}))).concat(de.Observable.of(O())).takeUntil(e.ofType(y,W))}))},playbackToggleGuideLayerToFixedStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(v).exhaustMap((function(){return ne(n())?de.Observable.of(L(void 0)):de.Observable.of(L(p(le(n()),"[0].id")))}))},playbackMoveStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,o=void 0===r?function(){}:r;return e.ofType(S).filter((function(){return $(o())!==b.PLAY})).switchMap((function(e){var t=e.direction,r=void 0===t?1:t,a=ee(o())||{},i=H(o());return i&&a.forTime===i?de.Observable.of(r>0?a.next:a.previous):be(o,{limit:1,sort:r>0?"asc":"desc",fromValue:H(o())}).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n(e,1),r=t[0];return r}))})).filter((function(e){return!!e})).map((function(e){return x(e)}))},playbackCacheNextPreviousTimes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,a=void 0===r?function(){}:r;return e.ofType(M,P,D,y,N).filter((function(){return $(a())!==b.PLAY&&$(a())!==b.PAUSE})).filter((function(){return re(a())})).filter((function(e){return!!e})).switchMap((function(e){var t=e.time||H(a());return de.Observable.forkJoin(fe.apply(void 0,o(ye(a,{sort:"asc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return n(e,1)[0]})).catch((function(e){return e&&de.Observable.of(null)})),fe.apply(void 0,o(ye(a,{sort:"desc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return n(e,1)[0]})).catch((function(e){return e&&de.Observable.of(null)}))).map((function(e){var r=n(e,2),o=r[0],a=r[1];return A({forTime:t,next:o,previous:a})}))}))},playbackFollowCursor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(P).filter((function(e){return(e.type===P||$(n())===b.PLAY)&&he(H(n()),se(n()))})).filter((function(){return p(X(n()),"following")})).switchMap((function(){return de.Observable.of(R((e=H(n()),t=se(n()),r=t.start,o=t.end,a=u(o).diff(u(r)),{start:e,end:u(e).add(a).toISOString()})));var e,t,r,o,a}))},playbackStopWhenDeleteLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(G).filter((function(){return!re(n())&&"PLAY"===$(n())})).switchMap((function(){return de.Observable.of(O())}))}}},"./MapStore2/web/client/epics/timeline.js":function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r("./node_modules/rxjs/Rx.js"),p=r("./MapStore2/node_modules/lodash/lodash.js"),f=p.isString,d=p.get,m=p.head,y=p.castArray,b=r("./node_modules/moment/moment.js"),g=r("./MapStore2/web/client/observables/epics.js").wrapStartStop,h=r("./MapStore2/web/client/actions/map.js").CHANGE_MAP_VIEW,v=r("./MapStore2/web/client/actions/timeline.js"),S=v.SELECT_TIME,O=v.RANGE_CHANGED,w=v.ENABLE_OFFSET,E=v.SET_MAP_SYNC,j=v.AUTOSELECT,T=v.timeDataLoading,A=v.rangeDataLoaded,_=v.onRangeChanged,x=v.selectLayer,M=r("./MapStore2/web/client/actions/dimension.js"),P=M.setCurrentTime,C=M.UPDATE_LAYER_DIMENSION_DATA,L=M.setCurrentOffset,R=r("./MapStore2/web/client/actions/layers.js").REMOVE_NODE,I=r("./MapStore2/web/client/actions/notifications.js").error,D=r("./MapStore2/web/client/selectors/layers.js").getLayerFromId,N=r("./MapStore2/web/client/selectors/timeline.js"),k=N.rangeSelector,F=N.selectedLayerName,G=N.selectedLayerUrl,U=N.isAutoSelectEnabled,B=N.selectedLayerSelector,H=N.timelineLayersSelector,z=N.multidimOptionsSelectorCreator,V=N.isMapSync,W=r("./MapStore2/web/client/selectors/dimension.js"),Y=W.layerTimeSequenceSelectorCreator,q=W.timeDataSelector,Z=W.offsetTimeSelector,K=W.currentTimeSelector,Q=r("./MapStore2/web/client/utils/TimeUtils.js"),X=Q.getNearestDate,J=Q.roundRangeResolution,$=Q.isTimeDomainInterval,ee=r("./MapStore2/web/client/api/MultiDim.js"),te=ee.getHistogram,re=ee.describeDomains,ne=ee.getDomainValues,oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=B(e),n=F(e),o=G(e),a=z(r)(e);return[o,n,"time",l({limit:1},t),a]},ae=function(e,t,r){if(F(e))return u.Observable.forkJoin(ne.apply(void 0,o(oe(e,{sort:"asc",fromValue:r}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return n(e,1)[0]})).catch((function(e){return e&&u.Observable.of(null)})),ne.apply(void 0,o(oe(e,{sort:"desc",fromValue:r}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return n(e,1)[0]})).catch((function(e){return e&&u.Observable.of(null)}))).map((function(e){return X(e.filter((function(e){return!!e})),r)||r}));var a=Y(D(e,t))(e);return u.Observable.of(X(a,r)||r)},ie=function(e){return f(e)?e:e.toISOString()},se=function(e,t,r){var n=t.domain.split("--"),o=k(r())||{start:new Date(n[0]),end:new Date(n[1])},a=J(o,20),i=a.range,s=a.resolution,p=D(r(),e).name,f=c({},"time","".concat(ie(i.start),"/").concat(ie(i.end)));return te(t.source.url,p,"time",c({},"time","".concat(ie(i.start),"/").concat(ie(i.end))),s,z(e)(r())).merge(re(t.source.url,p,f,l(l({},z(e)(r())),{},{expandLimit:20}))).scan((function(e,t){return l(l({},e),t)}),{}).switchMap((function(e){var t,r=e.Histogram,n=e.Domains,o=d(m(y(d(n,"DimensionDomain")||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Identifier;return"time"===t}))),"Domain");try{t=r&&r.Values&&r.Values.split(",").map((function(e){return parseInt(e,10)}))||[]}catch(e){t=[]}var a=o&&o.indexOf("--")<0&&o.split(",");return u.Observable.of({range:i,histogram:r&&r.Domain?{values:t,domain:r.Domain}:void 0,domain:o?{values:a}:void 0})}))};e.exports={setTimelineCurrentTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(S).throttleTime(100).switchMap((function(e){var t=e.time,r=e.group,a=n();return r?ae(a,r,t).switchMap((function(e){var t=k(a)||{},r=t.start,n=t.end,i=[];if(r&&n&&(b(e).isBefore(r)||b(e).isAfter(n))){var s=b(n).diff(r);i=[_({start:b(e).subtract(s/2),end:b(e).add(s/2)})]}return u.Observable.from([].concat(o(i),[P(e)]))})).let(g(T(!1,!0),T(!1,!1))):u.Observable.of(P(t))}))},setupTimelineExistingSettings:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(R,j).exhaustMap((function(){return U(n())&&d(H(n()),"[0].id")&&!B(n())?u.Observable.of(x(d(H(n()),"[0].id"))).concat(u.Observable.of(1).switchMap((function(){return ae(n(),d(H(n()),"[0].id"),K(n)||(new Date).toISOString()).filter((function(e){return e})).map((function(e){return P(e)}))}))):u.Observable.empty()}))},settingInitialOffsetValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(w).switchMap((function(e){var t=n(),r=K(t),o=k(t);if(e.enabled){var a=o||{},i=a.start,s=void 0===i?0:i,l=a.end,c=void 0===l?432e6:l,p=Z(t),f=b(c).diff(s),d=o?b(s).add(f/2).toISOString():b(new Date).toISOString(),m=b(r||d).add(f/5),y=e.enabled&&!r?u.Observable.of(P(d)):u.Observable.empty(),g=e.enabled&&!p||e.enabled&&b(p).diff(r)<0?u.Observable.of(L(m.toISOString())):u.Observable.empty(),h=o?u.Observable.empty():u.Observable.of(_({start:b(d).add(-1*f/2),end:b(d).add(f/2)}));return y.concat(g).concat(h)}return u.Observable.of(L())}))},updateRangeDataOnRangeChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(O).merge(e.ofType(h).filter((function(){return V(n())})),e.ofType(E)).debounceTime(400).merge(e.ofType(C).debounceTime(50)).switchMap((function(){var e,t=q(n())||{},r=Object.keys(t).filter((function(e){return t[e]&&t[e].domain&&$(t[e].domain)||V(n())}));return(e=u.Observable).merge.apply(e,o(r.map((function(e){return se(e,t[e],n).map((function(t){var r=t.range,n=t.histogram,o=t.domain;return A(e,r,n,o)})).startWith(T(e,!0)).catch((function(){return u.Observable.of(I({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))})).concat(u.Observable.of(T(e,!1)))}))))}))}}},"./MapStore2/web/client/libs/cesium.js":function(e,t){e.exports=window.Cesium},"./MapStore2/web/client/libs/mapquest.js":function(e,t){e.exports=window.MQ},"./MapStore2/web/client/observables/epics.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r("./node_modules/rxjs/Rx.js"),i=r("./MapStore2/node_modules/lodash/lodash.js").castArray,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.startWith.apply(e,n(t))};e.exports={wrapStartStop:function(e,t,r){return function(n){return(r?s(n,i(e)).catch(r):s(n,i(e))).concat(a.Observable.from(i(t)))}}}},"./MapStore2/web/client/observables/pausable.js":function(e,t){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(o){return o.withLatestFrom(e.startWith(t)).filter((function(e){var t=r(e,2)[1];return n(t)})).map((function(e){return r(e,1)[0]}))}}},"./MapStore2/web/client/observables/wms.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/rxjs/Rx.js").Observable,s=r("./MapStore2/web/client/libs/ajax.js"),l=r("./MapStore2/web/client/api/WMS.js"),c=r("./MapStore2/web/client/utils/LayersUtils.js"),u=r("./MapStore2/web/client/utils/SecurityUtils.js"),p=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),f=r("./node_modules/url/url.js"),d=r("./MapStore2/web/client/utils/ObservableUtils.js").interceptOGCError,m=r("./MapStore2/node_modules/lodash/lodash.js").head,y=r("./MapStore2/web/client/libs/proj4.js").default,b=function(e){return i.defer((function(){return s.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,a=e.url,i=f.parse(n.url||a,!0);return f.format(o(o({},i),{},{search:void 0,query:o(o({},i.query),{},{service:"WMS",version:"1.1.1",layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(d)},g=function(e){return i.defer((function(){return l.getCapabilities(c.getCapabilitiesUrl(e))})).let(d).map((function(t){return l.parseLayerCapabilities(t,e)}))};e.exports={getLayerCapabilities:g,describeLayer:b,addSearch:function(e){return b(e).map((function(e){var t=e.data,r=void 0===t?{}:t;return r&&r.layerDescriptions[0]})).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.owsURL;return o(o({},e),{},{params:{},search:r?{type:"wfs",url:u.cleanAuthParamsFromURL(r)}:void 0})}))},getNativeCrs:function(e){return i.of(e).filter((function(e){return!e.nativeCrs})).switchMap((function(e){return g(e).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(e.crs)||"EPSG:3587";if(!p.determineCrs(t)){var r=2===t.split(":").length?t.split(":")[1]:"3857";return i.fromPromise(p.fetchProjRemotely(t,p.getProjUrl(r)).then((function(e){return y.defs(t,e.data),t})))}return i.of(t)}))}))}}},"./MapStore2/web/client/plugins/BackgroundSelector.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react-redux/es/index.js").connect,s=r("./node_modules/recompose/es/Recompose.js"),l=s.compose,c=s.withProps,u=r("./MapStore2/node_modules/lodash/lodash.js").find,p=r("./MapStore2/web/client/actions/controls.js"),f=p.toggleControl,d=p.setControlProperty,m=r("./MapStore2/web/client/actions/layers.js"),y=m.changeLayerProperties,b=m.removeNode,g=m.updateNode,h=m.addLayer,v=r("./MapStore2/web/client/actions/backgroundselector.js"),S=v.addBackground,O=v.addBackgroundProperties,w=v.confirmDeleteBackgroundModal,E=v.backgroundAdded,j=v.updateThumbnail,T=v.removeBackground,A=v.clearModalParameters,_=v.backgroundEdited,x=v.setCurrentBackgroundLayer,M=r("./node_modules/reselect/es/index.js").createSelector,P=r("./MapStore2/web/client/selectors/layers.js"),C=P.allBackgroundLayerSelector,L=P.backgroundControlsSelector,R=P.currentBackgroundSelector,I=P.tempBackgroundSelector,D=r("./MapStore2/web/client/selectors/map.js"),N=D.mapSelector,k=D.mapIsEditableSelector,F=D.projectionSelector,G=r("./MapStore2/web/client/selectors/backgroundselector.js"),U=G.modalParamsSelector,B=G.isDeletedIdSelector,H=G.backgroundListSelector,z=G.backgroundLayersSelector,V=G.confirmDeleteBackgroundModalSelector,W=G.allowBackgroundsDeletionSelector,Y=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,q=r("./MapStore2/web/client/plugins/background/DefaultThumbs.js"),Z=l(i(M([F,U,H,B,C,N,k,z,L,R,I,function(e){return Y(e,{left:!0,bottom:!0})},function(e){return e.controls&&e.controls.metadataexplorer&&e.controls.metadataexplorer.enabled},function(e){return e.browser&&e.browser.mobile?"mobile":"desktop"},V,W],(function(e,t,r,n,o,a,i,s,l,c,u,p,f,d,m,y){return{mode:d,modalParams:t,backgroundList:r,deletedId:n,backgrounds:o,size:a&&a.size||{width:0,height:0},mapIsEditable:i,layers:s,tempLayer:u,currentLayer:c,start:l.start||0,enabled:l.enabled,style:p,enabledCatalog:f,confirmDeleteBackgroundModal:m,allowDeletion:y,projection:e}})),{onPropertiesChange:y,onToggle:f.bind(null,"backgroundSelector",null),onLayerChange:d.bind(null,"backgroundSelector"),onStartChange:d.bind(null,"backgroundSelector","start"),onAdd:S,addLayer:h,backgroundAdded:E,onRemove:b,onBackgroundEdit:_,updateNode:g,onUpdateThumbnail:j,removeBackground:T,clearModal:A,addBackgroundProperties:O,onRemoveBackground:w,setCurrentBackgroundLayer:x},(function(e,t,r){return o(o(o(o({},e),t),r),{},{thumbs:o(o({},q),r.thumbs)})})),c((function(e){var t=e.items;return{hasCatalog:!!u(void 0===t?[]:t,{name:"MetadataExplorer"})}})))(r("./MapStore2/web/client/components/background/BackgroundSelector.jsx"));e.exports={BackgroundSelectorPlugin:Z,reducers:{controls:r("./MapStore2/web/client/reducers/controls.js"),backgroundSelector:r("./MapStore2/web/client/reducers/backgroundselector.js")},epics:r("./MapStore2/web/client/epics/backgroundselector.js")}},"./MapStore2/web/client/plugins/BurgerMenu.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var g=r("./node_modules/react/index.js"),h=r("./node_modules/prop-types/index.js"),v=r("./node_modules/react-redux/es/index.js").connect,S=r("./node_modules/object-assign/index.js"),O=r("./node_modules/react-bootstrap/es/index.js"),w=O.DropdownButton,E=O.Glyphicon,j=O.MenuItem,T=v((function(){return{noCaret:!0,pullRight:!0,bsStyle:"primary",title:g.createElement(E,{glyph:"menu-hamburger"})}}))(w),A=function(e){var t=e.children,r=b(e,["children"]);return g.createElement("div",r,t)},_=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),x=r("./MapStore2/web/client/plugins/locale/Message.jsx"),M=r("./MapStore2/web/client/utils/PluginsUtils.js").createPlugin;r("./MapStore2/web/client/plugins/burgermenu/burgermenu.css");var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,r,n,a=p(i);function i(){var e;l(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(d(e=a.call.apply(a,[this].concat(r))),"getPanels",(function(e){return e.filter((function(e){return e.panel})).map((function(e){return S({},e,{panel:!0===e.panel?e.plugin:e.panel})})).concat(e.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,r){return{name:t.name+r,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[r]:{}}})))}),[]))})),y(d(e),"getTools",(function(){return[{element:g.createElement("span",{key:"burger-menu-title"},e.props.title)}].concat(o(e.props.items.map((function(t){return s(s({},t),function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=r.map((function(e){return s(s({},e),t(e.children))})).sort((function(e,t){return e.position-t.position})),o={container:A,containerWrapperStyle:{position:"static"},className:"burger-menu-submenu",toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:j,panelStyle:e.props.panelStyle,panelClassName:e.props.panelClassName};return r.length>0?{containerWrapperStyle:{position:"static"},style:{position:"relative"},childTools:n,childPanels:e.getPanels(r),innerProps:o}:{}}(t.children))})).sort((function(e,t){return e.position-t.position}))))})),e}return t=i,(r=[{key:"render",value:function(){return g.createElement(_,{id:this.props.id,className:"square-button",container:T,mapType:this.props.mapType,toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:j,tools:this.getTools(),panels:this.getPanels(this.props.items),panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}])&&c(t.prototype,r),n&&c(t,n),i}(g.Component);y(P,"propTypes",{id:h.string,dispatch:h.func,items:h.array,title:h.node,onItemClick:h.func,controls:h.object,mapType:h.string,panelStyle:h.object,panelClassName:h.string}),y(P,"contextTypes",{messages:h.object,router:h.object}),y(P,"defaultProps",{id:"mapstore-burger-menu",items:[],onItemClick:function(){},title:g.createElement(j,{header:!0},g.createElement(x,{msgId:"options"})),controls:[],mapType:"leaflet",panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto"},panelClassName:"toolbar-panel"}),e.exports=M("BurgerMenu",{component:v((function(e){return{controls:e.controls}}))(P),containers:{OmniBar:{name:"burgermenu",position:2,tool:!0,priority:1}}})},"./MapStore2/web/client/plugins/Expander.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,a=r("./node_modules/object-assign/index.js"),i=r("./MapStore2/web/client/components/buttons/ToggleButton.jsx");e.exports={ExpanderPlugin:a(i,{Toolbar:{name:"expand",position:1e4,alwaysVisible:!0,tooltip:"expandtoolbar.tooltip",showWhen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.items,r=void 0===t?[]:t;return r.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"expand"!==!e.name&&!e.alwaysVisible})).length>1},icon:n.createElement(o,{glyph:"option-horizontal"}),toggle:!0,toggleControl:"toolbar",toggleProperty:"expanded",priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/FullScreen.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./MapStore2/web/client/actions/fullscreen.js").toggleFullscreen,a=r("./MapStore2/web/client/epics/fullscreen.js").toggleFullscreenEpic,i=r("./node_modules/object-assign/index.js"),s=r("./MapStore2/web/client/components/buttons/FullScreenButton.jsx"),l=n((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.controls,r=void 0===t?{}:t;return{active:r.fullscreen&&r.fullscreen.enabled}}),{onClick:function(e,t){return o(e,t.querySelector)}})(s);e.exports={FullScreenPlugin:i(l,{disablePluginIf:"{state('browser') && state('browser').safari}",Toolbar:{name:"fullscreen",position:5,alwaysVisible:!0,tool:!0,priority:1}}),reducers:{},epics:{toggleFullscreenEpic:a}}},"./MapStore2/web/client/plugins/Identify.jsx":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,c=r("./node_modules/react-redux/es/index.js").connect,u=r("./node_modules/reselect/es/index.js"),p=u.createSelector,f=u.createStructuredSelector,d=r("./node_modules/object-assign/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").isUndefined,y=r("./MapStore2/web/client/selectors/map.js"),b=y.mapSelector,g=y.isMouseMoveIdentifyActiveSelector,h=r("./MapStore2/web/client/selectors/layers.js").layersSelector,v=r("./MapStore2/web/client/selectors/maptype.js"),S=v.mapTypeSelector,O=v.isCesium,w=r("./MapStore2/web/client/selectors/mapInfo.js"),E=w.generalInfoFormatSelector,j=w.clickPointSelector,T=w.indexSelector,A=w.responsesSelector,_=w.requestsSelector,x=w.validResponsesSelector,M=w.showEmptyMessageGFISelector,P=w.isHighlightEnabledSelector,C=w.currentFeatureSelector,L=w.currentFeatureCrsSelector,R=w.isLoadedResponseSelector,I=r("./MapStore2/web/client/selectors/featuregrid.js").isEditingAllowedSelector,D=r("./MapStore2/web/client/selectors/locale.js").currentLocaleSelector,N=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,k=r("./MapStore2/web/client/actions/mapInfo.js"),F=k.hideMapinfoMarker,G=k.showMapinfoRevGeocode,U=k.hideMapinfoRevGeocode,B=k.clearWarning,H=k.toggleMapInfoState,z=k.changeMapInfoFormat,V=k.updateCenterToMarker,W=k.closeIdentify,Y=k.purgeMapInfoResults,q=k.updateFeatureInfoClickPoint,Z=k.changeFormat,K=k.toggleShowCoordinateEditor,Q=k.changePage,X=k.toggleHighlightFeature,J=k.editLayerFeatures,$=k.setMapTrigger,ee=r("./MapStore2/web/client/actions/map.js"),te=ee.changeMousePointer,re=ee.zoomToExtent,ne=r("./MapStore2/web/client/utils/ConfigUtils.js").getConfigProp,oe=r("./node_modules/recompose/es/Recompose.js"),ae=oe.compose,ie=oe.defaultProps,se=r("./MapStore2/web/client/utils/MapInfoUtils.js"),le=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),ce=r("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),ue=ce.defaultViewerHandlers,pe=ce.defaultViewerDefaultProps,fe=r("./MapStore2/web/client/components/data/identify/enhancers/identify.js").identifyLifecycle,de=r("./MapStore2/web/client/components/data/identify/enhancers/zoomToFeatureHandler.js"),me=r("./MapStore2/web/client/plugins/identify/toolButtons.js"),ye=r("./MapStore2/web/client/plugins/identify/featureButtons.js"),be=r("./MapStore2/web/client/plugins/locale/Message.jsx");r("./MapStore2/web/client/plugins/identify/identify.css");var ge=f({enabled:function(e){return e.mapInfo&&e.mapInfo.enabled||e.controls&&e.controls.info&&e.controls.info.enabled||!1},responses:A,validResponses:x,requests:_,format:E,map:b,layers:h,point:j,showModalReverse:function(e){return e.mapInfo&&e.mapInfo.showModalReverse},reverseGeocodeData:function(e){return e.mapInfo&&e.mapInfo.reverseGeocodeData},warning:function(e){return e.mapInfo&&e.mapInfo.warning},currentLocale:D,dockStyle:function(e){return N(e,{height:!0})},formatCoord:function(e){return e.mapInfo&&e.mapInfo.formatCoord||ne("defaultCoordinateFormat")},showCoordinateEditor:function(e){return e.mapInfo&&e.mapInfo.showCoordinateEditor},showEmptyMessageGFI:function(e){return M(e)},isEditingAllowed:I,isCesium:O,floatingIdentifyEnabled:function(e){return g(e)}}),he=ae(c(p(T,R,(function(e,t){return{index:e,loaded:t}})),{setIndex:Q})),ve=ae(he,pe,ue,le((function(e){var t=e.loaded;return m(t)})))(r("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx")),Se=ie({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:se.getDefaultInfoFormatValue(),requests:[],responses:[],viewerOptions:{},viewer:ve,purgeResults:function(){},hideMarker:function(){},clearWarning:function(){},changeMousePointer:function(){},showRevGeocode:function(){},hideRevGeocode:function(){},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,showMoreInfo:!0,showEdit:!1,position:"right",size:660,getToolButtons:me,getFeatureButtons:ye,showFullscreen:!1,validResponses:[],validator:se.getValidator,zIndex:1050}),Oe=ae(c(ge,{purgeResults:Y,closeIdentify:W,onSubmitClickPoint:q,onToggleShowCoordinateEditor:K,onChangeFormat:Z,changeMousePointer:te,clearWarning:B,hideMarker:F,showRevGeocode:G,hideRevGeocode:U,onEnableCenterToMarker:V.bind(null,"enabled"),onEdit:J},(function(e,t,r){return a(a(a(a({},r),e),t),{},{enabled:e.enabled&&(e.isCesium||!r.showInMapPopup)&&!e.floatingIdentifyEnabled})})),ae(c(f({highlight:P,currentFeature:C,currentFeatureCrs:L}),{toggleHighlightFeature:X,zoomToExtent:re}),de),c(p(S,(function(e){return{mapType:e}})),{},(function(e,t,r){var o=e.mapType,i=r.showHighlightFeatureButton;return a(a({},n(r,["showHighlightFeatureButton"])),{},{showHighlightFeatureButton:"openlayers"===o&&i})})),Se,he,ue,fe)(r("./MapStore2/web/client/components/data/identify/IdentifyContainer.jsx")),we=c((function(e){return{infoFormat:E(e)}}),{onInfoFormatChange:z})(r("./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx").default),Ee=c((function(e){return{trigger:g(e)?"hover":"click"}}),{onSetMapTrigger:$})(r("./MapStore2/web/client/components/misc/FeatureInfoTriggerSelector.jsx"));e.exports={IdentifyPlugin:d(Oe,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:s.createElement(l,{glyph:"map-marker"}),help:s.createElement(be,{msgId:"helptexts.infoButton"}),action:H,selector:function(e){return{bsStyle:e.mapInfo&&e.mapInfo.enabled?"success":"primary",active:!(!e.mapInfo||!e.mapInfo.enabled)}}},Settings:{tool:[s.createElement(we,{key:"featureinfoformat",label:s.createElement(be,{msgId:"infoFormatLbl"})}),s.createElement(Ee,{key:"featureinfotrigger"})],position:3}}),reducers:{mapInfo:r("./MapStore2/web/client/reducers/mapInfo.js")},epics:r("./MapStore2/web/client/epics/identify.js").default}},"./MapStore2/web/client/plugins/Map.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react/index.js"),g=r("./MapStore2/web/client/utils/PluginsUtils.js").connect,h=r("./MapStore2/web/client/utils/AgentUtils.js").loadFont,v=r("./node_modules/object-assign/index.js"),S=r("./node_modules/react-spinkit/dist/index.js");r("./MapStore2/web/client/plugins/map/css/map.css");var O,w=r("./MapStore2/web/client/components/I18N/Message.jsx"),E=r("./MapStore2/web/client/utils/ConfigUtils.js"),j=r("./MapStore2/web/client/actions/map.js"),T=j.errorLoadingFont,A=j.setMapResolutions,_=r("./MapStore2/node_modules/lodash/lodash.js").isString,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,n,i,p=u(d);function d(){var e;s(this,d);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return m(f(e=p.call.apply(p,[this].concat(n))),"state",{canRender:!0}),m(f(e),"getHighlightLayer",(function(t,r,n){return b.createElement(O.Layer,{type:"vector",srs:t,position:r,key:"highlight",options:{name:"highlight"},env:n},e.props.features.map((function(e){return b.createElement(O.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),m(f(e),"getTool",(function(t){return _(t)?{name:t,impl:O.tools[t]}:t[e.props.mapType]||t})),m(f(e),"getMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||E.getConfigProp("defaultMapOptions")&&E.getConfigProp("defaultMapOptions")[e.props.mapType]})),m(f(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",r=[];return e.props.isLocalizedLayerStylesEnabled&&r.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage}),[].concat(a(e.props.layers),a(e.props.additionalLayers)).filter(e.filterLayer).map((function(n,o){return b.createElement(O.Layer,{type:n.type,srs:t,position:o,key:n.id||n.name,options:n,securityToken:e.props.securityToken,env:r},e.renderLayerContent(n,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,r)||[])})),m(f(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(r){return b.createElement(O.Feature,{key:r.id,msId:r.id,type:r.type,crs:t,geometry:r.geometry,features:r.features,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:r.style||e.style||null,properties:r.properties})})):null})),m(f(e),"renderSupportTools",(function(){return e.props.tools.map((function(t){var r=e.getTool(t),n=e.props.toolsOptions[r.name]&&e.props.toolsOptions[r.name][e.props.mapType]||e.props.toolsOptions[r.name]||{};return b.createElement(r.impl,o({key:r.name},n))}))})),m(f(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),m(f(e),"updatePlugins",(function(e){O=r("./MapStore2/web/client/plugins/map/index.js")(e.mapType,e.actions)})),e}return t=d,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,r=t.shouldLoadFont,n=t.fonts;r&&n&&(this.setState({canRender:!1}),Promise.all(n.map((function(t){return h(t,{timeoutAfter:5e3}).catch((function(){e.props.onFontError({family:t})}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"render",value:function(){if(this.props.map&&this.state.canRender){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return b.createElement(O.Map,o({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:v({},t,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?b.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},b.createElement(w,{msgId:"map.loadingerror"}),":",this.props.loadingError):b.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?b.createElement(S,{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,b.createElement(w,{msgId:this.props.mapLoadingMessage}))}}])&&l(t.prototype,n),i&&l(t,i),d}(b.Component);m(x,"propTypes",{mapType:y.string,map:y.object,layers:y.array,additionalLayers:y.array,zoomControl:y.bool,mapLoadingMessage:y.string,loadingSpinner:y.bool,loadingError:y.string,tools:y.array,fonts:y.array,options:y.object,mapOptions:y.object,projectionDefs:y.array,toolsOptions:y.object,onFontError:y.func,onResolutionsChange:y.func,actions:y.object,features:y.array,securityToken:y.string,shouldLoadFont:y.bool,elevationEnabled:y.bool,isLocalizedLayerStylesEnabled:y.bool,localizedLayerStylesName:y.string,currentLocaleLanguage:y.string}),m(x,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","locate","scalebar","draw","highlight","popup"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onFontError:function(){},onResolutionsChange:function(){}});var M=r("./MapStore2/web/client/plugins/map/selector.js").default;e.exports={MapPlugin:g(M,{onFontError:T,onResolutionsChange:A})(x),reducers:{map:r("./MapStore2/web/client/reducers/map.js"),layers:r("./MapStore2/web/client/reducers/layers.js"),draw:r("./MapStore2/web/client/reducers/draw.js"),highlight:r("./MapStore2/web/client/reducers/highlight.js"),maptype:r("./MapStore2/web/client/reducers/maptype.js"),additionallayers:r("./MapStore2/web/client/reducers/additionallayers.js")},epics:r("./MapStore2/web/client/epics/map.js")}},"./MapStore2/web/client/plugins/MapFooter.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),g=r("./node_modules/recompose/es/Recompose.js").lifecycle,h={},v=g({componentDidMount:function(){if(h[this.props.id]){var e=document.getElementById(this.props.id);e&&e.parentNode&&!e.hasChildNodes()&&e.parentNode.replaceChild(h[this.props.id],e)}},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){h[this.props.id]=document.getElementById(this.props.id)}})((function(e){var t=e.id;return m.createElement("div",{id:t})})),S=[{element:m.createElement(v,{key:"attribution",id:"footer-attribution-container"})},{element:m.createElement(v,{key:"scalebar",id:"footer-scalebar-container"})}],O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,a=c(u);function u(){var e;i(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(p(e=a.call.apply(a,[this].concat(r))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,r){return{name:t.name+r,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[r]:{}}})))}),[])})),d(p(e),"getTools",(function(){return[S[0]].concat(o(e.props.items.sort((function(e,t){return t.position-e.position}))),[S[1]])})),e}return t=u,(r=[{key:"render",value:function(){return m.createElement(b,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return m.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"mapFooter",tool:function(e){return m.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);d(O,"propTypes",{className:y.string,style:y.object,items:y.array,id:y.string,mapType:y.string}),d(O,"defaultProps",{items:[],className:"mapstore-map-footer",style:{},id:"mapstore-map-footer",mapType:"leaflet"}),e.exports={MapFooterPlugin:O,reducers:{}}},"./MapStore2/web/client/plugins/MapLoading.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./node_modules/reselect/es/index.js").createSelector,a=r("./MapStore2/web/client/selectors/layers.js").layersSelector,i=r("./node_modules/object-assign/index.js"),s=o([a],(function(e){return{loading:e&&e.some((function(e){return e.loading}))}}));r("./MapStore2/web/client/plugins/maploading/maploading.css");var l=n(s)(r("./MapStore2/web/client/components/misc/spinners/GlobalSpinner/GlobalSpinner.jsx"));e.exports={MapLoadingPlugin:i(l,{Toolbar:{name:"maploading",position:1,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/OmniBar.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js");r("./MapStore2/web/client/plugins/omnibar/omnibar.css");var m=r("./node_modules/object-assign/index.js"),y=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,r){var n,o;return{name:t.name+r,panel:e,cfg:(null==t||null===(n=t.cfg)||void 0===n||null===(o=n.toolsCfg)||void 0===o?void 0:o[r])||{}}})))}),[])})),p(c(e),"getTools",(function(){return e.props.items.sort((function(e,t){return e.position-t.position}))})),e}return t=u,(r=[{key:"render",value:function(){return d.createElement(y,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return d.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(e){return d.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(b,"propTypes",{className:f.string,style:f.object,items:f.array,id:f.string,mapType:f.string}),p(b,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"}),e.exports={OmniBarPlugin:m(b,{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}),reducers:{}}},"./MapStore2/web/client/plugins/Playback.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./node_modules/react/index.js"),p=r("./node_modules/object-assign/index.js"),f=r("./node_modules/recompose/es/Recompose.js"),d=f.defaultProps,m=f.compose,y=r("./node_modules/reselect/es/index.js").createSelector,b=r("./MapStore2/web/client/actions/playback.js"),g=b.play,h=b.pause,v=b.stop,S=b.STATUS,O=r("./MapStore2/web/client/selectors/dimension.js").currentTimeSelector,w=r("./MapStore2/web/client/selectors/playback.js"),E=w.statusSelector,j=w.loadingSelector,T=r("./node_modules/react-redux/es/index.js").connect,A=m(d({statusMap:S}),T(y(E,O,j,(function(e,t,r){return{loading:r,currentTime:t,status:e}})),{play:g,pause:h,stop:v}))(r("./MapStore2/web/client/plugins/playback/Playback.jsx")),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return u.createElement("div",{className:"playback-plugin"},u.createElement(A,this.props))}}])&&a(t.prototype,r),n&&a(t,n),c}(u.Component);e.exports={PlaybackPlugin:p(_,{noRoot:!0,disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Timeline:{name:"playback",position:1,priority:1}}),epics:r("./MapStore2/web/client/epics/playback.js"),reducers:{playback:r("./MapStore2/web/client/reducers/playback.js"),dimension:r("./MapStore2/web/client/reducers/dimension.js")}}},"./MapStore2/web/client/plugins/Print.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=r("./node_modules/react/index.js"),h=r("./node_modules/prop-types/index.js"),v=r("./node_modules/react-redux/es/index.js").connect,S=r("./MapStore2/web/client/utils/LocaleUtils.js"),O=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),w=r("./MapStore2/web/client/utils/MapUtils.js"),E=r("./MapStore2/web/client/components/misc/Dialog.jsx"),j=r("./node_modules/react-bootstrap/es/index.js"),T=j.Grid,A=j.Row,_=j.Col,x=j.Panel,M=j.Accordion,P=j.Glyphicon,C=r("./MapStore2/web/client/actions/controls.js"),L=C.toggleControl,R=C.setControlProperty,I=r("./MapStore2/web/client/actions/print.js"),D=I.printSubmit,N=I.printError,k=I.printSubmitting,F=I.configurePrintMap,G=r("./MapStore2/web/client/selectors/map.js").mapSelector,U=r("./MapStore2/web/client/selectors/layers.js").layersSelector,B=r("./node_modules/reselect/es/index.js").createSelector,H=r("./node_modules/object-assign/index.js"),z=r("./MapStore2/node_modules/lodash/lodash.js").head,V=r("./MapStore2/web/client/selectors/map.js").scalesSelector,W=r("./MapStore2/web/client/selectors/locale.js"),Y=W.currentLocaleSelector,q=W.currentLocaleLanguageSelector,Z=r("./MapStore2/web/client/selectors/localizedLayerStyles.js"),K=Z.isLocalizedLayerStylesEnabledSelector,Q=Z.localizedLayerStylesEnvSelector,X=r("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector,J=r("./MapStore2/web/client/components/I18N/Message.jsx");r("./MapStore2/web/client/plugins/print/print.css"),e.exports={PrintPlugin:H({loadPlugin:function(e){Promise.all([r.e(10),r.e(11)]).then(function(){var t=r("./MapStore2/web/client/plugins/print/index.js"),n=t.Name,o=t.Description,s=t.Resolution,d=t.DefaultBackgroundOption,y=t.Sheet,j=t.LegendOption,C=t.MultiPageOption,I=t.LandscapeOption,W=t.ForceLabelsOption,Z=t.AntiAliasingOption,$=t.IconSizeOption,ee=t.LegendDpiOption,te=t.Font,re=t.MapPreview,ne=t.PrintSubmit,oe=t.PrintPreview,ae=r("./MapStore2/web/client/utils/PrintUtils.js"),ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(j,e);var t,r,h,v=f(j);function j(){var e;c(this,j);for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return b(m(e=v.call.apply(v,[this].concat(r))),"getMapSize",(function(t){var r=t||e.getLayout();return{width:e.props.mapWidth,height:r&&r.map.height/r.map.width*e.props.mapWidth||270}})),b(m(e),"getLayout",(function(){var t=e.props.getLayoutName(e.props.printSpec);return z(e.props.capabilities.layouts.filter((function(e){return e.name===t})))})),b(m(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return g.createElement(t.component,{key:"printoption_"+t.name,label:S.getMessageById(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),b(m(e),"renderPreviewPanel",(function(){return g.createElement(oe,l({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),b(m(e),"renderError",(function(){return e.props.error?g.createElement(A,null,g.createElement(_,{xs:12},g.createElement("div",{className:"print-error"},g.createElement("span",null,e.props.error)))):null})),b(m(e),"renderWarning",(function(e){return e?null:g.createElement(A,null,g.createElement(_,{xs:12},g.createElement("div",{className:"print-warning"},g.createElement("span",null,g.createElement(J,{msgId:"print.layoutWarning"})))))})),b(m(e),"renderPrintPanel",(function(){var t=e.getLayout(),r=e.props.getLayoutName(e.props.printSpec),a=e.getMapSize(t);return g.createElement(T,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),g.createElement(A,null,g.createElement(_,{xs:12,md:6},g.createElement(n,{label:S.getMessageById(e.context.messages,"print.title"),placeholder:S.getMessageById(e.context.messages,"print.titleplaceholder")}),g.createElement(o,{label:S.getMessageById(e.context.messages,"print.description"),placeholder:S.getMessageById(e.context.messages,"print.descriptionplaceholder")}),g.createElement(M,{defaultActiveKey:"1"},g.createElement(x,{className:"print-layout",header:S.getMessageById(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},g.createElement(y,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:S.getMessageById(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),g.createElement(x,{className:"print-legend-options",header:S.getMessageById(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},g.createElement(te,{label:S.getMessageById(e.context.messages,"print.legend.font")}),g.createElement(W,{label:S.getMessageById(e.context.messages,"print.legend.forceLabels")}),g.createElement(Z,{label:S.getMessageById(e.context.messages,"print.legend.antiAliasing")}),g.createElement($,{label:S.getMessageById(e.context.messages,"print.legend.iconsSize")}),g.createElement(ee,{label:S.getMessageById(e.context.messages,"print.legend.dpi")})))),g.createElement(_,{xs:12,md:6,style:{textAlign:"center"}},g.createElement(s,{label:S.getMessageById(e.context.messages,"print.resolution")}),g.createElement(re,l({width:a.width,height:a.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:r,layoutSize:t&&t.map||{width:10,height:10},resolutions:w.getResolutions(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?g.createElement(d,{label:S.getMessageById(e.context.messages,"print.defaultBackground")}):null,g.createElement(ne,l({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),b(m(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?g.createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),b(m(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),b(m(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),b(m(e),"isBackgroundIgnored",(function(){return e.props.layers.filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),b(m(e),"filterLayers",(function(t){var r=e.props.layers.filter((function(t){return t.visibility&&e.isAllowed(t)}));if(e.isBackgroundIgnored()&&e.props.defaultBackground&&t.defaultBackground){var n=e.props.layers.filter((function(t){return t.type===e.props.defaultBackground}))[0];return[H({},n,{visibility:!0})].concat(i(r))}return r})),b(m(e),"configurePrintMap",(function(t,r){var n=t||e.props.map,o=r||e.props.printSpec;if(n&&n.bbox&&e.props.capabilities){var a=O.reprojectBbox([n.bbox.bounds.minx,n.bbox.bounds.miny,n.bbox.bounds.maxx,n.bbox.bounds.maxy],n.bbox.crs,n.projection),i=e.getMapSize();if(e.props.useFixedScales){var s=e.props.getZoomForExtent(a,i,e.props.minZoom,e.props.maxZoom),l=ae.getPrintScales(e.props.capabilities),c=ae.getNearestZoom(n.zoom,l);e.props.configurePrintMap(n.center,s,c,l[c],e.filterLayers(o),n.projection,e.props.currentLocale)}else e.props.configurePrintMap(n.center,n.zoom,n.zoom,e.props.scales[n.zoom],e.filterLayers(o),n.projection,e.props.currentLocale)}})),b(m(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=a(a({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var r=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,a(a({},r),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=j,(r=[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.usePreview&&!window.PDFJS){var e=document.createElement("script");e.type="text/javascript",e.src="https://unpkg.com/pdfjs-dist@1.4.79/build/pdf.combined.js",document.head.appendChild(e)}this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,r=this.props.open&&this.props.syncMapPreview&&w.mapUpdated(this.props.map,e.map),n=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||r||n)&&this.configurePrintMap(e.map,e.printSpec)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?g.createElement(x,{className:"mapstore-print-panel",header:g.createElement("span",null,g.createElement("span",{className:"print-panel-title"},g.createElement(J,{msgId:"print.paneltitle"})),g.createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):g.createElement(E,{id:"mapstore-print-panel",style:a({left:"17%",top:"50px",zIndex:1990},this.props.style)},g.createElement("span",{role:"header"},g.createElement("span",{className:"print-panel-title"},g.createElement(J,{msgId:"print.paneltitle"})),g.createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?g.createElement(P,{glyph:this.props.closeGlyph}):g.createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}])&&u(t.prototype,r),h&&u(t,h),j}(g.Component);b(ie,"propTypes",{map:h.object,layers:h.array,capabilities:h.object,printSpec:h.object,printSpecTemplate:h.object,withContainer:h.bool,withPanelAsContainer:h.bool,open:h.bool,pdfUrl:h.string,title:h.string,style:h.object,mapWidth:h.number,mapType:h.string,alternatives:h.array,toggleControl:h.func,onBeforePrint:h.func,setPage:h.func,onPrint:h.func,printError:h.func,configurePrintMap:h.func,preloadData:h.func,getPrintSpecification:h.func,getLayoutName:h.func,error:h.string,getZoomForExtent:h.func,minZoom:h.number,maxZoom:h.number,usePreview:h.bool,mapPreviewOptions:h.object,syncMapPreview:h.bool,useFixedScales:h.bool,scales:h.array,ignoreLayers:h.array,defaultBackground:h.string,closeGlyph:h.string,submitConfig:h.object,previewOptions:h.object,currentLocale:h.string,currentLocaleLanguage:h.string,overrideOptions:h.object,isLocalizedLayerStylesEnabled:h.bool,localizedLayerStylesEnv:h.object}),b(ie,"contextTypes",{messages:h.object}),b(ie,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:ae.preloadData,getPrintSpecification:ae.getMapfishPrintSpecification,getLayoutName:ae.getLayoutName,getZoomForExtent:w.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:j,regex:/legend/},{name:"2pages",component:C,regex:/2_pages/},{name:"landscape",component:I,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var se=B([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&H({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},G,U,V,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},Y,q,X,K,Q],(function(e,t,r,n,o,a,i,s,l,c,u,p,f,d){return{open:e,capabilities:t,printSpec:r,pdfUrl:n,error:o,map:a,layers:i.filter((function(e){return!e.loadingError})),scales:s,usePreview:l,currentLocale:c,currentLocaleLanguage:u,mapType:p,isLocalizedLayerStylesEnabled:f,localizedLayerStylesEnv:d}})),le=v(se,{toggleControl:L.bind(null,"print",null),onPrint:D,printError:N,onBeforePrint:k,setPage:R.bind(null,"print","currentPage"),configurePrintMap:F})(ie);e(le)}.bind(null,r)).catch(r.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:g.createElement(J,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:g.createElement(P,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:g.createElement(J,{msgId:"printbutton"}),icon:g.createElement(P,{glyph:"print"}),action:L.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:r("./MapStore2/web/client/reducers/print.js")}}},"./MapStore2/web/client/plugins/ScaleBox.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=r("./node_modules/react/index.js"),f=r("./MapStore2/web/client/utils/PluginsUtils.js").connect,d=r("./node_modules/reselect/es/index.js").createSelector,m=r("./MapStore2/web/client/selectors/map.js"),y=m.mapSelector,b=m.minZoomSelector,g=r("./MapStore2/web/client/actions/map.js").changeZoomLevel,h=r("./MapStore2/web/client/plugins/help/HelpWrapper.jsx"),v=r("./MapStore2/web/client/plugins/locale/Message.jsx"),S=r("./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx"),O=r("./MapStore2/web/client/utils/MapUtils.js"),w=r("./node_modules/object-assign/index.js"),E=d([y,b],(function(e,t){return{minZoom:t,currentZoomLvl:e&&e.zoom,scales:O.getScales(e&&e.projection||"EPSG:3857",e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view.DPI||null)}}));r("./MapStore2/web/client/plugins/scalebox/scalebox.css");var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return a(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return p.createElement(h,{id:"mapstore-scalebox-container",key:"scalebox-help",helpText:p.createElement(v,{msgId:"helptexts.scaleBox"})},p.createElement(S,o({key:"scaleBox",label:p.createElement(v,{msgId:"mapScale"})},this.props)))}}])&&i(t.prototype,r),n&&i(t,n),u}(p.Component),T=f(E,{onChange:g})(j);e.exports={ScaleBoxPlugin:w(T,{disablePluginIf:"{state('mapType') === 'cesium'}"},{MapFooter:{name:"scale",position:1,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/Timeline.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/react-redux/es/index.js").connect,c=r("./node_modules/reselect/es/index.js").createSelector,u=r("./MapStore2/web/client/plugins/timeline/Timeline.jsx"),p=r("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),f=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),d=r("./MapStore2/web/client/selectors/dimension.js"),m=d.offsetEnabledSelector,y=d.currentTimeSelector,b=r("./MapStore2/web/client/selectors/timeline.js"),g=b.currentTimeRangeSelector,h=b.isVisible,v=b.rangeSelector,S=b.timelineLayersSelector,O=b.isMapSync,w=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,E=r("./node_modules/recompose/es/Recompose.js"),j=E.withState,T=E.compose,A=E.branch,_=E.renderNothing,x=E.withStateHandlers,M=E.withProps,P=E.defaultProps,C=E.setDisplayName,L=r("./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js"),R=r("./MapStore2/web/client/actions/timeline.js"),I=R.selectTime,D=R.enableOffset,N=R.onRangeChanged,k=R.setMapSync,F=r("./MapStore2/web/client/actions/dimension.js").setCurrentOffset,G=r("./MapStore2/web/client/components/I18N/Message.jsx"),U=r("./MapStore2/web/client/actions/playback.js").selectPlaybackRange,B=r("./MapStore2/web/client/selectors/playback.js"),H=B.playbackRangeSelector,z=B.statusSelector,V=r("./node_modules/react-bootstrap/es/index.js"),W=V.Button,Y=V.Glyphicon,q=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(W),Z=r("./MapStore2/node_modules/lodash/lodash.js"),K=Z.head,Q=Z.isString,X=r("./node_modules/moment/moment.js"),J=function(e){return Q(e)&&-1!==e.indexOf("%")},$=function(e){return parseInt(e,10)/100},ee=function(e,t){return X(t).diff(e)>0},te=T(l(c(h,S,y,g,m,H,z,v,(function(e,t,r,n,o,a,i,s){return{visible:e,layers:t,currentTime:r,currentTimeRange:n,offsetEnabled:o,playbackRange:a,status:i,viewRange:s}})),{setCurrentTime:I,onOffsetEnabled:D,setOffset:F,setPlaybackRange:U,moveRangeTo:N}),A((function(e){var t=e.visible,r=void 0===t||t,n=e.layers,o=void 0===n?[]:n;return!r||0===Object.keys(o).length}),_),j("options","setOptions",{collapsed:!0}),l(c(O,(function(e){return{mapSync:e}})),{toggleMapSync:k}),T(T(x((function(){return{}}),{onResize:function(){return function(e){return{containerWidth:e.width}}}}),L({querySelector:".ms2",closest:!0,debounceTime:100})),P({style:{marginBottom:35,marginLeft:100,marginRight:80}}),l(c((function(e){return w(e,{right:!0,bottom:!0,left:!0})}),(function(e){return{mapLayoutStyle:e}}))),M((function(e){var t=e.containerWidth,r=e.style,n=e.mapLayoutStyle,o=r||{},i=o.marginLeft,s=o.marginRight,l=n.left,c=void 0===l?0:l,u=n.right,p=void 0===u?0:u;p=J(p)&&$(p)*t||p,c=J(c)&&$(c)*t||c;if(t){var f=t-p-c-i-s;return{hide:f<410,compactToolbar:f<880,style:a(a(a({},r),n),{},{minWidth:410})}}return{style:a(a(a({},r),n),{},{minWidth:410})}})),A((function(e){return e.hide}),_),C("TimelinePlugin")))((function(e){var t=e.items,r=e.options,o=e.setOptions,i=e.mapSync,l=e.toggleMapSync,c=void 0===l?function(){}:l,d=e.currentTime,m=e.setCurrentTime,y=e.offsetEnabled,b=e.onOffsetEnabled,g=e.currentTimeRange,h=e.setOffset,v=e.style,S=e.status,O=e.viewRange,w=e.moveRangeTo,E=e.compactToolbar,j=r.hideLayersName,T=r.collapsed,A=K(t&&t.filter((function(e){return"playback"===e.name}))),_=A&&A.plugin,x=function(e,t,r,n){var o=X(r.end).diff(r.start)/2;if("time-current"===t&&r&&r.start.toString()!==X(e).add(-1*o).toString()&&r.end.toString()!==X(e).add(o).toString()&&w({start:X(e).add(-1*o),end:X(e).add(o)}),"range-start"===t||"range-end"===t){var a=X(n.end).diff(n.start),i=X(n.start).add(a/2);w(a/2<=o?{start:X(i).add(-1*o),end:X(i).add(o)}:{start:X(i).add(-1*a*5/2),end:X(i).add(5*a/2)})}};return s.createElement("div",{style:a(a({position:"absolute",marginBottom:35,marginLeft:100,background:"transparent"},v),{},{right:T?"auto":v.right||0}),className:"timeline-plugin".concat(j?" hide-layers-name":"").concat(y?" with-time-offset":"")},y&&s.createElement(p,{clickable:!T,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==S&&x(e,t,O,g)},tooltip:s.createElement(G,{msgId:"timeline.rangeStart"}),showButtons:!0,date:d||g&&g.start,onUpdate:function(e){return(g&&ee(e,g.end)||!g)&&"PLAY"!==S&&m(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),s.createElement("div",{className:"timeline-plugin-toolbar".concat(E?" ms-collapsed":"")},y&&g?s.createElement(p,{clickable:!T,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==S&&x(e,t,O,g)},tooltip:s.createElement(G,{msgId:"timeline.rangeEnd"}),date:g.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==S&&ee(d,e)&&h(e)}}):s.createElement(p,{clickable:!T,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==S&&x(e,t,O)},tooltip:s.createElement(G,{msgId:"timeline.currentTime"}),date:d||g&&g.start,onUpdate:function(e){return(g&&ee(e,g.end)||!g)&&"PLAY"!==S&&m(e)}}),s.createElement("div",{className:"timeline-plugin-btn-group"},s.createElement(f,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:s.createElement(G,{msgId:j?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:j?"primary":"success",visible:!T,active:!j,onClick:function(){return o(a(a({},r),{},{hideLayersName:!j}))}},{glyph:"time-offset",bsStyle:y?"success":"primary",active:y,disabled:"PLAY"===S,tooltip:s.createElement(G,{msgId:y?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==S&&b(!y)}},{glyph:"map-synch",tooltip:s.createElement(G,{msgId:i?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:i?"success":"primary",active:i,onClick:function(){return c(!i)}}]}),_&&s.createElement(_,n({},A,{settingsStyle:{right:T||E?40:"unset"}}))),s.createElement(q,{onClick:function(){return o(a(a({},r),{},{collapsed:!T}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:s.createElement(G,{msgId:T?"timeline.expand":"timeline.collapse"})},s.createElement(Y,{glyph:T?"chevron-up":"chevron-down"}))),!T&&s.createElement(u,{offsetEnabled:y,playbackEnabled:!0,hideLayersName:j}))})),re=r("./node_modules/object-assign/index.js"),ne=r("./MapStore2/web/client/plugins/timeline/TimelineToggle.jsx");e.exports={TimelinePlugin:re(te,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:s.createElement(ne,null),position:0}}),reducers:{dimension:r("./MapStore2/web/client/reducers/dimension.js"),timeline:r("./MapStore2/web/client/reducers/timeline.js")},epics:r("./MapStore2/web/client/epics/timeline.js")}},"./MapStore2/web/client/plugins/Toolbar.jsx":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=r("./node_modules/react/index.js"),g=r("./node_modules/prop-types/index.js"),h=r("./node_modules/react-redux/es/index.js").connect;r("./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css");var v=r("./node_modules/react-transition-group/index.js").CSSTransitionGroup,S=r("./MapStore2/web/client/selectors/featuregrid.js").isFeatureGridOpen,O=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,w=r("./node_modules/reselect/es/index.js").createSelector,E=r("./node_modules/object-assign/index.js"),j=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),T=function(e){u(r,e);var t=f(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=i(e,["children"]);return b.createElement(v,a({},r,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),t)}}]),r}(b.Component),A=function(e){u(r,e);var t=f(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=i(e,["children"]);return b.createElement("div",r,t)}}]),r}(b.Component),_=function(e){u(r,e);var t=f(r);function r(){var e;s(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n(m(e=t.call.apply(t,[this].concat(a))),"getPanel",(function(e){return!0===e.panel?e.plugin:e.panel})),n(m(e),"getPanels",(function(){return e.getTools().filter((function(e){return e.panel})).map((function(t){return{name:t.name,title:t.title,cfg:t.cfg,panel:e.getPanel(t),items:t.items,wrap:t.wrap||!1}}))})),n(m(e),"getTools",(function(){var t=e.props.items.filter((function(e){return!e.alwaysVisible}))||[];return e.props.items.filter((function(r){return r.alwaysVisible||1===t.length||e.props.allVisible})).filter((function(t){return!t.showWhen||t.showWhen(e.props)})).map((function(e,t){return E({},e,{position:e.position||t})})).sort((function(e,t){return e.position-t.position}))})),e}return c(r,[{key:"render",value:function(){var e=this.props.disableAnimation?A:T;return b.createElement(j,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:e,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),r}(b.Component);n(_,"propTypes",{id:g.string,tools:g.array,mapType:g.string,style:g.object,panelStyle:g.object,panelClassName:g.string,disableAnimation:g.bool,active:g.string,items:g.array,allVisible:g.bool,layout:g.string,stateSelector:g.string,buttonStyle:g.string,buttonSize:g.string,pressedButtonStyle:g.string,btnConfig:g.object}),n(_,"contextTypes",{messages:g.object,router:g.object}),n(_,"defaultProps",{id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",disableAnimation:!1,items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}});var x=function(e){return w([function(t){return t.controls&&t.controls[e]&&t.controls[e].active},function(t){return t.controls&&t.controls[e]&&t.controls[e].expanded},S,function(e){return O(e,{right:!0,bottom:!0})}],(function(t,r,n,o){return{active:t,allVisible:r,stateSelector:e,layout:n?"horizontal":"vertical",style:o}}))};e.exports={ToolbarPlugin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return h(x(e))(_)},reducers:{controls:r("./MapStore2/web/client/reducers/controls.js")}}},"./MapStore2/web/client/plugins/ZoomAll.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=r("./node_modules/react/index.js"),f=r("./node_modules/react-redux/es/index.js").connect,d=r("./node_modules/reselect/es/index.js").createSelector,m=r("./MapStore2/web/client/selectors/map.js").mapSelector,y=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,b=f(d([m,function(e){return e.mapInitialConfig}],(function(e,t){return{mapConfig:e,mapInitialConfig:t}})),{changeMapView:r("./MapStore2/web/client/actions/map.js").changeMapView})(r("./MapStore2/web/client/components/buttons/ZoomToMaxExtentButton.jsx")),g=r("./MapStore2/web/client/components/I18N/Message.jsx");r("./MapStore2/web/client/plugins/zoomall/zoomall.css");var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return a(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return p.createElement(b,o({key:"zoomToMaxExtent"},this.props,{useInitialExtent:!0}))}}])&&i(t.prototype,r),n&&i(t,n),u}(p.Component),v=r("./node_modules/object-assign/index.js");e.exports={ZoomAllPlugin:v(h,{Toolbar:{name:"ZoomAll",position:7,tooltip:"zoombuttons.zoomAllTooltip",icon:p.createElement(y,{glyph:"resize-full"}),help:p.createElement(g,{msgId:"helptexts.zoomToMaxExtentButton"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomIn.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-redux/es/index.js").connect,a=(0,r("./node_modules/reselect/es/index.js").createSelector)([r("./MapStore2/web/client/selectors/map.js").mapSelector],(function(e){return{currentZoom:e&&e.zoom,id:"zoomin-btn",step:1,glyphicon:"plus"}})),i=r("./MapStore2/web/client/actions/map.js").changeZoomLevel,s=r("./MapStore2/web/client/components/I18N/Message.jsx"),l=o(a,{onZoom:i})(r("./MapStore2/web/client/components/buttons/ZoomButton.jsx"));r("./MapStore2/web/client/plugins/zoom/zoom.css");var c=r("./node_modules/object-assign/index.js");e.exports={ZoomInPlugin:c(l,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomIn",position:3,tooltip:"zoombuttons.zoomInTooltip",help:n.createElement(s,{msgId:"helptexts.zoomIn"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomOut.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react/index.js"),s=r("./node_modules/react-redux/es/index.js").connect,l=r("./node_modules/reselect/es/index.js").createSelector,c=r("./MapStore2/web/client/selectors/map.js"),u=l([c.mapSelector,c.minZoomSelector],(function(e,t){return{currentZoom:e&&e.zoom,id:"zoomout-btn",step:-1,glyphicon:"minus",minZoom:t}})),p=r("./MapStore2/web/client/actions/map.js").changeZoomLevel,f=r("./MapStore2/web/client/components/I18N/Message.jsx"),d=s(u,{onZoom:p},(function(e,t,r){return o(o(o({},e),t),r)}))(r("./MapStore2/web/client/components/buttons/ZoomButton.jsx"));r("./MapStore2/web/client/plugins/zoom/zoom.css");var m=r("./node_modules/object-assign/index.js");e.exports={ZoomOutPlugin:m(d,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomOut",position:4,tooltip:"zoombuttons.zoomOutTooltip",help:i.createElement(f,{msgId:"helptexts.zoomOut"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/background/DefaultThumbs.js":function(e,t,r){var n=r("./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"),o=r("./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"),a=r("./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"),i=r("./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"),s=r("./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"),l=r("./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"),c=r("./MapStore2/web/client/plugins/background/assets/img/none.jpg"),u=r("./MapStore2/web/client/plugins/background/assets/img/dafault.jpg"),p=r("./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"),f=r("./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"),d=r("./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"),m={google:{HYBRID:r("./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"),ROADMAP:n,TERRAIN:o,SATELLITE:a},bing:{Aerial:i,AerialWithLabels:f},osm:{mapnik:s},mapquest:{osm:r("./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg")},ol:{undefined:c},nasagibs:{Night2012:p},OpenTopoMap:{OpenTopoMap:d},unknown:u,s2cloudless:{"s2cloudless:s2cloudless":l}};e.exports=m},"./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"},"./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"},"./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"},"./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"},"./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"},"./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"},"./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"},"./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"},"./MapStore2/web/client/plugins/background/assets/img/dafault.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/dafault.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"},"./MapStore2/web/client/plugins/background/assets/img/none.jpg":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAD1APUDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCcH//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AXB//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFwf//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IXB//9oADAMBAAIAAwAAABCSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSf/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBwf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/EHB//9k="},"./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"},"./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/containers/ToolsContainer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r("./node_modules/react/index.js"),b=r("./node_modules/prop-types/index.js"),g=r("./node_modules/react-redux/es/index.js").connect,h=r("./node_modules/redux/es/index.js").compose,v=r("./MapStore2/web/client/actions/help.js"),S=v.changeHelpText,O=v.changeHelpwinVisibility,w=g((function(e){return{isVisible:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:S,changeHelpwinVisibility:O})(r("./MapStore2/web/client/components/help/HelpBadge.jsx")),E=r("./MapStore2/web/client/components/I18N/Message.jsx"),j=r("./node_modules/react-bootstrap/es/index.js"),T=j.Button,A=j.Tooltip,_=j.Panel,x=j.Collapse,M=j.Glyphicon,P=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),C=r("./MapStore2/web/client/actions/controls.js"),L=C.setControlProperty,R=C.toggleControl,I=r("./MapStore2/node_modules/lodash/lodash.js").partial,D=r("./node_modules/object-assign/index.js"),N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,r,n,a=u(p);function p(){var e;s(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(f(e=a.call.apply(a,[this].concat(r))),"getToolConfig",(function(t){return t.tool?{}:e.props.toolCfg})),m(f(e),"getTool",(function(t){if(t.tool)return!0===t.tool?t.plugin:t.tool;var r=function(){return{}},n={};return t.exclusive?(r=function(r){return{active:r.controls&&r.controls[e.props.stateSelector]&&r.controls[e.props.stateSelector].active===t.name}},n[e.props.eventSelector]=L.bind(null,e.props.stateSelector,"active",t.name,!0)):t.toggle?(r=function(r){return{bsStyle:r.controls[t.toggleControl||t.name]&&r.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]?e.props.activeStyle:e.props.toolStyle,active:r.controls[t.toggleControl||t.name]&&r.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]||!1}},n[e.props.eventSelector]=R.bind(null,t.toggleControl||t.name,t.toggleProperty||null)):t.action&&(n[e.props.eventSelector]=I(t.action,e.context),r=t.selector||r),g(r,n,(function(t,r,n){return e.mergeHandlers(i(i({},n),t),r)}))(e.props.tool)})),m(f(e),"renderTool",(function(t,r){if(t.element)return t.element;var n=t.help?y.createElement(w,{className:"mapstore-helpbadge",helpText:t.help}):y.createElement("span",null),a=t.tooltip?y.createElement(E,{msgId:t.tooltip}):null,i=e.getTool(t),s=e.getToolConfig(t),l=t.childTools||[];return e.addTooltip(y.createElement(i,o({},s,{pluginCfg:t.cfg,tooltip:a,style:t.style,btnSize:e.props.toolSize,bsStyle:e.props.toolStyle,help:n,key:t.name||"tool"+r,mapType:e.props.mapType},t.cfg,{items:t.items||[]}),t.cfg&&t.cfg.glyph?y.createElement(M,{glyph:t.cfg.glyph}):t.icon,n," ",t.text,l.length>0&&y.createElement(p,o({},t.innerProps,{mapType:e.props.mapType,tools:l,panels:t.childPanels}))),t)})),m(f(e),"renderTools",(function(){return e.props.tools.map(e.renderTool)})),m(f(e),"renderPanels",(function(){return e.props.panels.filter((function(e){return!e.panel.loadPlugin})).map((function(t){var r=t.panel,n=y.createElement(r,o({key:t.name,mapType:e.props.mapType},t.cfg,t.props||{},{items:t.items||[]})),a=t.title?y.createElement(E,{msgId:t.title}):null;return t.wrap?y.createElement(x,{key:"mapToolBar-item-collapse-"+t.name,in:e.props.activePanel===t.name},y.createElement(_,{header:a,style:e.props.panelStyle,className:e.props.panelClassName},n)):n}))})),m(f(e),"mergeHandlers",(function(e,t){return Object.keys(t).reduce((function(r,n){return D(r,m({},n,e[n]?h(e[n],t[n]):t[n]))}),e)})),m(f(e),"addTooltip",(function(t,r){if(r.tooltip){var n=y.createElement(A,{id:e.props.id+"-"+r.name+"-tooltip"},y.createElement(E,{msgId:r.tooltip}));return y.createElement(P,{key:e.props.id+"-"+r.name+"-overlay",rootClose:!0,placement:"left",overlay:n},t)}return t})),e}return t=p,(r=[{key:"render",value:function(){var e=this.props.container;return y.createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},y.createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}])&&l(t.prototype,r),n&&l(t,n),p}(y.Component);m(N,"propTypes",{id:b.string.isRequired,container:b.func,containerWrapperStyle:b.object,tool:b.func,className:b.string,style:b.object,tools:b.array,panels:b.array,mapType:b.string,toolStyle:b.string,activeStyle:b.string,toolSize:b.string,stateSelector:b.string.isRequired,eventSelector:b.string,panelStyle:b.object,panelClassName:b.string,activePanel:b.string,toolCfg:b.object}),m(N,"contextTypes",{messages:b.object,router:b.object}),m(N,"defaultProps",{container:_,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:T,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}}),e.exports=N},"./MapStore2/web/client/plugins/help/HelpWrapper.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./MapStore2/web/client/actions/help.js"),a=o.changeHelpwinVisibility,i=o.changeHelpText;e.exports=n((function(e){return{helpEnabled:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:i,changeHelpwinVisibility:a})(r("./MapStore2/web/client/components/help/HelpWrapper.jsx"))},"./MapStore2/web/client/plugins/identify/featureButtons.js":function(e,t){e.exports=function(e){var t=e.showHighlightFeatureButton,r=e.currentFeature,n=e.highlight,o=e.toggleHighlightFeature,a=void 0===o?function(){}:o,i=e.zoomToFeature,s=void 0===i?function(){}:i;return[{glyph:"map-filter",visible:t,tooltipId:n?"identifyStopHighlightingFeatures":"identifyHighlightFeatures",bsStyle:n?"success":"primary",onClick:function(){return a(!n)}},{glyph:"zoom-to",visible:n&&!!r&&r.length>0&&r.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.geometry;return e||!!r}),!1)||!1,tooltipId:"identifyZoomToFeature",onClick:s}]}},"./MapStore2/web/client/plugins/identify/identify.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/identify/toolButtons.js":function(e,t){function r(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}e.exports=function(e){e.showHighlightFeatureButton,e.currentFeature,e.highlight;var t=e.onEdit,n=void 0===t?function(){}:t,o=r(e,["showHighlightFeatureButton","currentFeature","highlight","onEdit"]);return[{glyph:"info-sign",tooltipId:"identifyRevGeocodeSubmitText",visible:o.latlng&&o.enableRevGeocode&&o.lngCorrected&&o.showMoreInfo,onClick:function(){o.showRevGeocode({lat:o.latlng.lat,lng:o.lngCorrected})}},{glyph:"search-coords",tooltipId:o.showCoordinateEditor?"identifyHideCoordinateEditor":"identifyShowCoordinateEditor",visible:o.enabledCoordEditorButton,bsStyle:o.showCoordinateEditor?"success":"primary",onClick:function(){o.onToggleShowCoordinateEditor(o.showCoordinateEditor)}},{glyph:"pencil",visible:o.showEdit,tooltipId:"identifyEdit",onClick:function(){return n()}}].filter((function(e){return e&&e.visible}))}},"./MapStore2/web/client/plugins/locale/Message.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect;e.exports=n((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(r("./MapStore2/web/client/components/I18N/Message.jsx"))},"./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$":function(e,t,r){var n={"./cesium/index":"./MapStore2/web/client/plugins/map/cesium/index.js","./leaflet/index":"./MapStore2/web/client/plugins/map/leaflet/index.js","./openlayers/index":"./MapStore2/web/client/plugins/map/openlayers/index.js"};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id="./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$"},"./MapStore2/web/client/plugins/map/cesium/index.js":function(e,t,r){e.exports={LMap:r("./MapStore2/web/client/components/map/cesium/Map.jsx"),Layer:r("./MapStore2/web/client/components/map/cesium/Layer.jsx")}},"./MapStore2/web/client/plugins/map/css/map.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/map/index.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/reselect/es/index.js").createSelector,a=r("./MapStore2/web/client/actions/map.js"),i=a.creationError,s=a.changeMapView,l=a.clickOnMap,c=a.mouseMove,u=a.mouseOut,p=r("./MapStore2/web/client/actions/mapPopups.js").removePopup,f=r("./MapStore2/web/client/actions/layers.js"),d=f.layerLoading,m=f.layerLoad,y=f.layerError,b=r("./MapStore2/web/client/actions/measurement.js"),g=b.changeMeasurementState,h=b.changeGeometry,v=b.resetGeometry,S=b.updateMeasures,O=b.setTextLabels,w=r("./MapStore2/web/client/selectors/measurement.js").measurementSelector,E=r("./MapStore2/web/client/actions/selection.js").changeSelectionState,j=r("./MapStore2/web/client/actions/locate.js"),T=j.changeLocateState,A=j.onLocateError,_=r("./MapStore2/web/client/actions/draw.js"),x=_.changeDrawingStatus,M=_.endDrawing,P=_.setCurrentStyle,C=_.geometryChanged,L=_.drawStopped,R=_.selectFeatures,I=_.drawingFeatures,D=r("./MapStore2/web/client/actions/highlight.js").updateHighlighted,N=r("./MapStore2/web/client/actions/notifications.js").warning,k=r("./node_modules/react-redux/es/index.js").connect,F=r("./node_modules/object-assign/index.js"),G=r("./MapStore2/web/client/selectors/map.js"),U=G.projectionDefsSelector,B=G.isMouseMoveActiveSelector,H=function(){return n.createElement("span",null)};e.exports=function(e,t){var n=r("./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$")("./"+e+"/index"),a=k((function(e){return{projectionDefs:U(e),mousePosition:B(e)}}),F({},{onCreationError:i,onMapViewChanges:s,onClick:l,onMouseMove:c,onLayerLoading:d,onLayerLoad:m,onLayerError:y,onWarning:N,onMouseOut:u},t),(function(e,t,r){return F({},r,e,F({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(n.LMap),f=k((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:w(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}}}}),{changeMeasurementState:g,updateMeasures:S,resetGeometry:v,changeGeometry:h,setTextLabels:O})(n.MeasurementSupport||H),b=k((function(e){return{status:e.locate&&e.locate.state,messages:e.locale&&e.locale.messages?e.locale.messages.locate:void 0}}),{changeLocateState:T,onLocateError:A})(n.Locate||H),j=k((function(e){return e.draw||{}}),{onChangeDrawingStatus:x,onEndDrawing:M,onGeometryChanged:C,onSelectFeatures:R,onDrawingFeatures:I,onDrawStopped:L,setCurrentStyle:P})(n.DrawSupport||H),_=k((function(e){return e.highlight||{}}),{updateHighlighted:D})(n.HighlightFeatureSupport||H),G=k((function(e){return{selection:e.selection||{}}}),{changeSelectionState:E})(n.SelectionSupport||H);r("./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$")("./"+e+"/plugins/index");var z=k(null,{onWarning:N})(n.Layer||H),V=[],W=k(o((function(e){return e.mapPopups&&e.mapPopups.popups||V}),(function(e){return{popups:e}})),{onPopupClose:p})(n.PopupSupport||H);return{Map:a,Layer:z,Feature:n.Feature||H,tools:{measurement:f,locate:b,overview:n.Overview||H,scalebar:n.ScaleBar||H,draw:j,highlight:_,selection:G,popup:W}}}},"./MapStore2/web/client/plugins/map/leaflet/index.js":function(e,t,r){e.exports={LMap:r("./MapStore2/web/client/components/map/leaflet/Map.jsx"),Layer:r("./MapStore2/web/client/components/map/leaflet/Layer.jsx"),Feature:r("./MapStore2/web/client/components/map/leaflet/Feature.jsx"),Locate:r("./MapStore2/web/client/components/map/leaflet/Locate.jsx"),MeasurementSupport:r("./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx"),Overview:r("./MapStore2/web/client/components/map/leaflet/Overview.jsx"),ScaleBar:r("./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx"),DrawSupport:r("./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx"),HighlightFeatureSupport:r("./MapStore2/web/client/components/map/leaflet/HighlightFeatureSupport.jsx"),PopupSupport:r("./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx").default}},"./MapStore2/web/client/plugins/map/openlayers/index.js":function(e,t,r){var n=r("./MapStore2/web/client/components/I18N/enhancers/addI18NProps.js")(["formatNumber"]);e.exports={LMap:r("./MapStore2/web/client/components/map/openlayers/Map.jsx").default,Layer:r("./MapStore2/web/client/components/map/openlayers/Layer.jsx").default,Feature:r("./MapStore2/web/client/components/map/openlayers/Feature.jsx").default,Locate:r("./MapStore2/web/client/components/map/openlayers/Locate.jsx").default,MeasurementSupport:n(r("./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx").default),Overview:r("./MapStore2/web/client/components/map/openlayers/Overview.jsx").default,ScaleBar:r("./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx").default,DrawSupport:r("./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx").default,HighlightFeatureSupport:r("./MapStore2/web/client/components/map/openlayers/HighlightFeatureSupport.jsx").default,SelectionSupport:r("./MapStore2/web/client/components/map/openlayers/SelectionSupport.jsx").default,PopupSupport:r("./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx").default}},"./MapStore2/web/client/plugins/map/selector.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/reselect/es/index.js"),o=r("./MapStore2/web/client/selectors/map.js"),a=r("./MapStore2/web/client/selectors/maptype.js"),i=r("./MapStore2/web/client/selectors/layers.js"),s=r("./MapStore2/web/client/selectors/highlight.js"),l=r("./MapStore2/web/client/selectors/security.js"),c=r("./MapStore2/web/client/selectors/locale.js"),u=r("./MapStore2/web/client/selectors/localizedLayerStyles.js");t.default=Object(n.createStructuredSelector)({projectionDefs:o.projectionDefsSelector,map:o.mapSelector,mapType:a.mapTypeSelector,layers:i.layerSelectorWithMarkers,features:s.highlighedFeatures,loadingError:function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data},securityToken:l.securityTokenSelector,elevationEnabled:o.isMouseMoveCoordinatesActiveSelector,shouldLoadFont:a.isOpenlayers,isLocalizedLayerStylesEnabled:u.isLocalizedLayerStylesEnabledSelector,localizedLayerStylesName:u.localizedLayerStylesNameSelector,currentLocaleLanguage:c.currentLocaleLanguageSelector})},"./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/playback/Playback.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-redux/es/index.js").connect,a=r("./node_modules/reselect/es/index.js").createSelector,i=r("./node_modules/recompose/es/Recompose.js"),s=i.compose,l=i.withState,c=i.withProps,u=i.withHandlers,p=r("./MapStore2/web/client/selectors/timeline.js").selectedLayerSelector,f=r("./MapStore2/web/client/selectors/playback.js"),d=f.statusSelector,m=f.hasPrevNextAnimationSteps,y=f.playbackMetadataSelector,b=r("./MapStore2/web/client/actions/playback.js"),g=b.animationStepMove,h=b.STATUS,v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),O=r("./MapStore2/web/client/plugins/playback/Settings.jsx"),w=s(l("showSettings","onShowSettings",!1),l("collapsed","setCollapsed",!0),c((function(e){var t=e.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return t(!0)}}]}}))),E=s(o(a(d,p,y,m,(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return t?e===h.PLAY||e===h.PAUSE?n:{hasNext:!!r.next,hasPrevious:!!r.previous}:{hasNext:!0,hasPrevious:!0}})),{stepMove:g}),u({forward:function(e){var t=e.stepMove,r=void 0===t?function(){}:t;return function(){return r(1)}},backward:function(e){var t=e.stepMove,r=void 0===t?function(){}:t;return function(){return r(-1)}}})),j=s(w,E);e.exports=j((function(e){var t=e.status,r=e.statusMap,o=e.play,a=void 0===o?function(){}:o,i=e.forward,s=void 0===i?function(){}:i,l=e.backward,c=void 0===l?function(){}:l,u=e.pause,p=void 0===u?function(){}:u,f=e.stop,d=void 0===f?function(){}:f,m=e.hasPrevious,y=e.hasNext,b=e.showSettings,g=e.onShowSettings,h=void 0===g?function(){}:g,w=e.settingsStyle,E=void 0===w?{}:w;return n.createElement("div",{style:{display:"flex"}},t!==r.PLAY&&t!==r.PAUSE&&b&&n.createElement(O,{style:E}),n.createElement(S,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:c,disabled:!m,tooltip:n.createElement(v,{msgId:"playback.backwardStep"})},{glyph:t===r.PLAY?"pause":"play",key:"play",active:t===r.PLAY||t===r.PAUSE,disabled:!y,bsStyle:t===r.PLAY||t===r.PAUSE?"success":"primary",onClick:function(){return t===r.PLAY?p():a()},tooltipId:y&&(t===r.PLAY?"playback.pause":t===r.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:t!==r.PLAY&&t!==r.PAUSE,onClick:d,tooltip:!(t!==r.PLAY&&t!==r.PAUSE)&&n.createElement(v,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:s,disabled:!y,tooltip:y&&n.createElement(v,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:t!==r.PLAY&&t!==r.PAUSE&&b?"success":"primary",active:(t!==r.PLAY||t!==r.PAUSE)&&!!b,disabled:t===r.PLAY||t===r.PAUSE,onClick:function(){return t!==r.PLAY&&h(!b)},tooltip:!(t===r.PLAY||t===r.PAUSE)&&n.createElement(v,{msgId:"playback.settings.tooltip"})}]}))}))},"./MapStore2/web/client/plugins/playback/Settings.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react-redux/es/index.js").connect,i=r("./node_modules/reselect/es/index.js").createSelector,s=r("./node_modules/moment/moment.js"),l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.withProps,p=l.withHandlers,f=r("./MapStore2/web/client/selectors/playback.js"),d=f.playbackSettingsSelector,m=f.playbackRangeSelector,y=r("./MapStore2/web/client/selectors/timeline.js"),b=y.selectedLayerSelector,g=y.rangeSelector,h=y.selectedLayerDataRangeSelector,v=r("./MapStore2/web/client/actions/playback.js"),S=v.selectPlaybackRange,O=v.changeSetting,w=v.toggleAnimationMode,E=r("./MapStore2/web/client/actions/timeline.js").onRangeChanged;e.exports=c(a(i(d,b,m,(function(e,t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fixedStep:!t,playbackRange:r},e)})),{setPlaybackRange:S,onSettingChange:O,toggleAnimationMode:w}),c(a(i(g,h,(function(e,t){return{layerRange:t,viewRange:e}})),{moveTo:E}),p({toggleAnimationRange:function(e){var t=e.fixedStep,r=e.layerRange,n=e.viewRange,o=void 0===n?{}:n,a=e.setPlaybackRange,i=void 0===a?function(){}:a;return function(e){var n=t?o:r;n={startPlaybackTime:s(n&&n.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:s(n&&n.end||new Date).add(1,"days").toISOString()},i(e?n:void 0)}},setPlaybackToCurrentViewRange:function(e){var t=e.viewRange,r=void 0===t?{}:t,n=e.setPlaybackRange,o=void 0===n?function(){}:n;return function(){r.start&&r.end&&o({startPlaybackTime:s(r.start).toISOString(),endPlaybackTime:s(r.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(e){var t=e.setPlaybackRange,r=void 0===t?function(){}:t,n=e.layerRange;return function(){return n&&r({startPlaybackTime:n.start,endPlaybackTime:n.end})}}}),u((function(e){var t=e.playbackRange,r=e.fixedStep,n=e.moveTo,o=void 0===n?function(){}:n,a=e.setPlaybackToCurrentViewRange,i=void 0===a?function(){}:a,s=e.setPlaybackToCurrentLayerDataRange,l=void 0===s?function(){}:s;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return o({start:t.startPlaybackTime,end:t.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return i()}},{glyph:"1-layer",visible:!r,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return l()}}]}}))))(r("./MapStore2/web/client/components/playback/Settings.jsx"))},"./MapStore2/web/client/plugins/print/print.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/timeline/Timeline.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react/index.js"),s=r("./node_modules/react-redux/es/index.js").connect,l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.isString,u=l.differenceBy,p=l.isNil,f=r("./MapStore2/web/client/selectors/dimension.js").currentTimeSelector,d=r("./MapStore2/web/client/actions/timeline.js"),m=d.selectTime,y=d.selectLayer,b=d.onRangeChanged,g=r("./MapStore2/web/client/selectors/timeline.js"),h=g.itemsSelector,v=g.loadingSelector,S=g.selectedLayerSelector,O=g.currentTimeRangeSelector,w=g.rangeSelector,E=g.timelineLayersSelector,j=r("./MapStore2/web/client/actions/dimension.js"),T=j.moveTime,A=j.setCurrentOffset,_=r("./MapStore2/web/client/actions/playback.js").selectPlaybackRange,x=r("./MapStore2/web/client/selectors/playback.js"),M=x.playbackRangeSelector,P=x.statusSelector,C=r("./node_modules/reselect/es/index.js"),L=C.createStructuredSelector,R=C.createSelector,I=r("./MapStore2/web/client/utils/ReselectUtils.js").createShallowSelectorCreator,D=r("./node_modules/recompose/es/Recompose.js"),N=D.compose,k=D.withPropsOnChange,F=D.defaultProps,G=r("./MapStore2/web/client/components/misc/enhancers/withMask.js"),U=r("./MapStore2/web/client/components/I18N/Message.jsx"),B=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),H=r("./MapStore2/web/client/components/time/enhancers/customTimesHandlers.js"),z=r("./MapStore2/web/client/components/time/enhancers/customTimesEnhancer.js"),V=r("./node_modules/moment/moment.js"),W=N(s(R(w,h,I((function(e,t){return e===t||!p(e)&&!p(t)&&e.id===t.id&&e.title===t.title&&e.name===t.name}))(E,(function(e){return e})),v,(function(e,t,r,n){return{viewRange:e,items:t,layers:r,loading:n}}))),k((function(e,t){var r=e.layers,n=void 0===r?[]:r,o=e.loading,a=e.selectedLayer,i=t.layers,s=t.loading,l=t.selectedLayer,c=e.hideLayersName!==t.hideLayersName;return o!==s||a!==l||c||n&&i&&n.length!==i.length||u(n,i||[],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.title,n=e.name;return t+r+n})).length>0}),(function(e){var t=e.layers,r=void 0===t?[]:t,n=e.loading,o=void 0===n?{}:n,a=e.selectedLayer;return{groups:r.map((function(e){return{id:e.id,className:(o[e.id]?"loading":"")+(e.id&&e.id===a?" selected":""),content:'<div class="timeline-layer-label-container">'+(o[e.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(e.id&&e.id===a?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat(c(e.title)?e.title:e.name,"</div>")+"</div>"}}))}}))),Y=N(s(R(f,O,(function(e,t){return{currentTime:e,currentTimeRange:t}})),{setCurrentTime:m,moveCurrentRange:T,setOffset:A})),q=N(s(L({playbackRange:M,status:P}),{setPlaybackRange:_})),Z=N(s(R(S,(function(e){return{selectedLayer:e}})),{selectGroup:y})),K=N(s((function(){return{}}),{rangechangedHandler:b})),Q=N(Y,q,Z,H,K,W,F({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(e){return V(e).utc()}}}),k(["viewRange","options"],(function(e){var t=e.viewRange,r=void 0===t?{}:t;return{options:o(o({},e.options),r)}})),k(["status"],(function(e){return{readOnly:"PLAY"===e.status}})),z,G((function(e){var t=e.loading;return t&&t.timeline}),(function(){return i.createElement("div",{style:{margin:"auto",fontWeight:"bold"}},i.createElement(B,{style:{display:"inline-block",verticalAlign:"middle"}}),i.createElement(U,{msgId:"loading"}))}),{white:!0})),X=r("./MapStore2/web/client/components/time/TimelineComponent.jsx");e.exports=Q(X)},"./MapStore2/web/client/plugins/timeline/TimelineToggle.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/rxjs/Rx.js"),c=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r("./node_modules/react-bootstrap/es/index.js"),p=u.Button,f=u.Glyphicon,d=r("./MapStore2/web/client/actions/timeline.js").setCollapsed,m=r("./MapStore2/web/client/selectors/timeline.js"),y=m.isCollapsed,b=m.hasLayers,g=r("./node_modules/recompose/es/Recompose.js"),h=g.compose,v=g.withHandlers,S=g.withProps,O=g.renderNothing,w=g.branch,E=g.mapPropsStream,j=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),T=r("./node_modules/reselect/es/index.js").createSelector,A=r("./node_modules/react-redux/es/index.js").connect,_=r("./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js"),x=h(S({collapseHintPopoverOptions:{placement:"top",props:{title:s.createElement("span",null,s.createElement(f,{glyph:"time"})," ",s.createElement("strong",null,s.createElement(c,{msgId:"timeline.collapsed.title"})))},content:s.createElement(c,{msgId:"timeline.collapsed.tooltip"})}}),E((function(e){return e.combineLatest(function(e){return e.distinctUntilKeyChanged("collapsed").filter((function(e){return e.collapsed})).take(1).switchMap((function(e){var t=e.collapseHintPopoverOptions;return l.Observable.timer(5e3).startWith({popoverOptions:t}).concat(l.Observable.of({}))})).startWith({})}(e),(function(e,t){return a(a({},e),t)}))})),w((function(e){return e.popoverOptions}),_,j))(p);e.exports=h(A(T(y,b,(function(e,t){return{collapsed:e,visible:t}})),{setCollapsed:d}),w((function(e){return!e.visible}),O),v({onClick:function(e){var t=e.collapsed,r=e.setCollapsed;return function(){return r(!t)}}}),S((function(e){var t=e.collapsed;return{bsStyle:t?"primary":"success",tooltipId:t?"timeline.show":"timeline.hide"}})))((function(e){return s.createElement(x,n({},e,{bsSize:"xsmall"}),s.createElement(f,{glyph:"time"}))}))},"./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/product/assets/symbols/symbolMissing.svg":function(e,t,r){e.exports=r.p+"symbolMissing.svg"},"./MapStore2/web/client/reducers/additionallayers.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./MapStore2/web/client/actions/additionallayers.js"),c=l.UPDATE_ADDITIONAL_LAYER,u=l.REMOVE_ADDITIONAL_LAYER,p=l.UPDATE_OPTIONS_BY_OWNER,f=l.REMOVE_ALL_ADDITIONAL_LAYERS,d=r("./MapStore2/node_modules/lodash/lodash.js"),m=d.head,y=d.pickBy,b=d.identity,g=d.isObject,h=d.isArray;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var r=y({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},b),o=m(e.filter((function(e){return e.id===r.id})));return o?e.map((function(e){return e.id===r.id?i(i({},o),r):i({},e)})):[].concat(n(e),[r]);case p:var a=t.options,s=t.owner;return e.map((function(e,t){return e.owner===s?i(i({},e),{},{options:g(a)&&a[e.id]||h(a)&&a[t]||{}}):i({},e)}));case u:var l=t.id,d=t.owner;return d?e.filter((function(e){return e.owner!==d})):e.filter((function(e){return e.id!==l}));case f:return[];default:return e}}},"./MapStore2/web/client/reducers/backgroundselector.js":function(e,t,r){var n=r("./MapStore2/web/client/actions/backgroundselector.js"),o=n.ADD_BACKGROUND,a=n.SET_BACKGROUND_MODAL_PARAMS,i=n.UPDATE_BACKGROUND_THUMBNAIL,s=n.BACKGROUNDS_CLEAR,l=n.ALLOW_BACKGROUNDS_DELETION,c=n.REMOVE_BACKGROUND,u=n.CREATE_BACKGROUNDS_LIST,p=n.CLEAR_MODAL_PARAMETERS,f=n.CONFIRM_DELETE_BACKGROUND_MODAL,d=r("./MapStore2/web/client/actions/catalog.js").RESET_CATALOG,m=r("./node_modules/object-assign/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return m({},e,{source:t.source});case d:return m({},e,{source:"metadataExplorer"});case a:return m({},e,{modalParams:t.modalParams});case s:return m({},e,{backgrounds:[],removedBackgroundsThumbIds:[],modalParams:{},lastRemovedId:void 0});case i:if(t.id){var r=e.backgrounds||[],n=-1===r.findIndex((function(e){return e.id===t.id})),y=n?r.concat({id:t.id}):r,b=y.map((function(e){return e.id===t.id?m({},e,{id:t.id,thumbnail:t.thumbnailData}):m({},e)}));return m({},e,{backgrounds:b})}return e;case p:return m({},e,{modalParams:void 0});case c:var g=e.backgrounds||[],h=e.removedBackgroundsThumbIds||[],v=g.filter((function(e){return e.id!==t.backgroundId})),S=g.filter((function(e){return e.id===t.backgroundId&&!!e.thumbId})).map((function(e){return e.thumbId}));return m({},e,{backgrounds:v,removedBackgroundsThumbIds:h.concat(S),lastRemovedId:t.backgroundId});case u:return m({},e,{backgrounds:t.backgrounds});case f:return m({},e,{confirmDeleteBackgroundModal:{show:t.show,layerTitle:t.layerTitle,layerId:t.layerId}});case l:return m({},e,{allowDeletion:t.allow||!1});default:return e}}},"./MapStore2/web/client/reducers/dimension.js":function(e,t,r){var n=r("./MapStore2/web/client/actions/dimension.js"),o=n.UPDATE_LAYER_DIMENSION_DATA,a=n.SET_CURRENT_TIME,i=n.SET_OFFSET_TIME,s=n.MOVE_TIME,l=r("./MapStore2/web/client/actions/layers.js").REMOVE_NODE,c=r("./MapStore2/web/client/actions/controls.js").RESET_CONTROLS,u=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,p=r("./node_modules/moment/moment.js"),f=r("./MapStore2/node_modules/lodash/lodash.js"),d=f.mapValues,m=f.pickBy;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return u("data[".concat(t.dimension,"][").concat(t.layerId,"]"),t.data,e);case a:return u("currentTime",t.time,e);case i:return u("offsetTime",t.offsetTime,e);case s:if(e.offsetTime&&e.currentTime){var r=p(e.offsetTime).diff(e.currentTime),n=p(t.time).add(r);return u("currentTime",t.time,u("offsetTime",n.toISOString(),e))}return u("currentTime",t.time,e);case l:var f=d(e.data,(function(e){return m(e,(function(e,r){return r!==t.node}))}));return u("data",f,e);case c:return u("data",void 0,u("currentTime",void 0,u("offsetTime",void 0,e)));default:return e}}},"./MapStore2/web/client/reducers/draw.js":function(e,t,r){var n=r("./MapStore2/web/client/actions/draw.js"),o=n.CHANGE_DRAWING_STATUS,a=n.SET_CURRENT_STYLE,i=n.GEOMETRY_CHANGED,s=n.DRAW_SUPPORT_STOPPED,l=r("./node_modules/object-assign/index.js"),c={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return l({},e,{drawStatus:t.status,drawOwner:t.owner,drawMethod:t.method,options:t.options,features:t.features,style:t.style});case a:return l({},e,{currentStyle:t.currentStyle});case i:return l({},e,{tempFeatures:t.features});case s:return l({},e,{tempFeatures:[]});default:return e}}},"./MapStore2/web/client/reducers/highlight.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/web/client/actions/highlight.js"),s=i.HIGHLIGHT_STATUS,l=i.UPDATE_HIGHLIGHTED,c=i.SET_HIGHLIGHT_FEATURES_PATH,u=r("./node_modules/object-assign/index.js"),p={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return u({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case s:return o(o({},e),{},{status:t.status});case l:return o(o({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}}},"./MapStore2/web/client/reducers/mapInfo.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r("./MapStore2/web/client/actions/mapInfo.js"),u=c.ERROR_FEATURE_INFO,p=c.EXCEPTIONS_FEATURE_INFO,f=c.LOAD_FEATURE_INFO,d=c.CHANGE_MAPINFO_STATE,m=c.NEW_MAPINFO_REQUEST,y=c.PURGE_MAPINFO_RESULTS,b=c.CHANGE_MAPINFO_FORMAT,g=c.SHOW_MAPINFO_MARKER,h=c.HIDE_MAPINFO_MARKER,v=c.SHOW_REVERSE_GEOCODE,S=c.HIDE_REVERSE_GEOCODE,O=c.GET_VECTOR_INFO,w=c.NO_QUERYABLE_LAYERS,E=c.CLEAR_WARNING,j=c.FEATURE_INFO_CLICK,T=c.TOGGLE_HIGHLIGHT_FEATURE,A=c.CHANGE_PAGE,_=c.TOGGLE_MAPINFO_STATE,x=c.UPDATE_CENTER_TO_MARKER,M=c.TOGGLE_EMPTY_MESSAGE_GFI,P=c.CHANGE_FORMAT,C=c.TOGGLE_SHOW_COORD_EDITOR,L=c.SET_CURRENT_EDIT_FEATURE_QUERY,R=c.SET_MAP_TRIGGER,I=r("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,D=r("./MapStore2/web/client/actions/controls.js").RESET_CONTROLS,N=r("./node_modules/object-assign/index.js"),k=r("./MapStore2/node_modules/lodash/lodash.js"),F=k.findIndex,G=k.isUndefined,U=r("./MapStore2/web/client/utils/MapInfoUtils.js").getValidator;function B(e,t,r){var n="vector"===r,a=F(e.requests||[],n?function(e){return!e.reqId}:function(e){return e.reqId===t.reqId});if(-1!==a){if(["exceptions","error"].includes(r)){var i=e.requests.filter((function(e,t){return t!==a})),l=e.responses.filter((function(e,t){return t!==a}));return s(s({},e),{},{responses:l,requests:i})}var c,u=e.configuration,p=e.requests,f=e.responses||[],d="hover"===(null==u?void 0:u.trigger);if(!n){var m={response:t[r],queryParams:t.requestParams,layerMetadata:t.layerMetadata,layer:t.layer};d?f=[].concat(o(f),[m]):f[a]=m}return d?c={loaded:!0,index:0}:!d&&function(e,t,r,n){var o,a,i=e.configuration,s=e.requests,l=e.queryableLayers,c=e.index,u=(i||{}).infoFormat,p=null===(o=U(u))||void 0===o?void 0:o.getValidResponses([t[r]],!0),f=null===(a=U(u))||void 0===a?void 0:a.getNoValidResponses(t,!0);return G(c)&&!!p.length||!n&&s.length===f.filter((function(e){return e})).length||n&&1===s.length&&1===l.length}(e,f,a,n)&&(c={loaded:!0,index:a}),N({},e,s(s(s({},n&&{requests:p}),!G(c)&&c),{},{responses:o(f)}))}return e}var H={enabled:!0,configuration:{}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return N({},e,{warning:"NO_QUERYABLE_LAYERS"});case E:return N({},e,{warning:null});case d:return N({},e,{enabled:t.enabled});case _:return N({},e,{enabled:!e.enabled});case A:return N({},e,{index:t.index});case T:return N({},e,{highlight:t.enabled});case m:var a=t.reqId,i=t.request,l=e.requests||[];return N({},e,{requests:[].concat(o(l),[{request:i,reqId:a}])});case y:e.index,e.loaded;var c=n(e,["index","loaded"]);return s(s({},c),{},{queryableLayers:[],responses:[],requests:[]});case f:return B(e,t,"data");case p:return B(e,t,"exceptions");case u:return B(e,t,"error");case j:return N({},e,{clickPoint:t.point,clickLayer:t.layer||null,itemId:t.itemId||null,overrideParams:t.overrideParams||null,filterNameList:t.filterNameList||null});case b:return s(s({},e),{},{configuration:s(s({},e.configuration),{},{infoFormat:t.infoFormat})});case g:return N({},e,{showMarker:!0});case h:return N({},e,{showMarker:!1});case v:return N({},e,{showModalReverse:!0,reverseGeocodeData:t.reverseGeocodeData});case S:return N({},e,{showModalReverse:!1,reverseGeocodeData:void 0});case D:return N({},e,{showMarker:!1,responses:[],requests:[]});case O:var k,F=r("./node_modules/turf-buffer/index.js"),G=r("./node_modules/turf-intersect/index.js"),U={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.request.lng,t.request.lat]}},z=t.metadata&&t.metadata.units;switch(z){case"m":z="meters";break;case"deg":z="degrees";break;case"mi":z="miles";break;default:z="meters"}var V=t.metadata&&t.metadata.resolution||1,W=F(U,(t.metadata.buffer||1)*V,z),Y=(t.layer.features||[]).filter((function(e){try{return"FeatureCollection"===e.type&&e.features&&e.features.length?e.features.reduce((function(e,r){var n=r.properties.useGeodesicLines&&r.properties.geometryGeodesic?s(s({},r),{},{geometry:r.properties.geometryGeodesic}):r;return e||G(W,V&&t.metadata.buffer&&z?F(n,1,"meters"):n)}),!1):G(W,V&&t.metadata.buffer&&z?F(e,1,"meters"):e)}catch(e){return!1}})),q=e.responses||[],Z="hover"===(null==e||null===(k=e.configuration)||void 0===k?void 0:k.trigger)||!1,K={response:{crs:null,features:Y,totalFeatures:"unknown",type:"FeatureCollection"},queryParams:t.request,layerMetadata:t.metadata,format:"JSON"};Z?q=[].concat(o(q),[K]):q[e.requests.length]=K;var Q=[].concat(o(e.requests),[{}]);return B(N({},e,{requests:Q,queryableLayers:t.queryableLayers,responses:o(q)}),null,"vector");case x:return N({},e,{centerToMarker:t.status});case M:return s(s({},e),{},{configuration:s(s({},e.configuration),{},{showEmptyMessageGFI:!e.configuration.showEmptyMessageGFI})});case I:return s(s({},e),{},{configuration:t.config.mapInfoConfiguration||e.configuration||{}});case P:return s(s({},e),{},{formatCoord:t.format});case C:return s(s({},e),{},{showCoordinateEditor:!t.showCoordinateEditor});case L:return s(s({},e),{},{currentEditFeatureQuery:t.query});case R:return s(s({},e),{},{configuration:s(s({},e.configuration),{},{trigger:t.trigger})});default:return e}}},"./MapStore2/web/client/reducers/maplayout.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=r("./MapStore2/web/client/actions/maplayout.js").UPDATE_MAP_LAYOUT,l=r("./node_modules/object-assign/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{layout:{},boundingMapRect:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var r=t.layout,n=r.boundingMapRect,a=void 0===n?{}:n,c=i(r,["boundingMapRect"]);return l({},e,{layout:l({},c,c),boundingMapRect:o({},a)});default:return e}}},"./MapStore2/web/client/reducers/maps.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./MapStore2/web/client/actions/maps.js"),c=l.MAPS_LIST_LOADED,u=l.MAPS_LIST_LOADING,p=l.MAPS_LIST_LOAD_ERROR,f=l.MAP_CREATED,d=l.MAP_ERROR,m=l.MAP_UPDATING,y=l.MAP_DELETING,b=l.ATTRIBUTE_UPDATED,g=l.PERMISSIONS_LIST_LOADING,h=l.THUMBNAIL_ERROR,v=l.UPDATE_DETAILS,S=l.MAPS_SEARCH_TEXT_CHANGED,O=l.SEARCH_FILTER_CHANGED,w=l.SET_SEARCH_FILTER,E=l.SET_CONTEXTS,j=l.LOADING,T=l.METADATA_CHANGED,A=l.SHOW_DETAILS,_=r("./node_modules/object-assign/index.js"),x=r("./MapStore2/node_modules/lodash/lodash.js").isNil;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,showMapDetails:!0,errors:[],searchFilter:{},searchText:"",results:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return _({},e,{searchText:t.text});case O:return _({},e,{searchFilter:i(i({},e.searchFilter),{},s({},t.filter,t.filterData))});case w:return _({},e,{searchFilter:t.searchFilter});case E:return _({},e,{contexts:t.contexts});case j:return _({},e,{loading:t.value,loadFlags:i(i({},e.loadFlags||{}),"loading"!==t.name?s({},t.name,t.value):{})});case T:return _({},e,{metadata:_({},e.metadata,s({},t.prop,t.value))});case A:return _({},e,{showMapDetails:t.showMapDetails});case u:return _({},e,{loading:!0,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});case c:if(t.maps&&t.maps.results&&Array.isArray(t.maps.results))return _({},e,t.maps,{loading:!1,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});var r=""!==t.maps.results?[t.maps.results]:[];return _({},e,t.maps,{results:r,loading:!1});case p:return{loadingError:t.error};case m:for(var o=""===e.results||x(e.results)?[]:n(e.results),a=0;a<o.length;a++)o[a].id&&o[a].id===t.resourceId&&(o[a]=_({},o[a],{updating:!0}));return _({},e,{results:o});case b:for(var l=""===e.results?[]:n(e.results),M=0;M<l.length;M++){var P;if(l[M].id&&l[M].id===t.resourceId)l[M]=_({},l[M],(s(P={},t.name,decodeURIComponent(t.value)),s(P,"updating",!1),s(P,"loadingError",t.error?t.error:null),P))}return _({},e,{results:l});case y:for(var C=""===e.results?[]:n(e.results),L=0;L<C.length;L++)C[L].id&&C[L].id===t.resourceId&&(C[L]=_({},C[L],{deleting:!0}));return _({},e,{results:C});case f:var R=""===e.results?[]:n(e.results),I={results:[].concat(n(R),[t.metadata]),totalCount:e.totalCount+1};return _({},e,I);case h:case d:for(var D=""===e.results?[]:n(e.results),N=0;N<D.length;N++)D[N].id&&D[N].id===t.resourceId&&(D[N]=_({},D[N],{updating:!1}));return _({},e,{results:D});case g:var k=""===e.results?[]:n(e.results),F=_({},e,{results:k.map((function(e){return e.id===t.mapId?_({},e,{permissionLoading:!0}):e}))});return F;case v:return i(i({},e),{},{detailsText:t.detailsText});default:return e}}},"./MapStore2/web/client/reducers/maptype.js":function(e,t,r){var n=r("./MapStore2/web/client/actions/maptype.js").MAP_TYPE_CHANGED;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n:return{mapType:t.mapType};default:return e}}},"./MapStore2/web/client/reducers/playback.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r("./MapStore2/web/client/actions/playback.js"),i=a.PLAY,s=a.PAUSE,l=a.STOP,c=a.STATUS,u=a.SET_FRAMES,p=a.APPEND_FRAMES,f=a.FRAMES_LOADING,d=a.SET_CURRENT_FRAME,m=a.SELECT_PLAYBACK_RANGE,y=a.CHANGE_SETTING,b=a.UPDATE_METADATA,g=r("./MapStore2/web/client/actions/controls.js").RESET_CONTROLS,h=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,v={timeStep:1,stepUnit:"days",frameDuration:2,following:!0};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:c.STOP,currentFrame:-1,settings:v},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return h("status",c.PLAY,e);case s:return h("status",c.PAUSE,e);case l:return h("status",c.STOP,h("currentFrame",-1,e));case u:return h("frames",t.frames,h("currentFrame",-1,e));case f:return h("framesLoading",t.loading,e);case p:return h("frames",[].concat(n(e.frames||[]),n(t.frames)),e);case d:return h("currentFrame",t.frame,e);case m:return h("playbackRange",t.range,e);case y:return h("settings[".concat(t.name,"]"),t.value,e);case b:return h("metadata",{next:t.next,previous:t.previous,forTime:t.forTime},e);case g:return h("metadata",void 0,h("framesLoading",void 0,h("playbackRange",void 0,h("frames",void 0,h("currentFrame",-1,h("status","STOP",h("settings",v,e)))))));default:return e}}},"./MapStore2/web/client/reducers/print.js":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r("./MapStore2/web/client/actions/print.js"),a=o.SET_PRINT_PARAMETER,i=o.PRINT_CAPABILITIES_LOADED,s=o.PRINT_CAPABILITIES_ERROR,l=o.CONFIGURE_PRINT_MAP,c=o.CHANGE_PRINT_ZOOM_LEVEL,u=o.CHANGE_MAP_PRINT_PREVIEW,p=o.PRINT_SUBMITTING,f=o.PRINT_CREATED,d=o.PRINT_ERROR,m=o.PRINT_CANCEL,y=r("./MapStore2/web/client/actions/controls.js").TOGGLE_CONTROL,b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.isObject,h=b.get,v=r("./node_modules/object-assign/index.js"),S={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:""},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("_")[0]};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:S,capabilities:null,map:null,isLoading:!1,pdfUrl:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return"print"===t.control?v({},e,{pdfUrl:null,isLoading:!1,error:null}):e;case i:var r=h(t,"capabilities.layouts",[{name:"A4"}]),o=r.filter((function(t){return O(t.name)===e.spec.sheet})).length?e.spec.sheet:O(r[0].name);return v({},e,{capabilities:t.capabilities,spec:v({},e.spec||{},{sheet:o,resolution:t.capabilities&&t.capabilities.dpis&&t.capabilities.dpis.length&&t.capabilities.dpis[0].value})});case a:return v({},e,{spec:v({},e.spec,n({},t.name,t.value))});case l:var b=t.layers.map((function(e){return e.title?v({},e,{title:g(e.title)&&t.currentLocale&&e.title[t.currentLocale]||g(e.title)&&e.title.default||e.title}):e}));return v({},e,{map:{center:t.center,zoom:t.zoom,scaleZoom:t.scaleZoom,scale:t.scale,layers:b,projection:t.projection},error:null});case c:var w=t.zoom-e.map.scaleZoom;return v({},e,{map:v({},e.map,{scaleZoom:t.zoom,zoom:e.map.zoom+w,scale:t.scale})});case u:return v({},e,{map:v({},e.map,{size:t.size})});case p:return v({},e,{isLoading:!0,pdfUrl:null,error:null});case f:return v({},e,{isLoading:!1,pdfUrl:t.url,error:null});case d:case s:return v({},e,{isLoading:!1,pdfUrl:null,error:t.error});case m:return v({},e,{isLoading:!1,pdfUrl:null,error:null});default:return e}}},"./MapStore2/web/client/reducers/timeline.js":function(e,t,r){var n=r("./MapStore2/web/client/actions/timeline.js").RANGE_CHANGED,o=r("./MapStore2/web/client/actions/layers.js").REMOVE_NODE,a=r("./MapStore2/web/client/actions/controls.js").RESET_CONTROLS,i=r("./MapStore2/web/client/actions/timeline.js"),s=i.RANGE_DATA_LOADED,l=i.LOADING,c=i.SELECT_LAYER,u=i.SET_COLLAPSED,p=i.SET_MAP_SYNC,f=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,d=r("./MapStore2/node_modules/lodash/lodash.js"),m=d.assign,y=d.pickBy,b=d.has;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return f("settings.collapsed",t.collapsed,e);case p:return f("settings.mapSync",t.mapSync,e);case n:return f("range",{start:t.start,end:t.end},e);case s:return f("rangeData[".concat(t.layerId,"]"),{range:t.range,histogram:t.histogram,domain:t.domain},e);case l:return t.layerId?f("loading[".concat(t.layerId,"]"),t.loading,e):f("loading.timeline",t.loading,e);case c:return f("selectedLayer",t.layerId,e);case o:var r=e;return m({},e,{rangeData:b(r.rangeData,t.node)?y(r.rangeData,(function(e,r){return r!==t.node})):r.rangeData,loading:b(r.rangeData,t.node)?y(r.loading,(function(e,r){return r!==t.node})):r.loading,selectedLayer:e.selectedLayer===t.node?void 0:e.selectedLayer});case a:return m({},e,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0});default:return e}}},"./MapStore2/web/client/selectors/backgroundselector.js":function(e,t,r){"use strict";r.r(t),r.d(t,"metadataSourceSelector",(function(){return s})),r.d(t,"modalParamsSelector",(function(){return l})),r.d(t,"backgroundListSelector",(function(){return c})),r.d(t,"isDeletedIdSelector",(function(){return u})),r.d(t,"removedBackgroundsThumbIdsSelector",(function(){return p})),r.d(t,"confirmDeleteBackgroundModalSelector",(function(){return f})),r.d(t,"backgroundControlsSelector",(function(){return d})),r.d(t,"allowBackgroundsDeletionSelector",(function(){return m})),r.d(t,"backgroundLayersSelector",(function(){return y}));var n=r("./node_modules/reselect/es/index.js"),o=r("./MapStore2/web/client/selectors/layers.js"),a=r("./MapStore2/web/client/selectors/maptype.js"),i=r("./MapStore2/web/client/utils/LayersUtils.js"),s=function(e){return e.backgroundSelector&&e.backgroundSelector.source},l=function(e){return e.backgroundSelector&&e.backgroundSelector.modalParams},c=function(e){return e.backgroundSelector&&e.backgroundSelector.backgrounds||[]},u=function(e){return e.backgroundSelector&&e.backgroundSelector.lastRemovedId},p=function(e){return e.backgroundSelector&&e.backgroundSelector.removedBackgroundsThumbIds},f=function(e){return e.backgroundSelector&&e.backgroundSelector.confirmDeleteBackgroundModal},d=function(e){return e.controls&&e.controls.backgroundSelector||{}},m=function(e){return e.backgroundSelector&&e.backgroundSelector.allowDeletion},y=Object(n.createSelector)(o.layersSelector,a.mapTypeSelector,(function(e,t){return e.filter((function(e){return e&&"background"===e.group})).map((function(e){return Object(i.invalidateUnsupportedLayer)(e,t)}))||[]}))},"./MapStore2/web/client/selectors/catalog.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/reselect/es/index.js"),s=i.createSelector,l=i.createStructuredSelector,c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.get,p=c.pick,f=function(e){return u(e,"catalog.default.staticServices")},d=function(e){return u(e,"catalog.services")},m=s(f,d,(function(e,t){return o(o({},t),p(e,"default_map_backgrounds"))})),y=function(e){return u(e,'catalog.default.staticServices["'.concat(u(e,"catalog.selectedService"),'"].type'),"csw")},b=r("./MapStore2/web/client/selectors/map.js").projectionSelector;e.exports={groupSelector:function(e){return u(e,"controls.metadataexplorer.group")},savingSelector:function(e){return u(e,"catalog.saving")},resultSelector:function(e){return u(e,"catalog.result")},serviceListOpenSelector:function(e){return u(e,"catalog.openCatalogServiceList")},newServiceSelector:function(e){return u(e,"catalog.newService")},staticServicesSelector:f,servicesSelector:d,servicesSelectorWithBackgrounds:m,newServiceTypeSelector:function(e){return u(e,"catalog.newService.type","csw")},selectedCatalogSelector:function(e){return u(e,'catalog.services["'.concat(u(e,"catalog.selectedService"),'"]'))},selectedStaticServiceTypeSelector:y,selectedServiceTypeSelector:function(e){return u(e,'catalog.services["'.concat(u(e,"catalog.selectedService"),'"].type'),y(e))},selectedServiceLayerOptionsSelector:function(e){return u(e,'catalog.services["'.concat(u(e,"catalog.selectedService"),'"].layerOptions'),{})},searchOptionsSelector:function(e){return u(e,"catalog.searchOptions")},loadingErrorSelector:function(e){return u(e,"catalog.loadingError")},loadingSelector:function(e){return u(e,"catalog.loading",!1)},selectedServiceSelector:function(e){return u(e,"catalog.selectedService")},modeSelector:function(e){return u(e,"catalog.mode","view")},layerErrorSelector:function(e){return u(e,"catalog.layerError")},searchTextSelector:function(e){return u(e,"catalog.searchOptions.text","")},activeSelector:function(e){return"metadataexplorer"===u(e,"controls.toolbar.active")||u(e,"controls.metadataexplorer.enabled")},authkeyParamNameSelector:function(e){return(u(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},pageSizeSelector:function(e){return u(e,"catalog.pageSize",4)},delayAutoSearchSelector:function(e){return u(e,"catalog.delayAutoSearch",1e3)},catalogSearchInfoSelector:l({projection:b}),tileSizeOptionsSelector:function(e){return u(e,"catalog.default.tileSizes",[256,512])}}},"./MapStore2/web/client/selectors/featuregrid.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/node_modules/lodash/lodash.js"),s=i.head,l=i.get,c=i.isObject,u=r("./MapStore2/web/client/selectors/layers.js").getLayerFromId,p=r("./MapStore2/web/client/utils/ogc/WFS/base.js").findGeometryProperty,f=r("./MapStore2/web/client/selectors/locale.js").currentLocaleSelector,d=r("./MapStore2/web/client/utils/MapUtils.js").isSimpleGeomType,m=r("./MapStore2/web/client/utils/FeatureGridUtils.js").toChangesMap,y=r("./MapStore2/web/client/selectors/dimension.js").layerDimensionSelectorCreator,b=r("./MapStore2/web/client/selectors/security.js").userRoleSelector,g=r("./MapStore2/web/client/selectors/maptype.js").isCesium,h=u,v=function(e){return l(e,"featuregrid.selectedLayer")},S=function(e,t){return l(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))},O=r("./MapStore2/web/client/selectors/query.js"),w=O.attributesSelector,E=O.describeSelector,j=function(e){return e&&e.featuregrid&&e.featuregrid.select},T=function(e){return e&&e.featuregrid&&e.featuregrid.changes},A=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},_=function(e){return s(j(e))},x=function(e){var t=E(e);if(t){var r=p(t);return r&&r.localType}return null},M=["Geometry","GeometryCollection"],P=function(e){return T(e)&&T(e).length>0},C=function(e){return A(e)&&A(e).length>0},L=function(e){return e&&e.featuregrid&&e.featuregrid.filters},R=function(e){return l(e,"featuregrid.editingAllowedRoles",["ADMIN"])},I=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit};e.exports={isFeatureGridOpen:function(e){return e&&e.featuregrid&&e.featuregrid.open},getAttributeFilters:L,getAttributeFilter:function(e,t){return l(L(e),t)},selectedLayerIdSelector:v,getCustomAttributeSettings:S,getTitleSelector:function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(h(e,v(e)));return c(t)?t[f(e)]||t.default||"":t},getCustomizedAttributes:function(e){return(w(e)||[]).map((function(t){var r=S(e,t);return r?o(o({},t),r):t}))},modeSelector:function(e){return e&&e.featuregrid&&e.featuregrid.mode},selectedFeaturesSelector:j,selectedFeatureSelector:_,selectedFeaturesCount:function(e){return(j(e)||[]).length},changesSelector:T,toChangesMap:m,changesMapSelector:function(e){return m(T(e))},hasChangesSelector:P,hasGeometrySelector:function(e){return function(e){var t=_(e);if(t){var r=m(T(e));return!(!r[t.id]||null===r[t.id].geometry)||(!r[t.id]||null!==r[t.id].geometry)&&((!t._new||!s(A(e))||null!==s(A(e)).geometry)&&(!(!t._new||!s(A(e))||null===s(A(e)).geometry)||null!==t.geometry))}return!1}(e)},newFeaturesSelector:A,hasNewFeaturesSelector:C,showAgainSelector:function(e){return l(e,"featuregrid.showAgain",!1)},showTimeSync:function(e){if(l(e,"featuregrid.showTimeSync",!1)){var t=v(e);return y({id:t},"time")(e)}return null},timeSyncActive:function(e){return l(e,"featuregrid.timeSync",!1)},showPopoverSyncSelector:function(e){return l(e,"featuregrid.showPopoverSync",!0)},isSavingSelector:function(e){return e&&e.featuregrid&&e.featuregrid.saving},editingAllowedRolesSelector:R,isSavedSelector:function(e){return e&&e.featuregrid&&e.featuregrid.saved},isDrawingSelector:function(e){return e&&e.featuregrid&&e.featuregrid.drawing},geomTypeSelectedFeatureSelector:x,chartDisabledSelector:function(e){return l(e,"featuregrid.chartDisabled",!1)},hasNewFeaturesOrChanges:function(e){return C(e)||P(e)},isSimpleGeomSelector:function(e){return d(x(e))},canEditSelector:I,hasSupportedGeometry:function(e){return!s(M.filter((function(t){return x(e)===t})))},getDockSize:function(e){return e.featuregrid&&e.featuregrid.dockSize},selectedLayerNameSelector:function(e){var t=h(e,v(e));return t&&t.name||""},queryOptionsSelector:function(e){var t=function(e){return l(h(e,v(e)),"params")}(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},isEditingAllowedSelector:function(e){var t=b(e),r=R(e)||["ADMIN"],n=I(e);return(-1!==r.indexOf(t)||n)&&!g(e)},selectedLayerSelector:function(e){return h(e,v(e))}}},"./MapStore2/web/client/selectors/highlight.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r("./MapStore2/node_modules/lodash/lodash.js").get,i=r("./node_modules/reselect/es/index.js").createSelector,s=r("./MapStore2/web/client/utils/CoordinatesUtils.js").reprojectGeoJson,l=function(e){return a(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]},c=function(e){return a(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},u=function(e){return c(e)&&c(e).geometry},p=function(e){return u(e)&&u(e).type||"Polygon"},f=function(e){return u(e)&&u(e).coordinates||[]},d=function(e){return u(e)&&u(e).projection||"EPSG:3857"},m=function(e){return u(e)&&u(e).id||"spatial_object"},y=i([f,p,m,d],(function(e,t,r,n){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:r}]};return e.length>0&&t?s(o,n,"EPSG:4326").features:[]})),b=i([y,l],(function(e,t){return[].concat(n(t),n(e))}));e.exports={selectedFeatures:l,filteredFeatures:y,filteredSpatialObjectId:m,filteredSpatialObjectCrs:d,filteredspatialObjectCoord:f,filteredspatialObjectType:p,filteredGeometry:u,filteredspatialObject:c,highlighedFeatures:b}},"./MapStore2/web/client/selectors/localizedLayerStyles.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=n.has,a=n.get,i=n.find,s=function(e){return o(e,"localConfig.localizedLayerStyles")},l=function(e){return a(e,"localConfig.localizedLayerStyles.name","mapstore_language")},c=(0,r("./node_modules/reselect/es/index.js").createSelector)(s,l,r("./MapStore2/web/client/selectors/locale.js").currentLocaleLanguageSelector,(function(e,t,r){var n=[];return e&&n.push({name:t,value:r}),n}));e.exports={isLocalizedLayerStylesEnabledSelector:s,localizedLayerStylesNameSelector:l,localizedLayerStylesEnvSelector:c,isLocalizedLayerStylesEnabledDashboardsSelector:function(e){var t=a(e,"localConfig.plugins.dashboard",[]),r=i(t,(function(e){return"DashboardEditor"===e.name}))||{};return a(r,"cfg.catalog.localizedLayerStyles",!1)}}},"./MapStore2/web/client/selectors/maplayout.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/node_modules/lodash/lodash.js").head,s=r("./MapStore2/web/client/selectors/map.js").mapSelector,l=r("./MapStore2/web/client/utils/MapUtils.js").parseLayoutValue,c=function(e){return e.maplayout&&e.maplayout.layout||{}},u=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=c(e),n=!!i(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})));return n};e.exports={mapLayoutSelector:c,mapLayoutValuesSelector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){return o(o({},e),{},a({},t,r[t]))}),{})||{}},checkConditionsSelector:p,rightPanelOpenSelector:function(e){return p(e,[{key:"right",value:658}])},bottomPanelOpenSelector:function(e){return p(e,[{key:"bottom",value:30,type:"not"}])},boundingMapRectSelector:u,mapPaddingSelector:function(e){var t=s(e),r=u(e);return r&&t&&t.size&&{left:l(r.left,t.size.width),bottom:l(r.bottom,t.size.height),right:l(r.right,t.size.width),top:l(r.top,t.size.height)}}}},"./MapStore2/web/client/selectors/maps.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=n.find,a=n.get,i=function(e){return a(e,"maps.results",[])},s=function(e,t){return o(i(e),(function(e){return e.id===t}))};e.exports={mapNameSelector:function(e,t){return s(e,t)&&s(e,t).name||""},mapFromIdSelector:s,showMapDetailsSelector:function(e){return a(e,"maps.showMapDetails")},mapsResultsSelector:i,totalCountSelector:function(e){return a(e,"maps.totalCount")},mapMetadataSelector:function(e){return a(e,"maps.metadata",{})},isMapsLastPageSelector:function(e){return e&&e.maps&&e.maps.totalCount===e.maps.start},mapDescriptionSelector:function(e,t){return s(e,t)&&s(e,t).description||""},mapDetailsUriFromIdSelector:function(e,t){return s(e,t)&&s(e,t).details||""},mapPermissionsFromIdSelector:function(e,t){return s(e,t)&&s(e,t).permissions||""},mapThumbnailsUriFromIdSelector:function(e,t){return s(e,t)&&s(e,t).thumbnail||""},searchTextSelector:function(e){return e&&e.maps&&e.maps.searchText},searchParamsSelector:function(e){return{start:a(e,"maps.start"),limit:a(e,"maps.limit")}},searchFilterSelector:function(e){return e&&e.maps&&e.maps.searchFilter},contextsSelector:function(e){return e&&e.maps&&e.maps.contexts},loadingSelector:function(e){return e&&e.maps&&e.maps.loading},loadFlagsSelector:function(e){return e&&e.maps&&e.maps.loadFlags}}},"./MapStore2/web/client/selectors/measurement.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/web/client/selectors/maptype.js").isOpenlayers,s=r("./MapStore2/web/client/selectors/controls.js").showCoordinateEditorSelector,l=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,c=r("./MapStore2/web/client/utils/MeasureUtils.js").validateFeatureCoordinates,u=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=l("geometry.coordinates",c(t.geometry||{}),t)),t};e.exports={measurementSelector:function(e){return e.measurement&&o(o({},e.measurement),{},{feature:u(e)})||{}},getValidFeatureSelector:u,isCoordinateEditorEnabledSelector:function(e){return s(e)&&!e.measurement.isDrawing&&i(e)},showAddAsAnnotationSelector:function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},isTrueBearingEnabledSelector:function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing}}},"./MapStore2/web/client/selectors/playback.js":function(e,t,r){var n=r("./node_modules/reselect/es/index.js").createSelector,o=function(e){return e&&e.playback&&e.playback.settings},a=function(e){return e&&e.playback&&e.playback.frames},i=function(e){return e&&e.playback&&e.playback.currentFrame},s=n(a,i,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{hasNext:e[t+1],hasPrevious:e[t-1]}}));e.exports={playbackSettingsSelector:o,frameDurationSelector:function(e){return(o(e)||{}).frameDuration||5},statusSelector:function(e){return e&&e.playback&&e.playback.status},loadingSelector:function(e){return e&&e.playback&&e.playback.framesLoading},lastFrameSelector:function(e){var t=a(e)||[];return t[t.length-1]},framesSelector:a,currentFrameSelector:i,currentFrameValueSelector:function(e){return(a(e)||[])[i(e)]},playbackRangeSelector:function(e){return function(e){return e&&e.playback&&e.playback.playbackRange}(e)},playbackMetadataSelector:function(e){return e&&e.playback&&e.playback.metadata},hasPrevNextAnimationSteps:s}},"./MapStore2/web/client/selectors/query.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/node_modules/lodash/lodash.js"),s=i.isNil,l=i.get,c=i.head,u=i.isArray,p=i.findIndex,f=function(e){return l(e,"query.filterObj.featureTypeName")},d=function(e){return function(t){return l(t,'query.featureTypes["'.concat(e,'"]'))}},m=function(e,t){return l(d(t)(e),"original")};e.exports={wfsURL:function(e){return e&&e.query&&e.query.searchUrl},wfsURLSelector:function(e){return e&&e.query&&e.query.url},wfsFilter:function(e){return e&&e.query&&e.query.filterObj},attributesSelector:function(e){return l(d(f(e))(e),"attributes")},typeNameSelector:function(e){return l(e,"query.typeName")},resultsSelector:function(e){return l(e,"query.result.features")},featureCollectionResultSelector:function(e){var t=l(e,"query.result");return o(o({},t),{},{features:(t&&t.features||[]).filter((function(e){return!s(e.geometry)}))})},getFeatureById:function(e,t){var r=e&&e.query&&e.query.result&&e.query.result.features;return c(r.filter((function(e){return e.id===t})))},paginationInfo:{startIndex:function(e){return l(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return l(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return l(e,"query.result.features.length")},totalFeatures:function(e){return l(e,"query.result.totalFeatures")}},isDescribeLoaded:function(e,t){var r=d(t)(e);return!!(r&&r.attributes&&r.geometry&&r.original)},describeSelector:function(e){return m(e,f(e))},featureTypeSelectorCreator:d,layerDescribeSelector:m,featureLoadingSelector:function(e){return l(e,"query.featureLoading")},isSyncWmsActive:function(e){return l(e,"query.syncWmsFilter",!1)},isFilterActive:function(e){var t=l(e,"query.filterObj.crossLayerFilter"),r=l(e,"query.filterObj.spatialField"),n=l(e,"query.filterObj.filterFields");return!!(n&&c(n)||r&&(r.method&&r.operation&&r.geometry||u(r)&&p(r,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}}},"./MapStore2/web/client/selectors/queryform.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=r("./MapStore2/node_modules/lodash/lodash.js").get,l=r("./node_modules/reselect/es/index.js").createSelector,c=r("./MapStore2/web/client/selectors/layers.js").layersSelector,u=r("./MapStore2/web/client/selectors/locale.js").currentLocaleSelector,p=r("./MapStore2/web/client/utils/LocaleUtils.js").getLocalizedProp,f=function(e){return s(e,"queryform.spatialField.geometry")},d=l((function(e){return s(e,"queryform.attributePanelExpanded")}),(function(e){return s(e,"queryform.spatialPanelExpanded")}),(function(e){return s(e,"queryform.crossLayerExpanded")}),(function(e,t,r){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:r}}));e.exports={spatialFieldSelector:function(e){return s(e,"queryform.spatialField")},spatialFieldMethodSelector:function(e){return s(e,"queryform.spatialField.method")},spatialFieldGeomSelector:f,maxFeaturesWPSSelector:function(e){return s(e,"queryform.maxFeaturesWPS")},spatialFieldGeomTypeSelector:function(e){return f(e)&&f(e).type||"Polygon"},spatialFieldGeomProjSelector:function(e){return f(e)&&f(e).projection||"EPSG:4326"},spatialFieldGeomCoordSelector:function(e){return f(e)&&f(e).coordinates||[]},crossLayerFilterSelector:function(e){return s(e,"queryform.crossLayerFilter")},availableCrossLayerFilterLayersSelector:function(e){return(c(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.group;return"wms"===t&&"background"!==r})).map((function(t){var r=t.title;return o(o({},i(t,["title"])),{},{title:p(u(e),r)})}))},queryFormUiStateSelector:d,storedFilterSelector:function(e){return s(e,"layerFilter.persisted")},appliedFilterSelector:function(e){return s(e,"layerFilter.applied")}}},"./MapStore2/web/client/selectors/router.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js").get;e.exports={pathnameSelector:function(e){return n(e,"router.location.pathname")||"/"},searchSelector:function(e){return n(e,"router.location.search")||""}}},"./MapStore2/web/client/selectors/timeline.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=r("./MapStore2/node_modules/lodash/lodash.js"),p=u.get,f=u.head,d=r("./node_modules/reselect/es/index.js").createSelector,m=r("./MapStore2/web/client/utils/ReselectUtils.js").createShallowSelector,y=r("./MapStore2/web/client/utils/CoordinatesUtils.js").reprojectBbox,b=r("./MapStore2/web/client/utils/TimeUtils.js"),g=b.timeIntervalToSequence,h=b.timeIntervalToIntervalSequence,v=b.analyzeIntervalInRange,S=b.isTimeDomainInterval,O=r("./MapStore2/web/client/selectors/dimension.js"),w=O.timeDataSelector,E=O.currentTimeSelector,j=O.offsetTimeSelector,T=O.layerDimensionRangeSelector,A=O.layersWithTimeDataSelector,_=O.layerDimensionDataSelectorCreator,x=r("./MapStore2/web/client/selectors/map.js"),M=x.mapSelector,P=x.projectionSelector,C=r("./MapStore2/web/client/selectors/layers.js").getLayerFromId,L=function(e){return p(e,"timeline.range")},R=function(e){return p(e,"timeline.rangeData")},I=function(e){return p(e,"timeline.settings.collapsed")},D=function(e){return p(e,"timeline.settings.mapSync")},N=function(e,t){return(e||[]).reduce((function(e,r){return[].concat(i(e),i(function(e,t){var r=s(e.split("/"),3),n=r[0],o=r[1],a=r[2];if(a&&"0"!==a){var i=v({start:n,end:o,duration:a},t),l=i.count,c=i.start,u=i.end;return l>50?[{start:n,end:o,duration:a,type:"range",content:"".concat(l," items")}]:g({start:c,end:u,duration:a}).map((function(e){return{start:new Date(e),end:new Date(e),type:"point"}}))}return isNaN(new Date(n).getTime())?null:[{start:new Date(n),end:new Date(o||n),type:o?"range":"point"}]}(r,t)))}),[]).filter((function(e){return e&&e.start}))},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.domain&&e.domain.values)return N(e.domain.values,t);if(e.histogram&&e.histogram.domain&&e.histogram.values){var r=e.histogram.domain.split("/"),n=s(r,3),a=n[0],l=n[1],c=n[2],u=Math.max.apply(Math,i(e.histogram.values)),p=h({start:a,end:l,duration:c});return e.histogram.values.map((function(e,t){return o(o({},p[t]),{},{type:"range",itemType:"histogram",count:e,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*e/u,'%"></div> <span class="histogram-count">').concat(e,"</span></div>")})}))}return[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return e&&e.values||e&&e.domain&&!S(e.domain)?N(e.values||e.domain.split(","),t):r&&r.histogram?k(r,t):[]},G=m(w,L,R,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(Object.keys(e).map((function(n){return F(e[n],t,r[n]).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(o({content:" "},e),{},{group:n})}))})).reduce((function(e,t){return[].concat(i(e),i(t))}),[]))})),U=function(e){return p(e,"timeline.selectedLayer")},B=function(e){return C(e,U(e))},H=function(e){return B(e)&&B(e).dimensions&&f(B(e).dimensions.filter((function(e){return"time"===e.name})))},z=d(E,j,(function(e,t){return{start:e,end:t}})),V=A,W=d(V,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0}));e.exports={isVisible:function(e){return!I(e)&&W(e)},isCollapsed:I,currentTimeRangeSelector:z,timelineLayersSelector:V,hasLayers:W,itemsSelector:G,rangeSelector:L,isAutoSelectEnabled:function(e){return p(e,"timeline.settings.autoSelect")},loadingSelector:function(e){return p(e,"timeline.loading")},selectedLayerSelector:U,selectedLayerData:B,selectedLayerTimeDimensionConfiguration:H,selectedLayerDataRangeSelector:function(e){return T(e,U(e))},selectedLayerName:function(e){return B(e)&&B(e).name},selectedLayerUrl:function(e){return p(H(e),"source.url")},rangeDataSelector:R,isMapSync:D,multidimOptionsSelectorCreator:function(e){return function(t){var r=(M(t)||{}).bbox;if(!r)return{};var n=_(e,"time")(t),i=p(n,"source.version"),l=Object.keys(r.bounds).reduce((function(e,t){return o(o({},e),{},a({},t,parseFloat(r.bounds[t])))}),{});if(!l||!D(t))return{};if("1.1"!==i){var c=_(e,"space")(t),u=p(c,"domain.CRS");if(!u||!l||!D(t))return{};var f=s(y(l,P(t),u),4),d=f[0],m=f[1],b=f[2],g=f[3];return b<d&&"EPSG:4326"===u&&(b+=360),{bbox:"".concat(d,",").concat(m,",").concat(b,",").concat(g),crs:u}}var h=l.minx,v=l.miny,S=l.maxx,O=l.maxy,w=r.crs;return{bbox:"".concat(h,",").concat(v,",").concat(S,",").concat(O,",").concat(w)}}}}},"./MapStore2/web/client/utils/AgentUtils.js":function(e,t){var r={getWindowSize:function(){return{maxWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,maxHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},onfontready:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=e,i=n,s=o,l=a;if(Object({NODE_ENV:"production"}).isTest){var c={},u=function(e){return c[e]=c[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},c[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){u(e).rootCount+=t},iframesCreated:function(e){u(e).iframesCreated=!0},timedOut:function(e){u(e).timedOut=!0},fontLoaded:function(e){u(e).fontLoaded=!0},requiredExtraTimeout:function(e){u(e).requiredExtraTimeout=!0},getTests:function(){return c}}}r.timeoutAfter&&setTimeout((function(){i&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(l,-1),document.body.removeChild(i),i=0,r.onTimeout&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.timedOut(l),r.onTimeout()))}),r.timeoutAfter),s=function(){i&&i.firstChild.clientWidth===i.lastChild.clientWidth&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(l,-1),document.body.removeChild(i),i=0,Object({NODE_ENV:"production"}).isTest&&window.reporter.fontLoaded(l),t())},Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(l,1),Object({NODE_ENV:"production"}).isLegacy||s(document.body.appendChild(i=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+a+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+a+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</div>"),Object({NODE_ENV:"production"}).isLegacy&&s(document.body.appendChild(i=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+a+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+a+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</span>.</table>"),i&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.iframesCreated(l),Object({NODE_ENV:"production"}).isLegacy||(i.firstChild.appendChild(a=document.createElement("iframe")).style.width="999%",a.contentWindow.onresize=s,i.lastChild.appendChild(a=document.createElement("iframe")).style.width="999%",a.contentWindow.onresize=s),Object({NODE_ENV:"production"}).isLegacy&&(i.firstChild.firstChild.firstChild.firstChild.appendChild(a=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",a.attachEvent?a.contentWindow.attachEvent("onresize",s):a.contentWindow.onresize=s,i.lastChild.firstChild.firstChild.firstChild.appendChild(a=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",a.attachEvent?a.contentWindow.attachEvent("onresize",s):a.contentWindow.onresize=s),Object({NODE_ENV:"production"}).isTest||(a=setTimeout(s)),Object({NODE_ENV:"production"}).isTest&&(a=setTimeout((function(){i&&(window.reporter.requiredExtraTimeout(l),s())}))))},loadFont:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,o){r.onfontready(e,n,{timeoutAfter:t.timeoutAfter,onTimeout:o,sampleText:t.sampleText,generic:t.generic})}))}};e.exports=r},"./MapStore2/web/client/utils/AnnotationsUtils.js":function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/uuid/v1.js"),c=r("./MapStore2/web/client/utils/LocaleUtils.js"),u=r("./MapStore2/web/client/utils/MarkerUtils.js").extraMarkers,p=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),f=p.geometryFunctions,d=p.fetchStyle,m=p.hashAndStringify,y=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.values,h=b.isNil,v=b.slice,S=b.head,O=b.castArray,w=b.last,E=b.isArray,j=b.findIndex,T=b.isString,A=r("./node_modules/uuid/index.js"),_=r("./node_modules/@turf/center/main.es.js").default,x=r("./node_modules/object-assign/index.js"),M={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},P={iconGlyph:"comment",iconShape:"square",iconColor:"blue"},C={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},L={color:"#ffcc33",opacity:1,weight:3,editing:{fill:1}},R={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},I={Text:C,Point:P,Circle:M,MultiPoint:P,LineString:L,MultiLineString:L,Polygon:R,MultiPolygon:R},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},N=function(e){return("start"===e?"lm":"end"===e&&"rm")||"cm"},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=void 0===t?"Point":t,n=e.features,o=void 0===n?[]:n;return"FeatureCollection"===r?o.reduce((function(e,t){return e[t.geometry.type]=I[t.geometry.type],e}),{type:"FeatureCollection"}):i({},I[r])},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i({title:"annotations.defaulttitle"!==c.getMessageById(t,"annotations.defaulttitle")?c.getMessageById(t,"annotations.defaulttitle"):"Default title",id:l()},e)},G=function(e){return T(e)&&e||E(e)&&e.join(" ")},U=function(e){return e.color&&e.opacity&&e.weight},B=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t&&t[e]?t[e]:t,o=n,a=o.dashArray?G(o.dashArray):"solid";switch(e){case"MultiPolygon":case"Polygon":case"Circle":return{strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,fillColor:D(o.fillColor),fillOpacity:o.fillOpacity,strokeDashstyle:a};case"LineString":case"MultiLineString":return{strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:a};case"Text":var s=U(o)?{labelOutlineColor:D(o.color),labelOutlineOpacity:o.opacity,labelOutlineWidth:o.weight}:{};return i({fontStyle:o.fontStyle,fontSize:o.fontSize,fontFamily:o.fontFamily,fontWeight:o.fontWeight,labelAlign:N(o.textAlign),fontColor:D(o.fillColor),fontOpacity:o.fillOpacity,label:r,stroke:!0,strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:a},s);case"Point":case"MultiPoint":var l=o.symbolUrl&&d(m(o),"base64")||u.markerToDataUrl(o),c=-18,p=-46;return o.iconAnchor&&E(o.iconAnchor)&&o.size&&(c="pixels"===o.anchorXUnits?-1*o.iconAnchor[0]:-1*o.size*o.iconAnchor[0],p="pixels"===o.anchorYUnits?-1*o.iconAnchor[1]:-1*o.size*o.iconAnchor[1]),l?{graphicWidth:o.size||36,graphicHeight:o.size||46,externalGraphic:l,graphicXOffset:c,graphicYOffset:p,display:!1===o.filtering&&"none"}:{fillColor:"#0000AE",fillOpacity:.5,strokeColor:"#0000FF",pointRadius:10,strokeOpacity:1,strokeWidth:1,display:!1===o.filtering&&"none"};default:return{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeDashstyle:a,strokeWidth:1}}},H={ANNOTATION_TYPE:"ms2-annotations",convertGeoJSONToInternalModel:function(e){var t=e.type,r=void 0===t?"Point":t,n=e.geometries,o=void 0===n?[]:n,a=e.features,i=void 0===a?[]:a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(r){case"Point":case"MultiPoint":return{type:1===s.length?"Text":r};case"Polygon":return{type:1===l.length?"Circle":r};case"GeometryCollection":var c=o.filter((function(e){return"Point"===e.type||"MultiPoint"===e.type})),u=o.filter((function(e){return"Polygon"===e.type})),p=0,f=0;return{type:"GeometryCollection",geometries:o.map((function(e){if("Point"===e.type||"MultiPoint"===e.type){if(c.length===s.length)return{type:"Text"};if(0===s.length)return{type:e.type};if(0===p)return p++,{type:"Text"}}if("Polygon"===e.type){if(u.length===l.length)return{type:"Circle"};if(0===l.length)return{type:e.type};if(0===f)return f++,{type:"Circle"}}return{type:e.type}}))};case"FeatureCollection":var d=i.map((function(e){return e.properties&&e.properties.isCircle?{type:"Circle"}:e.properties&&e.properties.isText?{type:"Text"}:{type:e.geometry.type}}));return{type:"FeatureCollection",features:d};default:return{type:r}}},getAvailableStyler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=void 0===t?"Point":t,n=e.geometries,o=void 0===n?[]:n,a=e.features,i=void 0===a?[]:a;switch(r){case"Point":case"MultiPoint":case"Symbol":return[H.getRelativeStyler(r)];case"LineString":case"MultiLineString":return[H.getRelativeStyler(r)];case"Polygon":case"MultiPolygon":case"Text":case"Circle":return[H.getRelativeStyler(r)];case"GeometryCollection":return o.reduce((function(e,t){return-1!==e.indexOf(H.getRelativeStyler(t.type))?e:e.concat(H.getAvailableStyler(t))}),[]);case"FeatureCollection":return i.reduce((function(e,t){return-1!==e.indexOf(H.getRelativeStyler(t.type))?e:e.concat(H.getAvailableStyler(t))}),[]);default:return[]}},getRelativeStyler:function(e){switch(e){case"Point":case"MultiPoint":return"marker";case"Symbol":return"symbol";case"Circle":return"circle";case"LineString":case"MultiLineString":return"lineString";case"Polygon":case"MultiPolygon":return"polygon";case"Text":return"text";default:return""}},createFont:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontSize,r=void 0===t?"14":t,n=e.fontSizeUom,o=void 0===n?"px":n,a=e.fontFamily,i=void 0===a?"Arial":a,s=e.fontStyle,l=void 0===s?"normal":s,c=e.fontWeight,u=void 0===c?"normal":c;return"".concat(l," ").concat(u," ").concat(r).concat(o," ").concat(i)},DEFAULT_ANNOTATIONS_STYLES:I,STYLE_CIRCLE:M,STYLE_POINT_MARKER:P,STYLE_POINT_SYMBOL:{iconAnchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",color:"#000000",fillColor:"#000000",opacity:1,size:64,fillOpacity:1},STYLE_TEXT:C,STYLE_LINE:L,STYLE_POLYGON:R,getGeometryType:function(e){var t,r,n;return(null==e||null===(t=e.properties)||void 0===t?void 0:t.isCircle)?"Circle":(null==e||null===(r=e.properties)||void 0===r?void 0:r.isText)?"Text":null==e||null===(n=e.geometry)||void 0===n?void 0:n.type},getGeometryGlyphInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point",t={Point:{glyph:"point",label:"Point"},MultiPoint:{glyph:"point",label:"Point"},LineString:{glyph:"polyline",label:"Line"},MultiLineString:{glyph:"polyline",label:"Line"},Polygon:{glyph:"polygon",label:"Polygon"},MultiPolygon:{glyph:"polygon",label:"Polygon"},Text:{glyph:"font",label:"Text"},Circle:{glyph:"1-circle",label:"Circle"}};return t[e]},normalizeAnnotation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="FeatureCollection"===e.type?i({},e):{type:"Feature",geometry:e},n=k(r),o=F(r.properties,t);return i({style:n,properties:o},r)},removeDuplicate:function(e){return g(e.reduce((function(e,t){return i(i({},e),{},s({},t.properties.id,t))}),{}))},circlesToMultiPolygon:function(e,t){var r=e.geometries,n=void 0===r?[]:r,o=t.circles,a=void 0===o?[]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,s=a.reduce((function(e,t){return e.concat([n[t].coordinates])}),[]);return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:s},properties:{id:l(),ms_style:B("Circle",i)}}},fromCircleToPolygon:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;return{type:"Feature",geometry:t.polygonGeom||e,properties:{id:t.id||l(),ms_style:B("Circle",r)}}},fromTextToPoint:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return{type:"Feature",geometry:e,properties:{id:t.id||l(),ms_style:B("Text",r,t.valueText)}}},fromLineStringToGeodesicLineString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;return{type:"Feature",geometry:e.geometryGeodesic,properties:{id:e.id||l(),ms_style:B(e.geometryGeodesic.type,t)}}},textToPoint:function(e,t){var r=e.geometries,n=void 0===r?[]:r,o=t.textGeometriesIndexes,a=void 0===o?[]:o,i=t.textValues,s=void 0===i?[]:i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return a.map((function(e,t){return{type:"Feature",geometry:n[e],properties:{id:l(),ms_style:B("Text",c,s[t])}}}))},flattenGeometryCollection:function(e){var t=e.geometry,r=e.properties,n=e.style,o=r.circles&&H.circlesToMultiPolygon(t,r,n.Circle)||[],a=r.textGeometriesIndexes&&H.textToPoint(t,r,n.Text)||[],i=(r.circles||[]).concat(r.textGeometriesIndexes||[]);return t.geometries.filter((function(e,t){return-1===i.indexOf(t)})).map((function(e){return{type:"Feature",geometry:e,properties:{id:l(),ms_style:B(e.type,n[e.type])}}})).concat(o,a)},createGeometryFromGeomFunction:function(e){var t=f[e.style.geometry]&&f[e.style.geometry].type||e.geometry.type,r=e.geometry.coordinates||[];switch(e.style.geometry){case"startPoint":r=S(r);break;case"endPoint":r=w(r);break;case"centerPoint":r=_(e).geometry.coordinates}return{type:t,coordinates:r}},fromAnnotationToGeoJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geometry,r=e.properties,n=void 0===r?{}:r,o=e.style,a=void 0===o?{}:o,i=a.geometry?H.createGeometryFromGeomFunction({geometry:t,properties:n,style:a,type:"Feature"}):t;return n.isCircle&&"Polygon"===i.type?H.fromCircleToPolygon(i,n,a):n.isText?H.fromTextToPoint(i,n,a):"LineString"===i.type&&n.useGeodesicLines&&a.filtering?H.fromLineStringToGeodesicLineString(n,a):{type:"Feature",geometry:i,properties:{id:n.id||l(),ms_style:B(i.type,a)}}},annotationsToPrint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return"FeatureCollection"===t.type?e.concat(t.features.map((function(e){return O(e.style||t.style||{}).filter((function(e){return!!h(e.filtering)||e.filtering})).map((function(t){return H.fromAnnotationToGeoJson(i(i({},e),{},{style:t}))}))})).reduce((function(e,t){return e.concat(t)}),[])):t.geometry&&"GeometryCollection"===t.geometry.type?e.concat(H.flattenGeometryCollection(t)):e.concat({type:"Feature",geometry:t.geometry,properties:i(i({},t.properties),{},{ms_style:B(t.geometry.type,t.style)})})}),[])},formatCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]];return e.map((function(e){return{lat:e&&e[1],lon:e&&e[0]}}))},getBaseCoord:function(e){switch(e){case"Polygon":case"LineString":case"MultiPoint":return[];default:return[[{lat:"",lon:""}]]}},getComponents:function(e){var t=e.type,r=e.coordinates;switch(t){case"Polygon":return H.isCompletePolygon(r)?H.formatCoordinates(v(r[0],0,r[0].length-1)):H.formatCoordinates(r[0]);case"LineString":case"MultiPoint":return H.formatCoordinates(r);default:return H.formatCoordinates([r])}},addIds:function(e){return e.map((function(e){return e.properties&&e.properties.id?e:y("properties.id",A.v1(),e)}))},COMPONENTS_VALIDATION:{Point:{min:1,add:!1,remove:!1,validation:"validateCoordinates",notValid:"Add a valid coordinate to complete the Point"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 3 valid coordinates to complete the Polygon"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Circle:{add:!1,remove:!1,validation:"validateCircle",notValid:"Add a valid coordinate and a radius (m) to complete the Circle"},Text:{add:!1,remove:!1,validation:"validateText",notValid:"Add a valid coordinate and a Text value"}},validateCoords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lat,r=e.lon;return!isNaN(parseFloat(t))&&!isNaN(parseFloat(r))},validateCoordsArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n(e,2),r=t[0],o=t[1];return!isNaN(parseFloat(o))&&!isNaN(parseFloat(r))},validateCoord:function(e){return!isNaN(parseFloat(e))},coordToArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[e.lon,e.lat]},validateCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[]:t,n=e.remove,o=void 0!==n&&n,a=e.type;if(r&&r.length){var i=r.filter(H.validateCoords);return o?i.length>H.COMPONENTS_VALIDATION[a].min&&i.length===r.length:i.length>=H.COMPONENTS_VALIDATION[a].min&&i.length===r.length}return!1},validateCircle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[]:t,n=e.properties,o=void 0===n?{radius:0}:n;if(r&&r.length){var a=S(r);return!isNaN(parseFloat(o.radius))&&H.validateCoords(a)}return!1},validateText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[]:t,n=e.properties,o=void 0===n?{valueText:""}:n;if(r&&r.length){var a=S(r);return o&&!!o.valueText&&H.validateCoords(a)}return!1},validateFeature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[[]]:t,n=e.type,o=e.remove,a=void 0!==o&&o,i=e.properties,s=void 0===i?{}:i;return!h(n)&&("Text"===n?H.validateText({components:r,properties:s}):"Circle"===n?H.validateCircle({components:r,properties:s}):H.validateCoordinates({components:r,remove:a,type:n}))},updateAllStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.features&&e.features.length?i(i({},e),{},{features:e.features.map((function(e){return x({},e,{style:O(e.style).map((function(e){return x({},e,t)}))})}))}):e},getStartEndPointsForLinestring:function(){return[i(i({},I.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"StartPoint Style",geometry:"startPoint",filtering:!1,id:l()}),i(i({},I.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"EndPoint Style",geometry:"endPoint",filtering:!1,id:l()})]},DEFAULT_SHAPE:"triangle",DEFAULT_PATH:"product/assets/symbols/",checkSymbolsError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading_symbols_path";return e.length&&-1!==j(e,(function(e){return e===t}))},isAMissingSymbol:function(e){return e.symbolUrlCustomized===r("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")},isCompletePolygon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[[]]],t=e[0].filter(H.validateCoordsArray);return t.length>3&&S(t)[0]===w(t)[0]&&S(t)[1]===w(t)[1]},getDashArrayFromStyle:G,isAnnotation:function(e){return"ms2-annotations"===(null==e?void 0:e.type)||"Annotations"===(null==e?void 0:e.name)}};e.exports=H},"./MapStore2/web/client/utils/ColorUtils.js":function(e,t,r){var n=r("./node_modules/tinycolor2/tinycolor.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").toNumber,a={decToHex:function(e){var t=parseInt(e,10);return t=isNaN(t)?0:t,"0123456789ABCDEF".charAt(((t=t>255||t<0?0:t)-t%16)/16)+"0123456789ABCDEF".charAt(t%16)},rgbToHex:function(e,t,r){return e instanceof Array?a.rgbToHex(e[0],e[1],e[2]):"#"+a.decToHex(e)+a.decToHex(t)+a.decToHex(r)},realToDec:function(e){return Math.min(255,Math.round(256*e))},rgbToHsv:function(e,t,r){if(e instanceof Array)return a.rgbToHsv(e[0],e[1],e[2]);var n,o,i,s,l,c=e/255,u=t/255,p=r/255;switch(n=Math.min(Math.min(c,u),p),i=(o=Math.max(Math.max(c,u),p))-n,o){case n:s=0;break;case c:s=60*(u-p)/i,u<p&&(s+=360);break;case u:s=60*(p-c)/i+120;break;case p:s=60*(c-u)/i+240}return l=0===o?0:1-n/o,[Math.round(s),l,o]},distributedColorsHEX:function(e){for(var t=360/(e-1),r=[],n=function e(t,r,n){var o=e(t,r,n);return a.rgbToHex(o)},o=0;o<e;o++)r.push(n(t*o,.57,.63));return r},sameToneRangeColors:function(e,t,r,n){var o=e;isNaN(parseFloat(e))&&(o=a.hexToHsv(e)[0]);var i=.5/(r-1),s=t/(r-1),l=[];1===r&&(i=.5,s=t/2);for(var c=0;c<r;c++){var u=o+c*s-t/2,p=i*c+.3,f=p;n&&(u=n.h||u,p=n.s||p,f=n.v||f),l.push(a.hsvToHex(u,p,f,c))}return l},hsvToRgb:function(e,t,r){if(e instanceof Array)return a.hsvToRgb(e[0],e[1],e[2]);var n,o,i,s=Math.floor(e/60%6),l=e/60-s,c=r*(1-t),u=r*(1-l*t),p=r*(1-(1-l)*t);switch(s){case 0:n=r,o=p,i=c;break;case 1:n=u,o=r,i=c;break;case 2:n=c,o=r,i=p;break;case 3:n=c,o=u,i=r;break;case 4:n=p,o=c,i=r;break;case 5:n=r,o=c,i=u}return[a.realToDec(n),a.realToDec(o),a.realToDec(i)]},hsvToHex:function(e,t,r){var n=a.hsvToRgb(e,t,r);return a.rgbToHex(n)},hexToHsv:function(e){var t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));var r=a.hexToRgb(t);return a.rgbToHsv(r)}return null},hexToRgb:function(e){var t,r,n,o=e;return"#"===o.charAt(0)&&(o=e.substring(1)),t=o.charAt(0)+o.charAt(1),r=o.charAt(2)+o.charAt(3),n=o.charAt(4)+o.charAt(5),[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},colorToHexStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return n(e).toHexString()},colorToRgbaStr:function(e,t,r){var a=n(e);return e&&a.setAlpha(o(void 0!==t?t:a.getAlpha())).toRgbString()||r}};e.exports=a},"./MapStore2/web/client/utils/ConfigProvider.js":function(e,t,r){"use strict";t.a={OpenStreetMap:{url:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,credits:{text:"© OpenStreetMap, Open Street Map and contributors, CC-BY-SA",link:"http://www.openstreetmap.org/copyright"},attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},France:{url:"http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors',credits:{text:"Map data: © OpenSeaMap contributors",link:"http://www.openseamap.org"}}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},CyclOSM:{url:"https://dev.{s}.tile.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: {attribution.OpenStreetMap}'}},OpenMapSurfer:{url:"https://maps.heigit.org/openmapsurfer/tiles/{variant}/webmercator/{z}/{x}/{y}.png",options:{maxZoom:19,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> | Map data '},variants:{Roads:{options:{variant:"roads",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},Hybrid:{options:{variant:"hybrid",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},AdminBounds:{options:{variant:"adminb",maxZoom:18,attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},ContourLines:{options:{variant:"asterc",maxZoom:18,minZoom:13,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>'}},Hillshade:{options:{variant:"asterh",maxZoom:18,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>, <a href="http://srtm.csi.cgiar.org/">SRTM</a>'}},ElementsAtRisk:{options:{variant:"elements_at_risk",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}}}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},Thunderforest:{url:"//{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, {attribution.OpenStreetMap}',credits:{text:"Map data: OpenCycleMap contributors",link:"http://www.opencyclemap.org"},variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport",maxZoom:19,maxNativeZoom:19}},TransportDark:{options:{variant:"transport-dark",maxZoom:19,maxNativeZoom:19}},Landscape:"landscape",Outdoors:"outdoors"}},MapQuestOpen:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}",options:{maxNativeZoom:18,type:"map",ext:"jpg",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["1","2","3","4"]},variants:{OSM:{},Aerial:{options:{type:"sat",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}},HybridOverlay:{options:{type:"hyb",ext:"png",opacity:.9}}}},MapBox:{url:"//api.tiles.mapbox.com/v4/{source}/{z}/{x}/{y}.png?access_token={accessToken}",options:{maxNativeZoom:18,attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["a","b","c","d"]}},MapBoxStyle:{url:"https://api.mapbox.com/styles/v1/mapbox/{source}/tiles/{z}/{x}/{y}?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a>',subdomains:["a","b","c","d"]}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",ext:"jpg",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TerrainLabels:{options:{variant:"terrain-labels",minZoom:0,maxZoom:18}}}},Esri:{url:"//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{maxNativeZoom:18,variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,maxNativeZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,maxNativeZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"//{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?app_id={app_id}&app_code={app_code}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:["1","2","3","4"],mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,maxNativeZoom:20},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},Acetate:{url:"http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png",options:{attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth",subdomains:["0","1","2","3"],minZoom:2,maxZoom:18,maxNativeZoom:18,variant:"acetate-base"},variants:{basemap:"acetate-base",terrain:"terrain",all:"acetate-hillshading",foreground:"acetate-fg",roads:"acetate-roads",labels:"acetate-labels",hillshading:"hillshading"}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,maxNativeZoom:16,subdomains:["1","2","3","4"],bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"//{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:["a","b","c","d"],maxZoom:19,maxNativeZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,maxNativeZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,maxNativeZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:"geolandbasemap",grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{variant:"bmaporthofoto30cm",format:"jpeg"}}}},NASAGIBS:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}9/{z}/{y}/{x}.{format}",options:{attribution:'<span>Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.</span>',credits:{text:"Black Marble imagery courtesy NASA Earth Observatory"},bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,maxNativeZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"VIIRS_CityLights_2012",maxZoom:8,maxNativeZoom:8}},ModisTerraLSTDay:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}},ModisTerraSnowCover:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,maxNativeZoom:8,opacity:.75}},ModisTerraAOD:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}6/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,maxNativeZoom:6,opacity:.75}},ModisTerraChlorophyll:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}}}},NLS:{url:"//nls-{s}.tileserver.com/{variant}/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,maxNativeZoom:18,subdomains:["0","1","2","3"]},variants:{OS_1900:"NLS_API",OS_1920:"nls",OS_opendata:{url:"http://geo.nls.uk/maps/opendata/{z}/{x}/{y}.png",options:{maxZoom:16,maxNativeZoom:16}},OS_6inch_1st:{url:"http://geo.nls.uk/maps/os/six_inch/{z}/{x}/{y}.png",options:{tms:!0,minZoom:6,maxZoom:16,maxNativeZoom:16,bounds:[[49.86261,-8.66444],[60.89421,1.7785]]}},OS_6inch:"os_6_inch_gb",OS_25k:"25k",OS_npe:{url:"http://geo.nls.uk/maps/os/newpopular/{z}/{x}/{y}.png",options:{tms:!0,minZoom:3,maxZoom:15,maxNativeZoom:15}},OS_7th:"os7gb",OS_London:{options:{variant:"London_1056",minZoom:9,maxNativeZoom:9,bounds:[[51.177621,-.708618],[51.618016,.355682]]}},GSGS_Ireland:{url:"http://geo.nls.uk/maps/ireland/gsgs4136/{z}/{x}/{y}.png",options:{tms:!0,minZoom:5,maxZoom:15,maxNativeZoom:15,bounds:[[51.37178,-10.810546],[55.422779,-5.262451]]}}}},LINZ:{url:"http://tiles-{s}.data-cdn.linz.govt.nz/services;key={linzAPIkey}/tiles/v4/{variant}/{tilematrixset}/{z}/{x}/{y}.png",options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',subdomains:["a","b","c","d"],linzAPIkey:"<insert your LINZ API Key here>",variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22},variants:{nz_aerial_imagery:{options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50767",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52343",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52324",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50798",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_parcel_boundaries_wireframe:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"set=4769",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}}}},PDOK:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{attribution:'<a href="https://www.pdok.nl/introductie?articleid=1949876">BRT Achtergrondkaart</a> by <a href="https://www.kadaster.nl/">Kadaster</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>',format:"png",bounds:[[48.0405018704,-1.65729160235],[56.1105896442,12.4317272654]],minZoom:6,maxZoom:19,maxNativeZoom:19},variants:{brtachtergrondkaart:"brtachtergrondkaart",brtachtergrondkaartgrijs:"brtachtergrondkaartgrijs",brtachtergrondkaartpastel:"brtachtergrondkaartpastel",brtachtergrondkaartwater:"brtachtergrondkaartwater",luchtfotoRGB:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm RGB</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}},luchtfotoIR:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25IR",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm Infrarood</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}}}}}},"./MapStore2/web/client/utils/ElevationUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./node_modules/lrucache/index.js"),a=r("./node_modules/es6-promise/dist/es6-promise.js").Promise,i=new o(100),s=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,a=n*e+r;try{var i=t.dataView.getInt16(2*a,!1);if(i!==o&&32767!==i&&-32768!==i)return i}catch(e){}return null};e.exports={loadTile:function(e,t,r){return i.has(r)?null:new a((function(o,a){n.get(e,{responseType:"arraybuffer"}).then((function(e){!function(e,t,r){i.set(r,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})}(e.data,t,r),o()})).catch((function(e){!function(e,t,r){i.set(r,{coords:t,current:!0,status:"error: "+e})}(e.message,t,r),a(e)}))}))},getElevation:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,o=i.get(e);return o&&"success"===o.status?{available:!0,value:s(r,o,t.x,t.y,n)}:o&&"loading"===o.status?{available:!1,message:"elevationLoading"}:o&&"error"===o.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i=new o(e.max||100)}}},"./MapStore2/web/client/utils/FeatureGridUtils.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.get,u=l.findIndex,p=l.isNil,f=l.fill,d=l.isArray,m=r("./MapStore2/web/client/utils/ogc/WFS/base.js"),y=m.getFeatureTypeProperties,b=m.isGeometryType,g=m.isValid,h=m.isValidValueForPropertyName,v=m.findGeometryProperty,S=m.getPropertyDesciptor,O=function(e,t){return"geometry"===e?function(e){return c(v(e),"name")}(t):e},w=function(e,t,r){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return u(e,(function(e){return e<=r&&r<e+t}))}(t,r,e);return-1===n?n:n*r+e-t[n]},E={id:"empty_row",get:function(){}},j=function(e,t){var r=Object.keys(t).filter((function(e){return"geometry"!==e})).reduce((function(e,r){return i(i({},e),{},s({},r,t[r]))}),{}),n=Object.keys(t).filter((function(e){return"geometry"===e})).reduce((function(e,r){return i(i({},e),{},s({},r,t[r]))}),{});return i(i(i({},e),n),{},{properties:i(i({},e&&e.properties||{}),r)})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=u(e,t);return o>=0?e.map((function(e,t){return t===o?r:e})):[].concat(n(e),[r])},A=function(e){return(y(e)||[]).filter((function(e){return!b(e)}))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return t.map((function(t){return r<=t&&t<=n?0:Math.abs(t-e)})).reduce((function(e,t,r,n){return t>n[e]&&r||e}),0)},x=function(e,t){return t.filter((function(t,r){return r!==e}))},M=function(e,t,r){return e.filter((function(e,n){return n<t||n>=t+r}))},P=function(e,t,r,n){for(var o,a,i=e;i<=t&&void 0===o;i++)-1===w(i*n,r,n)&&(o=i);for(var s=t;s>=e&&void 0===a;s--)-1===w(s*n,r,n)&&(a=s);return[o,a].filter((function(e){return void 0!==e}))};e.exports={getAttributeFields:A,featureTypeToGridColumns:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.editable,o=void 0!==n&&n,a=r.sortable,i=void 0===a||a,s=r.resizable,l=void 0===s||s,c=r.filterable,u=void 0===c||c,p=r.defaultSize,f=void 0===p?200:p,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=d.getEditor,y=void 0===m?function(){}:m,b=d.getFilterRenderer,g=void 0===b?function(){}:b,h=d.getFormatter,v=void 0===h?function(){}:h;return A(e).filter((function(e){return!(t[e.name]&&t[e.name].hide)})).map((function(e){return{sortable:i,key:e.name,width:t[e.name]&&t[e.name].width||f||void 0,name:t[e.name]&&t[e.name].label||e.name,resizable:l,editable:o,filterable:u,editor:y(e),formatter:v(e),filterRenderer:g(e,e.name)}}))},getRow:function(e,t){return t[e]},getRowVirtual:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return t[w(e,r,n)]||i({},E)},getToolColumns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=v(r);return e.map((function(e){return i(i({},e),{},{events:e.events&&Object.keys(e.events).reduce((function(o,a){return i(i({},o),{},s({},a,(function(o,i){return e.events[a](t(i.rowIdx),i,r,n)})))}),{})},"geometry"===e.key&&a?{filterRenderer:o(i(i({},a),{},{localType:"geometry"}),a.name),filterable:!0,geometryPropName:a.name}:{})}))},getGridEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(e).reduce((function(a,l){return i(i({},a),{},s({},l,(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return e[l].apply(e,i.concat([t,r,n,o]))})))}),{})},isProperty:function(e,t){return!!S(e,t)},isValidValueForPropertyName:function(e,t,r){return h(e,O(t,r),r)},getDefaultFeatureProjection:function(){return"EPSG:4326"},toChangesMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return d(e)?e.reduce((function(e,t){return i(i({},e),{},s({},t.id,i(i({},e[t.id]),t.updated)))}),{}):{}},createNewAndEditingFilter:function(e,t,r){return function(n){return t.length>0?n._new:!e||e&&!!r[n.id]}},hasValidNewFeatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){return g(e,t)})).reduce((function(e,t){return t&&e}),!0)},applyAllChanges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(e,t[e.id]||{})},applyChanges:j,gridUpdateToQueryUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attribute,r=e.operator,n=e.value,o=e.type,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(i({},a),{},{groupFields:[{id:1,logic:"AND",index:0}],filterFields:"geometry"===o?a.filterFields:p(n)?(a.filterFields||[]).filter((function(e){return e.attribute!==t})):T(a.filterFields||[],{attribute:t},{attribute:t,rowId:Date.now(),type:o,groupId:1,operator:r,value:n}),spatialField:"geometry"===o?n:a.spatialField})},toPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startIndex,r=void 0===t?0:t,n=e.maxFeatures,o=void 0===n?1:n,a=e.totalFeatures,i=void 0===a?0:a,s=e.resultSize;return{page:Math.ceil(r/o),resultSize:s,size:o,total:i,maxPages:Math.ceil(i/o)-1}},getCurrentPaginationOptions:function(e,t,r){var n=e.startPage,o=e.endPage,a=P(n,o,t,r),i=a[1]-a[0]+1;return{startIndex:a[0]*r,maxFeatures:i*r}},updatePages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.endPage,n=t.startPage,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.pages,i=o.features,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=s.size,u=s.maxStoredPages,p=s.startIndex,d=P(n,r,a,l),m=d[1]-d[0]+1,y=c(e,"features",[]);y.length!==m*l&&(y=y.concat(f(Array(m*l-y.length>0?m*l-y.length:y.length),!1)));var b=a,g=i,h=b.length+m-Math.max(u,r-n+1);if(h>0)for(var v=n*l,S=r*l,O=v+(S-v)/2,w=0;w<h;w++){var E=_(O,a,v,S),j=E*l;b=x(E,b),g=M(i,j,l)}for(var T=[],A=0;A<m;A++)T.push(p+l*A);return{pages:b.concat(T),features:g.concat(y)}},getRowIdx:w,getPagesToLoad:P}},"./MapStore2/web/client/utils/IdentifyUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getFormatForResponse",(function(){return i})),r.d(t,"responseValidForEdit",(function(){return s}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/FeatureInfoUtils.js"),a=r.n(o),i=function(e,t){var r=e.format,n=e.queryParams,o=void 0===n?{}:n;return o.info_format||o.outputFormat||r&&a.a.INFO_FORMATS[r]||t.format},s=function(e){return!!Object(n.get)(e,"layer.search.url")}},"./MapStore2/web/client/utils/MarkerUtils.js":function(module,exports,__webpack_require__){function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var csstree=__webpack_require__("./node_modules/css-tree/lib/index.js"),assign=__webpack_require__("./node_modules/object-assign/index.js"),css={fontawesome:__webpack_require__("./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt")},baseImageUrl=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"),shadowImageUrl=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png"),baseImage=new Image,shadowImage=new Image;baseImage.src=baseImageUrl,shadowImage.src=shadowImageUrl;var getNodeOfType=function e(t,r){return r(t)?t:t.children?t.children.reduce((function(t,n){return e(n,r)||t}),null):null},glyphs={},loadGlyphs=function loadGlyphs(font){var parsedCss=csstree.toPlainObject(csstree.parse(css[font]));return parsedCss.children.reduce((function(previous,rule){if(rule.prelude){var classSelector=getNodeOfType(rule.prelude,(function(e){return"ClassSelector"===e.type})),pseudoClassSelector=getNodeOfType(rule.prelude,(function(e){return"PseudoClassSelector"===e.type}));if(classSelector&&classSelector.name&&0===classSelector.name.indexOf("fa-")&&pseudoClassSelector&&"before"===pseudoClassSelector.name){var text=getNodeOfType(getNodeOfType(rule.block,(function(e){return"Declaration"===e.type&&"content"===e.property})).value,(function(e){return"String"===e.type})).value;return assign(previous,_defineProperty({},classSelector.name.substring(3),eval("'\\u"+text.substring(2,text.length-1)+"'")))}}return previous}),{})},extraMarkers={size:[36,46],colors:["red","orange-dark","orange","yellow","blue-dark","blue","cyan","purple","violet","pink","green-dark","green","green-light","black"],shapes:["circle","square","star","penta"],icons:[baseImageUrl,shadowImageUrl],images:[shadowImage,baseImage]},getOffsets=function(e,t){return[-extraMarkers.colors.indexOf(e)*extraMarkers.size[0]-2,-extraMarkers.shapes.indexOf(t)*extraMarkers.size[1]]},MarkerUtils={extraMarkers:assign({},extraMarkers,{getOffsets:getOffsets,markerToDataUrl:function(e){var t=e.iconColor,r=e.iconShape,n=e.iconGlyph;if(MarkerUtils.extraMarkers.images){var o=document.createElement("canvas"),a=extraMarkers.size;o.width=a[0],o.height=a[1];var i=o.getContext("2d"),s=getOffsets(t,r);i.drawImage(extraMarkers.images[0],4,31,35,16),i.drawImage(extraMarkers.images[1],Math.abs(s[0]),Math.abs(s[1]),a[0],a[1],0,0,a[0],a[1]),i.font="14px FontAwesome",i.fillStyle="rgb(255,255,255)",i.textBaseline="middle",i.textAlign="center",i.fillText(MarkerUtils.getGlyphs("fontawesome")[n]||"",a[0]/2-2,a[1]/2-7);var l=o.toDataURL("image/png");return o=null,l}return null},matches:function(e,t){return e.iconColor===t.color&&e.iconShape===t.shape},getStyle:function(e){return{iconColor:e.color,iconShape:e.shape}},getGrid:function(){return extraMarkers.shapes.map((function(e){return{name:e,markers:extraMarkers.colors.map((function(t){return{name:t,width:extraMarkers.size[0],height:extraMarkers.size[1],offsets:getOffsets(t,e),style:{color:t,shape:e},thumbnailStyle:{backgroundImage:"url("+extraMarkers.icons[0]+")",width:extraMarkers.size[0]+"px",height:extraMarkers.size[1]+"px",backgroundPositionX:getOffsets(t,e)[0],backgroundPositionY:getOffsets(t,e)[1],cursor:"pointer"}}}))}}))}}),getGlyphs:function(e){return glyphs[e]||(glyphs[e]=loadGlyphs(e)),glyphs[e]}};MarkerUtils.markers={extra:MarkerUtils.extraMarkers},module.exports=MarkerUtils},"./MapStore2/web/client/utils/MeasureUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=n.isArray,a=n.head,i=n.isNaN;function s(e){var t=Math.floor(e),r=60*(e-t),n=Math.floor(r),o=60*(r-n);return t+"° "+n+"' "+Math.floor(o)+"'' "}var l={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};var c=function(e){return!i(parseFloat(e[0]))&&!i(parseFloat(e[1]))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type,n=t;if("LineString"===r){if((n=t.filter(c)).length<2)return[]}else if("Polygon"===r){if((n=a(t).filter(c)).length<3)return[[]];n=[n.concat([a(n)])]}return n};e.exports={validateFeatureCoordinates:u,isValidGeometry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type;if(!r||!t||t&&o(t)&&0===t.length)return!1;var n=u({coordinates:t,type:r});return(n="Polygon"===r?a(n):n).length>0},convertUom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return l[t]&&l[t][r]?e*l[t][r]:e},getFormattedBearingValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.measureTrueBearing,n=void 0!==r&&r,o=t.fractionDigits,a=void 0===o?0:o,i="";if(n){var l="";e>=0&&e<10?l="00":e>10&&e<100&&(l="0");var c=a>0?e.toFixed(a):Math.floor(e);i=l+c+"° T"}else e>=0&&e<90?i="N "+s(e)+"E":e>90&&e<=180?i="S "+s(180-e)+"E":e>180&&e<270?i="S "+s(e-180)+"W":e>=270&&e<=360&&(i="N "+s(360-e)+"W");return i},degToDms:s}},"./MapStore2/web/client/utils/NotificationUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/actions/notifications.js"),o=n.error,a=n.success;e.exports={basicError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=void 0===t?"notification.warning":t,n=e.autoDismiss,a=void 0===n?6:n,i=e.position,s=void 0===i?"tc":i,l=e.message,c=void 0===l?"Error":l;return o({title:r,autoDismiss:a,position:s,message:c})},basicSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=void 0===t?"notification.success":t,n=e.autoDismiss,o=void 0===n?6:n,i=e.position,s=void 0===i?"tc":i,l=e.message,c=void 0===l?"Success":l;return a({title:r,autoDismiss:o,position:s,message:c})}}},"./MapStore2/web/client/utils/PopupUtils.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return s}));var n=r("./node_modules/uuid/index.js"),o=r.n(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o()(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms-map-popup",r=document.createElement("div");return r.setAttribute("id",e+"-map-popup"),r.setAttribute("class",t),r},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("<")},s=function(e,t){if(!t)return e;if(t instanceof Node){var r=document.createDocumentFragment();r.appendChild(t),e.appendChild(r)}else i(t)?e.innerHTML=t:e.append(document.createTextNode(String(t)));return e}},"./MapStore2/web/client/utils/ProxyUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/ConfigUtils.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),a=o.isArray,i=o.isObject,s={needProxy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(e))return e.reduce((function(e,t){return s.needProxy(t)&&e}),!0);var r=!1,o=!(0===e.indexOf("http")),l=!o&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(l){var c=window.location;o=l[1]===c.protocol&&l[3]===c.hostname;var u=l[4],p=c.port;(80!==u&&""!==u||"80"!==p&&""!==p)&&(o=o&&u===p)}if(!o){var f=n.getProxyUrl(t);if(f){var d=[];i(f)&&(d=f.useCORS||[],f=f.url);var m=d.reduce((function(t,r){return t||0===e.indexOf(r)}),!1);m||(r=!0)}}return r},getProxyUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.getProxyUrl(e);return t&&i(t)&&(t=t.url),t}};e.exports=s},"./MapStore2/web/client/utils/ReselectUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=n.isEqualWith,a=n.isObject,i=r("./node_modules/reselect/es/index.js"),s=i.defaultMemoize,l=i.createSelectorCreator,c=function(e,t){return e===t},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(t,r){return Array.isArray(t)&&Array.isArray(r)?t===r||t.length===r.length&&t.reduce((function(t,n,o){return t&&e(n,r[o])}),!0):a(t)&&a(r)?t===r||Object.keys(t).length===Object.keys(r).length&&Object.keys(t).reduce((function(n,o){return n&&e(t[o],r[o])}),!0):t===r}},p=l(s,(function(e,t){return o(e,t,u())}));e.exports={createShallowSelector:p,createShallowSelectorCreator:function(e){return l(s,(function(t,r){return o(t,r,u(e))}))}}},"./MapStore2/web/client/utils/ThumbnailUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(e,t){return new Promise((function(r,n){var o=t||{},a=o.width,i=void 0===a?64:a,s=o.height,l=void 0===s?64:s,c=o.contain,u=o.type,p=void 0===u?"image/jpeg":u,f=o.quality,d=void 0===f?.5:f,m=new Image;m.crossOrigin="anonymous",m.onload=function(){var e=m.naturalWidth/m.naturalHeight,t=i,n=l,o=i/l,a=document.createElement("canvas");a.setAttribute("width",i),a.setAttribute("height",l),a.style.width=i+"px",a.style.height=l+"px";var s=a.getContext("2d"),u=!c&&e<o||c&&e>o?[t,t/e]:[n*e,n];s.save(),s.translate(t/2,n/2),s.drawImage(m,-u[0]/2,-u[1]/2,u[0],u[1]),s.restore();var f=a.toDataURL(p,d);r(f)},m.onerror=function(e){n(e)},m.src=e}))},o=function(e,t){return new Promise((function(r,n){var o=t||{},a=o.type,i=void 0===a?"image/jpeg":a,s=o.quality,l=void 0===s?.5:s,c=document.createElement("video");c.crossOrigin="anonymous";var u=document.createElement("source"),p=document.createElement("canvas");c.addEventListener("loadedmetadata",(function(){var e=c.videoWidth,t=c.videoHeight;p.setAttribute("width",e),p.setAttribute("height",t),p.style.width=e+"px",p.style.height=t+"px"}),!0),c.addEventListener("loadeddata",(function(){c.currentTime=1}),!0),c.addEventListener("seeked",(function(){p.getContext("2d").drawImage(c,0,0);try{var e=p.toDataURL(i,l);r(e)}catch(e){n(e)}}),!0),c.addEventListener("error",(function(e){n(e)}),!0),c.appendChild(u),c.setAttribute("src",e)}))},a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,a=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,i=null===(e=t.match(a))||void 0===e?void 0:e[1];return i?new Promise((function(e){return e("http://img.youtube.com/vi/".concat(i,"/sddefault.jpg"))})):t.match(/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i)?o(t).then((function(e){return n(e,r)})):new Promise((function(e,t){return t("Cannot create a thumbnail from the provided source")}))}},"./MapStore2/web/client/utils/TileConfigProvider.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/ConfigProvider.js"),a=r("./MapStore2/web/client/utils/ConfigUtils.js"),i=r.n(a);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a={getLayerConfig:function(e,t){var r,a,s,c,u=o.a;if("custom"===e)r=t;else if(s=(c=e.split("."))[0],a=c[1],!(r=u[s]))throw new Error("No such provider ("+s+")");var p={url:r.url,options:r.options||{}};if(a&&"variants"in r){if(!(a in r.variants))throw new Error("No such variant of "+(s||r.url)+" ("+a+")");var f,d=r.variants[a];f="string"==typeof d?{variant:d}:d.options,p={url:d.url||p.url,options:l(l({},p.options||{}),f)}}else"function"==typeof p.url&&(p.url=p.url(c.splice(1,c.length-1).join(".")));var m="file:"===window.location.protocol||p.options.forceHTTP;0===p.url.indexOf("//")&&m&&(p.url="http:"+p.url),p.options.retina&&(t.detectRetina&&i.a.getBrowserProperties().retina?t.detectRetina=!1:p.options.retina="");p.options.attribution&&(p.options.attribution=function e(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,(function(t,r){return e(u[r].options.attribution)}))}(p.options.attribution));var y=l(l({},p.options),Object(n.pickBy)(t,(function(e){return void 0!==e})));return[p.url,y]}}},"./MapStore2/web/client/utils/TileProviderUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js").isArray;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/(\{(.*?)\})/g,(function(){var e=arguments[0],r=arguments[2]?arguments[2]:arguments[1];if(["x","y","z"].includes(r))return arguments[0];var n=t[r];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(t)),n}))}e.exports={getUrls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url||"",r=e.subdomains||"";return r&&("string"==typeof r&&(r=r.split("")),n(r))?r.map((function(r){return o(t.replace("{s}",r),e)})):["a","b","c"].map((function(r){return o(t.replace("{s}",r),e)}))},template:o}},"./MapStore2/web/client/utils/VectorStyleUtils.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/node_modules/lodash/lodash.js").isNil,s=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,l=r("./MapStore2/web/client/utils/ColorUtils.js").colorToRgbaStr,c=r("./node_modules/axios/index.js"),u=r("./node_modules/geostyler-sld-parser/build/dist/SldStyleParser.js").default,p=r("./node_modules/geostyler-geocss-parser/build/dist/GeoCSSStyleParser.js").default,f={sld:new u,css:new p},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.filter((function(t){return!i(e[t])})).length>0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["color","opacity","dashArray","dashOffset","lineCap","lineJoin","weight"];return d(e,t)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["fillColor","fillOpacity"];return d(e,t)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","font","fontFamily","fontSize","fontStyle","fontWeight","textAlign","textRotationDeg"];return d(e,t)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["radius"];return d(e,t)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["iconGlyph","iconShape","iconUrl"];return d(e,t)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["symbolUrl"];return d(e,t)},S={centerPoint:{type:"Point",func:function(){}},lineToArc:{type:"LineString",func:function(){}},startPoint:{type:"Point",func:function(){}},endPoint:{type:"Point",func:function(){}}},O=function(e){var t,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},w={},E=function(e,t){if(!e||!t)throw new Error("specify all the params: sha, style");w[e]=t},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style";return w[e]&&w[e][t]},T=function(e){if(e)return O(JSON.stringify(e));throw new Error("hashAndStringify: specify mandatory params: style")},A=function(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return v(e)&&e.symbolUrl?c.get(t,{"Content-Type":"image/svg+xml;charset=utf-8"}).then((function(t){var r=window.URL||window.webkitURL||window,n=(new DOMParser).parseFromString(t.data,"image/svg+xml").firstElementChild;n.setAttribute("fill",e.fillColor||"#FFCC33"),n.setAttribute("fill-opacity",i(e.fillOpacity)?.2:e.fillOpacity),n.setAttribute("stroke",l(e.color||"#FFCC33",i(e.opacity)?1:e.opacity)),n.setAttribute("stroke-opacity",i(e.opacity)?1:e.opacity),n.setAttribute("stroke-width",e.weight||1),n.setAttribute("width",e.size||32),n.setAttribute("height",e.size||32),n.setAttribute("stroke-dasharray",e.dashArray||"none");var a=new Blob([A(n)],{type:"image/svg+xml;charset=utf-8"}),s=r.createObjectURL(a),c=document.createElement("canvas");c.width=e.size,c.height=e.size;var u=c.getContext("2d"),p=new Image;p.src=s;var f="",d=T(e);return p.onload=function(){try{u.drawImage(p,c.width/2-p.width/2,c.height/2-p.height/2),f=c.toDataURL("image/png"),c=null,E(d,{style:o(o({},e),{},{symbolUrlCustomized:s}),base64:f})}catch(e){return}},E(d,{style:o(o({},e),{},{symbolUrlCustomized:s}),svg:n,base64:f}),s})).catch((function(){return r("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})):new Promise((function(e){e(null)}))};e.exports={getGeometryFunction:function(e,t){return S[e]&&S[e][t]},SymbolsStyles:w,registerStyle:E,fetchStyle:j,hashCode:O,hashAndStringify:T,domNodeToString:A,createSvgUrl:_,registerGeometryFunctions:function(e,t,r){if(!(e&&t&&r))throw new Error("specify all the params: functionName, func, type");S[e]={func:t,type:r}},geometryFunctions:S,getStylerTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(e)?"Marker":v(e)?"Symbol":b(e)?"Text":g(e)||"Circle Style"===e.title?"Circle":y(e)?"Polygon":m(e)?"Polyline":""},isAttrPresent:d,addOpacityToColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFCC33",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return s("a",t,e)},isMarkerStyle:h,isSymbolStyle:v,isTextStyle:b,isCircleStyle:g,isStrokeStyle:m,isFillStyle:y,getSymbolsStyles:function(){return w},setSymbolsStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w=e},createStylesAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return v(e)&&!j(T(e))?_(e,e.symbolUrl||e.symbolUrlCustomized).then((function(t){return t?o(o({},e),{},{symbolUrlCustomized:t}):j(T(e))})).catch((function(){return o(o({},e),{},{symbolUrlCustomized:r("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})})):new Promise((function(t){t(v(e)?j(T(e)):e)}))}))},getStyleParser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sld";return f[e]}}},"./MapStore2/web/client/utils/VectorTileUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"VECTOR_FORMATS",(function(){return n})),r.d(t,"isVectorFormat",(function(){return o}));var n=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(e){return-1!==n.indexOf(e)}},"./MapStore2/web/client/utils/cesium/BILTerrainProvider.js":function(e,t){e.exports=function(e){var t={};t.CRS=[{name:"CRS:84",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.GeographicTilingScheme,supportedCRS:"urn:ogc:def:crs:OGC:2:84"},{name:"EPSG:4326",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!0,tilingScheme:e.GeographicTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::4326"},{name:"EPSG:3857",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"},{name:"OSGEO:41001",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"}],t.FormatImage=[{format:"image/png",extension:"png"},{format:"image/jpeg",extension:"jpg"},{format:"image/jpeg",extension:"jpeg"},{format:"image/gif",extension:"gif"},{format:"image/png; mode=8bit",extension:"png"}],t.FormatArray=[{format:"image/bil",postProcessArray:function(e,t,r,n,o){var a,i=new DataView(e),s=new ArrayBuffer(t.height*t.width*2),l=new DataView(s);if(s.byteLength===e.byteLength){for(var c,u=0;u<s.byteLength;u+=2)(c=i.getInt16(u,!1)-o)>n&&c<r?(l.setInt16(u,c,!0),c):l.setInt16(u,0,!0);a=new Int16Array(s)}return a}}],t.WMSParser={},t.TMSParser={},t.WMTSParser={},t.parser=function(r){var n;switch((r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT)).service){case"TMS":n=t.TMSParser.generate(r);break;case"WMTS":n=t.WMTSParser.generate(r);break;default:n=t.WMSParser.generate(r)}return n},t.WMSParser.generate=function(r){var n;if(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),e.defined(r.url)){var o=r.url,a=o.lastIndexOf("?");a>-1&&(o=o.substring(0,a));var i=o+"?SERVICE=WMS&REQUEST=GetCapabilities&tiled=true";e.defined(r.proxy)&&(i=r.proxy.getURL(i)),n=e.when(e.loadXML(i),(function(e){return t.WMSParser.getMetaDatafromXML(e,r)}))}else{if(!e.defined(r.xml))throw new e.DeveloperError("either description.url or description.xml are required.");n=t.WMSParser.getMetaDatafromXML(r.xml,r)}return n},t.WMSParser.getMetaDatafromXML=function(r,n){if(!(r instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");if(!e.defined(n.layerName))throw new e.DeveloperError("description.layerName is required.");var o={},a=n.layerName,i=(e.defaultValue(n.maxLevel,11),void 0);o.heightMapWidth=e.defaultValue(n.heightMapWidth,65),o.heightMapHeight=e.defaultValue(n.heightMapHeight,o.heightMapWidth);var s={width:65,height:65},l=void 0;o.formatImage=n.formatImage,o.formatArray=n.formatArray,o.tilingScheme=void 0;var c=void 0,u=void 0;o.ready=!1,o.levelZeroMaximumGeometricError=void 0,o.waterMask=e.defaultValue(n.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(n.offset,0),o.highest=e.defaultValue(n.highest,12e3),o.lowest=e.defaultValue(n.lowest,-500);var p=n.styleName;o.hasStyledImage=e.defaultValue(n.hasStyledImage,"string"==typeof n.styleName);var f=r.querySelector("[version]");null!==f&&(i=f.getAttribute("version"),u=/^1\.[3-9]\./.test(i));var d=r.querySelector("Request>GetMap OnlineResource").getAttribute("xlink:href"),m=d.indexOf("?");m>-1&&(d=d.substring(0,m)),e.defined(n.proxy)&&(d=n.proxy.getURL(d));var y=r.querySelectorAll("Request>GetMap>Format");if(!e.defined(o.formatImage))for(var b=0;b<y.length&&!e.defined(o.formatArray);b++){(g=t.FormatArray.filter((function(e){return e.format===y[b].textContent}))).length>0&&(o.formatArray=g[0])}e.defined(o.formatArray)&&"string"==typeof o.formatArray.format&&"function"==typeof o.formatArray.postProcessArray?o.formatArray.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}:o.formatArray=void 0;for(b=0;b<y.length&&!e.defined(o.formatImage);b++){var g;(g=t.FormatImage.filter((function(e){return e.format===y[b].textContent}))).length>0&&(o.formatImage=g[0])}e.defined(o.formatImage)&&"string"==typeof o.formatImage.format?o.formatImage.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:2,stride:4,elementMultiplier:256,isBigEndian:!0}:o.formatImage=void 0;for(var h,v=r.querySelectorAll("Layer[queryable='1'],Layer[queryable='true']"),S=0;S<v.length&&!e.defined(h);S++)if(v[S].querySelector("Name").textContent===a){var O=(h=v[S]).getAttribute("fixedHeight"),w=h.getAttribute("fixedWidth");e.defined(O)&&(O=parseInt(O),o.heightMapHeight=O>0&&O<o.heightMapHeight?O:o.heightMapHeight,s.height=O>0?O:s.height),e.defined(w)&&(w=parseInt(w),o.heightMapWidth=w>0&&w<o.heightMapWidth?w:o.heightMapWidth,s.width=w>0?w:s.width)}if(e.defined(h)&&e.defined(i)){for(var E=!1,j=0;j<t.CRS.length&&!E;j++){var T=t.CRS[j],A=T.name,_=h.querySelector("BoundingBox[SRS='"+A+"'],BoundingBox[CRS='"+A+"']");if(null!==_){var x,M,P,C;l=A,c=T.firstAxeIsLatitude,o.tilingScheme=new T.tilingScheme({ellipsoid:T.ellipsoid}),c&&u?(x=parseFloat(_.getAttribute("miny")),M=parseFloat(_.getAttribute("maxy")),P=parseFloat(_.getAttribute("minx")),C=parseFloat(_.getAttribute("maxx"))):(x=parseFloat(_.getAttribute("minx")),M=parseFloat(_.getAttribute("maxx")),P=parseFloat(_.getAttribute("miny")),C=parseFloat(_.getAttribute("maxy")));new e.Rectangle(x,P,M,C);o.getTileDataAvailable=function(e,t,r){return!0},E=!0}}if(e.defined(p)){for(var L=h.querySelectorAll("Style>Name"),R=!1,I=0;I<L.length&&!R;I++)p===L[I].textContent&&(R=!0);R||(p=void 0)}for(var D=r.querySelectorAll("VendorSpecificCapabilities>TileSet"),N=!1,k=0;k<D.length&&!N;k++){var F=null!==D[k].querySelector("BoundingBox[SRS='"+l+"'],BoundingBox[CRS='"+l+"']");D[k].querySelector("Layers").textContent===a&&F&&(s.width=parseInt(D[k].querySelector("Width").textContent),s.height=parseInt(D[k].querySelector("Height").textContent),N=!0)}o.ready=E&&(e.defined(o.formatImage)||e.defined(o.formatArray))&&e.defined(i)}if(o.ready){var G=d+"?SERVICE=WMS&REQUEST=GetMap&layers="+a+"&version="+i+"&bbox=";if(G+=u&&c?"{south},{west},{north},{east}":"{west},{south},{east},{north}",G+="&crs="+l+"&srs="+l,o.formatImage){var U=G+"&format="+o.formatImage.format+"&width="+s.width+"&height="+s.height;e.defined(p)&&(U+="&styles="+p+"&style="+p),o.URLtemplateImage=function(){return U},o.imageSize=s}if(o.formatArray){var B=G+"&format="+o.formatArray.format+"&width="+o.heightMapWidth+"&height="+o.heightMapHeight;o.URLtemplateArray=function(){return B}}}return o},t.TMSParser.generate=function(r){var n;if(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),e.defined(r.url))n=e.loadXML(r.url).then((function(e){return t.TMSParser.parseXML(e,r)}));else{if(!e.defined(r.xml))throw new e.DeveloperError("either description.url or description.xml are required.");n=t.TMSParser.parseXML(r.xml,r)}return n},t.TMSParser.parseXML=function(r,n){if(!(r instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o;if(null!=r.querySelector("TileMapService")){if(!e.defined(n.layerName))throw new e.DeveloperError("layerName is required.");var a=[].slice.apply(r.querySelectorAll("TileMap[title='"+n.layerName+"']")).map((function(r){var o=r.getAttribute("href");return e.defined(n.proxy)&&(o=n.proxy.getURL(o)),e.when(e.loadXML(o),(function(e){return t.TMSParser.getMetaDatafromXML(e,n)}))}));o=e.when.all(a).then((function(t){for(var r,n=0;n<t.length&&!e.defined(r);n++)e.defined(t[n])&&(r=t[n]);return r})).then((function(e){return e}))}else o=t.TMSParser.getMetaDatafromXML(r,n);return o},t.TMSParser.getMetaDatafromXML=function(r,n){var o={ready:!1};o.heightMapWidth=e.defaultValue(n.heightMapWidth,65),o.heightMapHeight=e.defaultValue(n.heightMapHeight,o.heightMapWidth);var a=e.defaultValue(n.maxLevel,11),i=n.proxy;o.hasStyledImage=e.defaultValue(n.hasStyledImage,"string"==typeof n.styleName),o.waterMask=e.defaultValue(n.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(n.offset,0),o.highest=e.defaultValue(n.highest,12e3),o.lowest=e.defaultValue(n.lowest,-500);var s=r.querySelector("SRS").textContent,l=t.CRS.filter((function(e){return e.name===s}));l.length>0&&(o.tilingScheme=new l[0].tilingScheme({ellipsoid:l[0].ellipsoid}));var c=r.querySelector("TileFormat"),u=t.FormatImage.filter((function(e){return e.extension==c.getAttribute("extension")}));u.length>0&&(o.formatImage=u[0],o.imageSize={},o.imageSize.width=parseInt(c.getAttribute("width")),o.imageSize.height=parseInt(c.getAttribute("height")));var p=[].slice.call(r.querySelectorAll("TileSets>TileSet")),f=[];if(e.defined(o.formatImage)&&((f=p.map((function(t){var r=t.getAttribute("href")+"/{x}/{tmsY}."+o.formatImage.extension;return e.defined(i)&&(r=i.getURL(r)),{url:r,level:parseInt(t.getAttribute("order"))}}))).sort((function(e,t){return e.level-t.level})),f.length>0&&(o.tileSets=f)),e.defined(o.tileSets)&&e.defined(o.formatImage)&&e.defined(o.tilingScheme)){o.URLtemplateImage=function(e,t,r){var n="";return r<f.length&&(n=f[r].url),n};var d=r.querySelector("BoundingBox"),m=parseFloat(d.getAttribute("miny")),y=parseFloat(d.getAttribute("maxy")),b=parseFloat(d.getAttribute("minx")),g=parseFloat(d.getAttribute("maxx")),h=new e.Rectangle(b,m,g,y);o.getTileDataAvailable=function(t,r,n){var i,s,l,c,u,p,d=o.tilingScheme.tileXYToNativeRectangle(t,r,n),m=(i=h,s=d,l=Math.max(i.west,s.west),c=Math.min(i.east,s.east),u=Math.max(i.south,s.south),p=Math.min(i.north,s.north),c<=l||u>=p?void 0:new e.Rectangle(l,u,c,p));return e.defined(m)&&n<a&&n<f.length},o.ready=!0}else o=void 0;return o},t.WMTSParser.generate=function(r){var n;if(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),e.defined(r.url)){var o=r.url,a=o.lastIndexOf("?");a>-1&&(o=o.substring(0,a));var i=o+"?REQUEST=GetCapabilities";e.defined(r.proxy)&&(i=r.proxy.getURL(i)),n=e.loadXML(i).then((function(e){return t.WMTSParser.getMetaDatafromXML(e,r)}))}else{if(!e.defined(r.xml))throw new e.DeveloperError("either description.url or description.xml are required.");n=t.WMTSParser.getMetaDatafromXML(r.xml,r)}return n},t.WMTSParser.getMetaDatafromXML=function(r,n){if(!(r instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o={},a=n.layerName;o.ready=!1,o.heightMapWidth=e.defaultValue(n.heightMapWidth,65),o.heightMapHeight=e.defaultValue(n.heightMapHeight,o.heightMapWidth);var i,s=e.defaultValue(n.maxLevel,12),l=n.proxy,c=n.styleName;o.hasStyledImage=e.defaultValue(n.hasStyledImage,"string"==typeof n.styleName),o.waterMask=e.defaultValue(n.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(n.offset,0),o.highest=e.defaultValue(n.highest,12e3),o.lowest=e.defaultValue(n.lowest,-500);for(var u,p,f,d=[],m=[].slice.call(r.querySelectorAll('Operation[name="GetTile"] HTTP Get')).map((function(e){var t,r=e.querySelector("Value").textContent;return"KVP"===r&&(t={node:e,type:"KVP"}),"RESTful"===r&&(t={node:e,type:"RESTful"}),t})).filter((function(t){return e.defined(t)})),y=0;y<m.length;y++){var b=m[y];"RESTful"!==b.type||e.defined(p)||(p=b.node.getAttribute("xlink:href"),e.defined(l)&&(p=l.getURL(p))),"KVP"!==b.type||e.defined(u)||(u=b.node.getAttribute("xlink:href"),e.defined(l)&&(u=l.getURL(u)))}var g,h=r.querySelectorAll("Contents>Layer>Identifier");for(y=0;y<h.length&&!e.defined(g);y++)a===h[y].textContent&&(g=h[y].parentNode);if(e.defined(g)){var v,S,O=g.querySelectorAll("Style");for(y=0;y<O.length;y++){var w=O[y].querySelector("Identifier").textContent;null!=O[y].getAttribute("isDefault")&&(v=w),w===c&&(S=w)}e.defined(c)&&c==S||(c=e.defaultValue(v,""));for(var E=[].slice.call(g.querySelectorAll("Format")),j=0;j<t.FormatImage.length&&!e.defined(f);j++){E.filter((function(e){return e.textContent===t.FormatImage[j].format})).length>0&&(f=t.FormatImage[j])}d=g.querySelectorAll("TileMatrixSetLink")}for(var T=[].slice.call(r.querySelectorAll("TileMatrixSet>Identifier")),A=0;A<d.length&&!o.ready;A++){var _,x,M=d[A],P=M.querySelector("TileMatrixSet").textContent;for(y=0;y<T.length&&!e.defined(_);y++)T[y].textContent===P&&(_=T[y].parentNode);for(var C=_.querySelector("SupportedCRS").textContent,L=0;L<t.CRS.length&&!e.defined(x);L++)t.CRS[L].SupportedCRS===C&&(x=t.CRS[L]);if(e.defined(x)){var R,I=[].slice.call(_.querySelectorAll("TileMatrix"));(R=I.map((function(e){var t=e.querySelector("Identifier").textContent,r=parseInt(e.querySelector("MatrixWidth").textContent),n=parseInt(e.querySelector("MatrixHeight").textContent),o=parseInt(e.querySelector("TileWidth").textContent),a=parseInt(e.querySelector("TileHeight").textContent);return{id:t,maxWidth:r,maxHeight:n,scaleDenominator:parseFloat(e.querySelector("ScaleDenominator").textContent),complete:!1,tileWidth:o,tileHeight:a}}))).sort((function(e,t){return t.scaleDenominator-e.scaleDenominator})),listTileMatrixLimits=M.querySelectorAll("TileMatrixSetLimits>TileMatrixLimits");for(var D=0;D<R.length;D++)for(var N=R[D],k=0;k<listTileMatrixLimits.length;k++){var F=listTileMatrixLimits[k];N.id===F.querySelector("TileMatrix").textContent&&(N.minTileRow=parseInt(F.querySelector("MinTileRow").textContent),N.maxTileRow=parseInt(F.querySelector("MaxTileRow").textContent),N.minTileCol=parseInt(F.querySelector("MinTileCol").textContent),N.maxTileCol=parseInt(F.querySelector("MaxTileCol").textContent),N.complete=!0,R[D]=N)}if(R.length>0){o.tilingScheme=new x.tilingScheme({ellipsoid:x.ellipsoid,numberOfLevelZeroTilesX:R[0].maxWidth,numberOfLevelZeroTilesY:R[0].maxHeight});var G=g.querySelector("ResourceURL[format='"+f.format+"']");if(null!=G?i=G.getAttribute("template").replace("{TileRow}","{y}").replace("{TileCol}","{x}").replace("{Style}",c).replace("{TileMatrixSet}",P).replace("{layer}",a).replace("{infoFormatExtension}",f.extension):e.defined(u)&&(i=u+"service=WMTS&request=GetTile&version=1.0.0&layer="+a+"&style=&"+c+"format="+f.format+"&TileMatrixSet="+P+"&TileMatrix={TileMatrix}&TileRow={y}&TileCol={x}"),e.defined(i)){o.getTileDataAvailable=function(e,t,r){var n=!1;if(r<s&&r<R.length){var o=R[r];n=o.complete?t<=o.maxTileRow&&t>=o.minTileRow&&e<=o.maxTileCol&&e>=o.minTileCol:e<o.maxWidth&&t<o.maxHeight}return n},o.URLtemplateImage=function(e,t,r){var n="";if(o.getTileDataAvailable(e,t,r)){var a=R[r];n=i.replace("{TileMatrix}",a.id)}return n};var U={width:R[0].tileWidth,height:R[0].tileHeight};0==R.filter((function(e){return e.tileWidth!=U.width||e.tileHeight!=U.height})).length&&(o.imageSize=U),o.ready=!0}}}}return o};var r=function(r){if(!e.defined(r))throw new e.DeveloperError("description is required.");var o=new e.Event,a=r.credit;"string"==typeof a&&(a=new e.Credit(a)),this.ready=!1,e.defineProperties(this,{errorEvent:{get:function(){return o}},credit:{get:function(){return a}},hasVertexNormals:{get:function(){return!1}}}),n(t.parser(r),this)};function n(t,n){e.when(t,(function(t){e.defined(t)&&t.ready&&(t.levelZeroMaximumGeometricError=e.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(t.tilingScheme.ellipsoid,t.heightMapWidth,t.tilingScheme.getNumberOfXTilesAtLevel(0)),e.defined(t.URLtemplateImage)&&(t.getHeightmapTerrainDataImage=function(i,s,l){var c;if(!isNaN(i+s+l)){var u=o(t.URLtemplateImage(i,s,l),i,s,l,n),p={highest:t.highest,lowest:t.lowest,offset:t.offset},f=a(i,s,l,n),d=e.throttleRequestByServer(u,e.loadImage);e.defined(d)&&(c=e.when(d,(function(e){return r.imageToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.waterMask,f,t.hasStyledImage)})).otherwise((function(){return new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return c}),e.defined(t.URLtemplateArray)&&(t.getHeightmapTerrainDataArray=function(i,s,l){var c;if(!isNaN(i+s+l)){var u=o(t.URLtemplateArray(i,s,l),i,s,l,n),p={highest:t.highest,lowest:t.lowest,offset:t.offset},f=a(i,s,l,n),d=e.throttleRequestByServer(u,e.loadArrayBuffer);e.defined(d)&&(c=e.when(d,(function(e){return r.arrayToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.formatArray,t.waterMask,f)})).otherwise((function(){return e.defined(t.getHeightmapTerrainDataImage)?t.getHeightmapTerrainDataImage(i,s,l):new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return c}),n.getLevelMaximumGeometricError=function(e){return t.levelZeroMaximumGeometricError/(1<<e)},n.requestTileGeometry=function(r,n,o){var a;return e.defined(t.getHeightmapTerrainDataArray)?a=t.getHeightmapTerrainDataArray(r,n,o):e.defined(t.getHeightmapTerrainDataImage)&&(a=t.getHeightmapTerrainDataImage(r,n,o)),a},e.defineProperties(n,{tilingScheme:{get:function(){return t.tilingScheme}},ready:{get:function(){return t.ready}},hasWaterMask:{get:function(){return t.waterMask}},heightMapHeight:{get:function(){return t.heightMapHeight}},heightMapWidth:{get:function(){return t.heightMapWidth}},getTileDataAvailable:{get:function(){return t.getTileDataAvailable}}}))}))}function o(e,t,r,n,o){var a=o.tilingScheme.tileXYToNativeRectangle(t,r,n),i=(a.east-a.west)/(o.heightMapWidth-1),s=(a.north-a.south)/(o.heightMapHeight-1);a.west-=.5*i,a.east+=.5*i,a.south-=.5*s,a.north+=.5*s;var l=o.tilingScheme.getNumberOfYTilesAtLevel(n)-r-1;return e.replace("{south}",a.south).replace("{north}",a.north).replace("{west}",a.west).replace("{east}",a.east).replace("{x}",t).replace("{y}",r).replace("{tmsY}",l)}function a(e,t,r,n){var o=0,a=r+1;return o|=n.getTileDataAvailable(2*e,2*t,a)?1:0,o|=n.getTileDataAvailable(2*e+1,2*t,a)?2:0,o|=n.getTileDataAvailable(2*e,2*t+1,a)?4:0,o|=n.getTileDataAvailable(2*e+1,2*t+1,a)?8:0}return r.arrayToHeightmapTerrainData=function(t,r,n,o,a,i){"number"==typeof n&&(n={width:n,height:n});var s=o.postProcessArray(t,n,r.highest,r.lowest,r.offset);if(!e.defined(s))throw new e.DeveloperError("no good size");var l={buffer:s,width:n.width,height:n.height,childTileMask:i,structure:o.terrainDataStructure};if(a){for(var c=new Uint8Array(s.length),u=0;u<s.length;u++)s[u]<=0&&(c[u]=255);l.waterMask=c}return new e.HeightmapTerrainData(l)},r.imageToHeightmapTerrainData=function(t,r,n,o,a,i){"number"==typeof n&&(n={width:n,height:n});for(var s=e.getImagePixels(t,n.width,n.height),l=new Uint8Array(s.length/4),c=new Int16Array(s.length/4),u=0,p=0,f=0;f<s.length;f+=4){var d=s[f],m=s[f+1],y=s[f+2]>128,b=(d<<8|m)-r.offset-32768;b>r.lowest&&b<r.highest&&(y||i)?(c[f/4]=b,p+=b,u++):c[f/4]=0==u?0:p/u}var g={buffer:c,width:n.width,height:n.height,childTileMask:a,structure:{heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}};if(o){for(l=new Uint8Array(heightBuffer.length),f=0;f<heightBuffer.length;f++)heightBuffer[f]<=0&&(l[f]=255);g.waterMask=l}return new e.HeightmapTerrainData(g)},r}},"./MapStore2/web/client/utils/cesium/ClickUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/cesium.js");e.exports={getMouseXYZ:function(e,t){var r=e.scene,o=t.position||t.endPosition;if(!o)return null;var a=e.camera.getPickRay(o),i=e.scene.globe.pick(a,e.scene),s=r._globe.ellipsoid;if(n.defined(i)){var l=s.cartesianToCartographic(i),c=function(e,t){if(null!==t.position){var r=e.scene,n=r._globe.ellipsoid;return r._camera.pickEllipsoid(t.position||t.endPosition,n)}return null}(e,t);return c&&(l.height=r._globe.getHeight(l),l.cartesian=c,l.position=i),l}return null},getMouseTile:function(e,t){var r=e.scene;if(!t.position)return null;var n=e.camera.getPickRay(t.position);return e.scene.globe.pickTile(n,r)}}},"./MapStore2/web/client/utils/cesium/WMSUtils.js":function(e,t){e.exports={PARAM_OPTIONS:["layers","styles","style","format","transparent","version","tiled","opacity","zindex","srs","singletile","_v_","filterobj"]}},"./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"boundsToOLExtent",(function(){return n})),r.d(t,"fromLeafletFeatureToQueryform",(function(){return o}));var n=function(e){return[e.getWest(),e.getSouth(),e.getEast(),e.getNorth()]},o=function(e){var t=e.toGeoJSON(),r=e.getBounds(),o=n(r),a=r.getCenter(),i=e.getRadius?e.getRadius():0,s=t.features[0].geometry.coordinates;return{type:t.features[0].geometry.type,extent:o,center:a,coordinates:s,radius:i,projection:"EPSG:4326"}}},"./MapStore2/web/client/utils/leaflet/Icons.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").isFunction;r("./node_modules/leaflet-extra-markers/src/assets/js/leaflet.extra-markers.js"),r("./node_modules/leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css"),e.exports={extra:{getIcon:function(e){var t=e.iconPrefix||"fa";return n.ExtraMarkers.icon({icon:t+"-"+e.iconGlyph,markerColor:e.iconColor||"blue",shape:e.iconShape||"square",prefix:t,extraClasses:e.highlight?"marker-selected":""})}},standard:{getIcon:function(e){return n.icon({iconUrl:e.iconUrl||e.symbolUrlCustomized||e.symbolUrl,shadowUrl:e.shadowUrl,iconSize:e.iconSize,shadowSize:e.shadowSize,iconAnchor:e.iconAnchor,shadowAnchor:e.shadowAnchor,popupAnchor:e.popupAnchor})}},html:{getIcon:function(e,t){return n.divIcon(o(e.html)?e.html(t):e.html)}}}},"./MapStore2/web/client/utils/leaflet/Vector.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/web/client/libs/leaflet.js"),s=r("./MapStore2/web/client/utils/leaflet/Icons.js"),l=r("./node_modules/object-assign/index.js"),c=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),u=c.isMarkerStyle,p=c.isSymbolStyle,f=function e(t,r,n){for(var o,a=[],i=t.length,s=0;s<i;s++)o=r?e(t[s],r-1,n):(n||this.coordsToLatLng)(t[s]),a.push(o);return a},d=function(e){if("GeometryCollection"===e.geometry.type)return!1;var t=e.style;return t&&(u(t)||p(t)||t.iconUrl||t.iconGlyph)},m={coordsToLatLngF:function(e){return new i.LatLng(e[1],e[0],e[2])},coordsToLatLngs:f,isMarker:d,getPointLayer:function(e,t,r,n){return e?e(t,r):m.pointToLayer(r,t,o(o({},n.style),{},{styleName:n.styleName,highlight:n.highlight}))},pointToLayer:function(e,t,r){var n=r.Point||r.MultiPoint||r,o=function(e,t){if(e&&e.iconGlyph){var r=e.iconLibrary||"extra";if(s[r])return s[r].getIcon(e)}return e&&e.html&&t?s.html.getIcon(e,t):e&&e.iconUrl||e.symbolUrlCustomized||e.symbolUrl?s.standard.getIcon(e):null}(n,t);return o?i.marker(e,{icon:o,opacity:n&&n.opacity||1}):i.marker(e,{opacity:n&&n.opacity||1})},toValidGeoJSON:function(){},createTextPointMarkerLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pointToLayer,r=e.geojson,n=e.latlng,a=e.options,s=e.style,l=void 0===s?{}:s,c=e.highlight,u=void 0!==c&&c;if(r.properties&&r.properties.isText){var p=i.divIcon({html:'<span style="\n                font:'.concat(l.font,";\n                color:").concat(l.fillColor,";\n                -webkit-text-stroke-width:",1,"px;\n                -webkit-text-stroke-color:").concat(l.color,';">').concat(r.properties.valueText,"</span>"),className:""});return new i.Marker(n,{icon:p})}return m.getPointLayer(t,r,n,o(o({},a),{},{style:l,highlight:u}))},createPolygonCircleLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geojson,r=e.style,n=void 0===r?{}:r,a=e.latlngs,s=void 0===a?[]:a,l=e.coordsToLatLng,c=void 0===l?function(){}:l;if(t.properties&&t.properties.isCircle){var u=c(t.properties.center);return i.circle(u,o(o({},n),{},{radius:t.properties.radius}))}return new i.Polygon(s,n)},geometryToLayer:function(e,t){var r,n="Feature"===e.type?e.geometry:e,a=n?n.coordinates:null,s=[],c=o({styleName:t.styleName,style:t.style&&t.style[0]||t.style},e),u=t&&!d(c)?function(e,t){return"marker"===c.styleName?i.marker(t,c.style):i.circleMarker(t,c.style&&c.style[0]||c.style)}:null,p=t&&t.coordsToLatLng||m.coordsToLatLngF;if(!a&&!n)return null;var y,b,g,h,v=c.style||l({},t.style&&t.style[n.type]||t.style,{highlight:t.style&&t.style.highlight});switch(n.type){case"Point":return y=p(a),r=m.createTextPointMarkerLayer({pointToLayer:u,geojson:e,latlng:y,options:t,style:v,highlight:v&&v.highlight});case"MultiPoint":for(g=0,h=a.length;g<h;g++)y=p(a[g]),(r=m.createTextPointMarkerLayer({pointToLayer:u,geojson:e,latlng:y,options:t,style:v,highlight:v&&v.highlight})).msId=e.id,s.push(r);return new i.FeatureGroup(s);case"LineString":return v=m.updateHighlightStyle(v),b=f(a,"LineString"===n.type?0:1,p),(r=new i.Polyline(b,v)).msId=e.id,r;case"MultiLineString":for(v=m.updateHighlightStyle(v),g=0,h=(b=f(a,"LineString"===n.type?0:1,p)).length;g<h;g++)(r=new i.Polyline(b[g],v)).msId=e.id,r&&s.push(r);return new i.FeatureGroup(s);case"Polygon":return v=m.updateHighlightStyle(v),b=f(a,"Polygon"===n.type?1:2,p),(r=m.createPolygonCircleLayer({geojson:e,style:v,latlngs:b,coordsToLatLng:p})).msId=e.id,r;case"MultiPolygon":for(v=m.updateHighlightStyle(v),g=0,h=(b=f(a,"Polygon"===n.type?1:2,p)).length;g<h;g++)(r=m.createPolygonCircleLayer({geojson:e,style:v,latlngs:b,coordsToLatLng:p})).msId=e.id,r&&s.push(r);return new i.FeatureGroup(s);case"GeometryCollection":for(g=0,h=n.geometries.length;g<h;g++)(r=m.geometryToLayer({geometry:n.geometries[g],type:"Feature",properties:e.properties},t))&&s.push(r);return new i.FeatureGroup(s);default:throw new Error("Invalid GeoJSON object.")}},updateHighlightStyle:function(e){var t=e.highlight;return t?l({},e,{dashArray:t?"10":null}):e}};e.exports=m},"./MapStore2/web/client/utils/leaflet/WMSUtils.js":function(e,t,r){var n=r("./node_modules/object-assign/index.js"),o={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return n({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(r){r&&r.toLowerCase&&o.PARAM_OPTIONS.indexOf(r.toLowerCase())>=0&&(t[r]=e[r])})),t}};e.exports=o},"./MapStore2/web/client/utils/leaflet/WMTS.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r("./MapStore2/web/client/libs/leaflet.js"),i=r("./MapStore2/web/client/utils/MapUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.head,u=l.isNumber,p=a.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,r){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=a.extend({},this.defaultWmtsParams),o=t.tileSize||this.options.tileSize;for(var i in t.detectRetina&&a.Browser.retina?n.width=n.height=2*o:n.width=n.height=o,t)this.options.hasOwnProperty(i)||"crs"===i||(n[i]=t[i]);this.wmtsParams=n,this.matrixIds=r.matrixIds&&this.getMatrix(r.matrixIds,r)||this.getDefaultMatrix(r),this.matrixSet=r.matrixSet&&r.matrixSet.TileMatrix||[],this.ignoreErrors=r.ignoreErrors||!1,a.setOptions(this,t)},getWMTSParams:function(e,t,r,n,o){var a=i.getScales()[r],l=c(e.map((function(t,r){if(r===e.length-1)return null;var n=parseFloat(t.ScaleDenominator),o=parseFloat(e[r+1].ScaleDenominator);return n>=a&&o<a?a-o>(n-o)/2?{id:r,data:t}:{id:r+1,data:e[r+1]}:null})).filter((function(e){return e}))),p=l&&u(l.id)&&l.id+""||0===e.length&&r||null;if(!t[p])return null;var f=t[p].identifier,d=l.data&&l.data.TopLeftCorner&&s.parseString(l.data.TopLeftCorner)||t[p].topLeftCorner,m=d.lng||d.x,y=d.lat||d.y,b=Math.round((n.x-m)/o),g=-Math.round((n.y-y)/o),h=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},v=t[p].ranges||h;return v&&!function(e,t,r){return!(e<r.cols.min||e>r.cols.max)&&!(t<r.rows.min||t>r.rows.max)}(b,g,v)?null:{ident:f,tilecol:b,tilerow:g}},getTileUrl:function(e){var t=this._map,r=t.options.crs,o=this.options.tileSize,i=e.multiplyBy(o);i.x+=1,i.y-=1;var s=i.add([o,o]),l=r.project(t.unproject(i,e.z)),c=r.project(t.unproject(s,e.z)).x-l.x,u=this.getWMTSParams(n(this.matrixSet),n(this.matrixIds),e.z,l,c);if(!u)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var p=a.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:u.tilerow,TileCol:u.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:u.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?p:p+a.Util.getParamString(this.wmtsParams,p,!0)+"&tilematrix="+u.ident+"&tilerow="+u.tilerow+"&tilecol="+u.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new a.LatLng(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),r=0;r<22;r++)t[r]={identifier:e.tileMatrixPrefix+r,topLeftCorner:new a.LatLng(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});e.exports=p},"./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("./MapStore2/node_modules/lodash/isArray.js"),o=r.n(n),a=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),i=r("./node_modules/ol/extent.js"),s=r("./node_modules/ol/geom/Circle.js"),l=function(e,t,r,n){if(o()(t)&&o()(t[0])&&o()(t[0][0])){var i=Object(a.reproject)(t[0][0],n,r);return Math.sqrt(Math.pow(e[0]-i.x,2)+Math.pow(e[1]-i.y,2))}return 100},c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(!e.getGeometry()||"Polygon"!==e.getGeometry().getType()||e.getProperties().center&&0===e.getProperties().center.length)return e;if(e.getProperties()&&e.getProperties().isCircle&&e.getProperties().center&&e.getProperties().center[0]&&e.getProperties().center[1]){var n,o=e.getGeometry().getExtent();n=e.getProperties().center?[(n=Object(a.reproject)(e.getProperties().center,"EPSG:4326",t)).x,n.y]:Object(i.x)(o);var c=e.getProperties().crs===t?e.getProperties().radius:l(n,e.getGeometry().getCoordinates(),t,r);return e.setGeometry(new s.a(n,c)),e}return e}},"./MapStore2/web/client/utils/openlayers/DrawUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"createOLGeometry",(function(){return v})),r.d(t,"isPolygon",(function(){return S})),r.d(t,"DEFAULT_INTERACTION_OPTIONS",(function(){return O}));var n=r("./node_modules/ol/interaction/DragPan.js"),o=r("./node_modules/ol/interaction/KeyboardPan.js"),a=r("./node_modules/ol/interaction/MouseWheelZoom.js"),i=r("./node_modules/ol/interaction/DoubleClickZoom.js"),s=r("./node_modules/ol/interaction/DragZoom.js"),l=r("./node_modules/ol/interaction/KeyboardZoom.js"),c=r("./node_modules/ol/interaction/PinchZoom.js"),u=r("./node_modules/ol/interaction/PinchRotate.js"),p=r("./node_modules/ol/interaction/DragRotate.js"),f=r("./node_modules/ol/geom/Point.js"),d=r("./node_modules/ol/geom/LineString.js"),m=r("./node_modules/ol/geom/MultiPoint.js"),y=r("./node_modules/ol/geom/MultiLineString.js"),b=r("./node_modules/ol/geom/MultiPolygon.js"),g=r("./node_modules/ol/geom/Circle.js"),h=r("./node_modules/ol/geom/Polygon.js"),v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.type,n=t.coordinates,o=t.radius,a=t.center;switch(r){case"Point":e=new f.a(n||[]);break;case"LineString":e=new d.a(n||[]);break;case"MultiPoint":e=new m.a(n||[]);break;case"MultiLineString":e=new y.a(n||[]);break;case"MultiPolygon":e=new b.a(n||[]);break;default:e=o&&a?Object(h.c)(new g.a([a.x,a.y],o),100):new h.b(n||[])}return e},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.geometry&&"Polygon"===e.geometry.type},O={dragPan:{options:{kinetic:!1},Instance:n.a},keyboardPan:{options:{kinetic:!1},Instance:o.a},mouseWheelZoom:{options:{duration:0},Instance:a.a},doubleClickZoom:{options:{duration:0},Instance:i.a},shiftDragZoom:{options:{duration:0},Instance:s.a},keyboardZoom:{options:{},Instance:l.a},pinchZoom:{options:{duration:0},Instance:c.a},pinchRotate:{options:{},Instance:u.a},altShiftDragRotate:{options:{},Instance:p.a}}},"./MapStore2/web/client/utils/openlayers/VectorTileUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var n=r("./node_modules/ol/format/MVT.js"),o=r("./node_modules/ol/format/GeoJSON.js"),a=r("./node_modules/ol/format/TopoJSON.js"),i=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),s={"application/vnd.mapbox-vector-tile":n.a,"application/json;type=geojson":o.a,"application/json;type=topojson":a.a},l=function(e,t){Object(i.d)({asPromise:!0,style:e}).then((function(e){t.setStyle(e)})).catch((function(){}))}},"./MapStore2/web/client/utils/openlayers/highlight.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAABIUlEQVRIS+3UsYoCMRDG8f8q+EBid5WNnc019la2Vr6Ala1g4SvY+RTXiVdcJQgHV9jJIdhKZCNx2GwyibCNW4bd+X47k6Sg4adoOJ83wNcBsz4CvoGfF4zpEzgCO1mrCmDWpsAC+Af6wD4DMQGWwBUYAF9uLQlww1vli+cMhA1vl7UuEuECqsItNgUhw22tJ4QLGANrwP657LoG4Qt3EV3g4ALMfLZAp2beMYhQuCn/B/SAk9wDQ2CTgYgN/wB+jaTqFKQi1OE+gFnXIpLC6wAaxAqYAfaoVW0hM/NH2+vuAflxTCdCd5Q3PNQBWzgHURseC4gdh+xEMFwD0CKiwrWAWER0eAoghFCFpwJ8CHV4DkAiksJzARYxL2/O+92ufW42SVMYbhcsEwAAAABJRU5ErkJgggAA"},"./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./js/epics/index.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/rxjs/Rx.js"),s=r("./MapStore2/web/client/actions/layers.js").SELECT_NODE,l=r("./MapStore2/web/client/actions/featuregrid.js").setPermission,c=r("./MapStore2/web/client/actions/styleeditor.js"),u=c.setEditPermissionStyleEditor,p=c.INIT_STYLE_SERVICE,f=r("./js/api/geonode.js"),d=f.layerEditPermissions,m=f.styleEditPermissions,y=f.updateThumb,b=r("./MapStore2/web/client/selectors/layers.js"),g=b.getSelectedLayer,h=b.layersSelector,v=r("./MapStore2/web/client/selectors/map.js").mapSelector,S=r("./MapStore2/web/client/utils/ConfigUtils.js"),O=r("./MapStore2/web/client/actions/maplayout.js").updateMapLayout,w=r("./MapStore2/web/client/actions/controls.js"),E=w.TOGGLE_CONTROL,j=w.SET_CONTROL_PROPERTY,T=w.SET_CONTROL_PROPERTIES,A=r("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,_=r("./MapStore2/web/client/actions/featuregrid.js"),x=_.SIZE_CHANGE,M=_.CLOSE_FEATURE_GRID,P=_.OPEN_FEATURE_GRID,C=r("./MapStore2/web/client/actions/mapInfo.js"),L=C.CLOSE_IDENTIFY,R=C.ERROR_FEATURE_INFO,I=C.TOGGLE_MAPINFO_STATE,D=C.LOAD_FEATURE_INFO,N=C.EXCEPTIONS_FEATURE_INFO,k=C.NO_QUERYABLE_LAYER,F=r("./MapStore2/web/client/actions/layers.js"),G=F.SHOW_SETTINGS,U=F.HIDE_SETTINGS,B=r("./MapStore2/web/client/actions/mapInfo.js").PURGE_MAPINFO_RESULTS,H=r("./MapStore2/web/client/selectors/mapInfo.js").isMapInfoOpen,z=r("./MapStore2/web/client/selectors/featuregrid.js"),V=z.isFeatureGridOpen,W=z.getDockSize,Y=r("./node_modules/lodash/lodash.js"),q=Y.head,Z=Y.get,K=r("./MapStore2/web/client/epics/maps.js").mapSaveMapResourceEpic,Q=r("./MapStore2/web/client/selectors/controls.js").showCoordinateEditorSelector;e.exports={mapSaveMapResourceEpic:K,_setFeatureEditPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(s).filter((function(e){return"layer"===e.nodeType&&!S.getConfigProp("disableCheckEditPermissions")})).switchMap((function(){var e=g(r()||{});return e?d(e).map((function(e){return l(e)})).startWith(l({canEdit:!1})).catch((function(){return i.Observable.empty()})):i.Observable.of(l({canEdit:!1}))}))},_setThumbnail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType("GEONODE:CREATE_MAP_THUMBNAIL","GEONODE:CREATE_LAYER_THUMBNAIL").do((function(){try{$("#_thumbnail_processing").modal("show")}catch(e){console.log(e)}})).exhaustMap((function(e){var t=e.type,n=r(),o=h(n),a=v(n),s="GEONODE:CREATE_MAP_THUMBNAIL"===t,l=s?Z(a,"info.id"):o[o.length-1].name,c=s?"maps":"layers",u=a.size,p=u.width,f=u.height,d=a.bbox.bounds,m=d.maxx,b=d.minx,g=d.maxy,S={bbox:[b,m,d.miny,g],srid:a.bbox.crs,center:a.center,zoom:a.zoom,width:p,height:f,layers:o.filter((function(e){return"background"!==e.group&&e.visibility})).map((function(e){return e.name})).join(",")};return y(c,l,S).do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=e.status;try{$("#_thumbnail_feedbacks").find(".modal-title").text(r),$("#_thumbnail_feedbacks").find(".modal-body").text(t),$("#_thumbnail_feedbacks").modal("show")}catch(e){console.log(e)}})).mapTo({type:"THUMBNAIL_UPDATE"}).catch((function(e){var t=e.code,r=e.message;try{"ECONNABORTED"===t?($("#_thumbnail_feedbacks").find(".modal-title").text("Timeout"),$("#_thumbnail_feedbacks").find(".modal-body").text("Failed from timeout: Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show")):($("#_thumbnail_feedbacks").find(".modal-title").text("Error: "+r),$("#_thumbnail_feedbacks").find(".modal-body").text("Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show"))}catch(e){console.log(e)}finally{return i.Observable.of({type:"THUMBNAIL_UPDATE_ERROR"})}})).do((function(){try{$("#_thumbnail_processing").modal("hide")}catch(e){console.log(e)}}))}))},_setStyleEditorPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(p,s).filter((function(e){var t=e.nodeType;return t&&"layer"===t&&!S.getConfigProp("disableCheckEditPermissions")||!t&&!S.getConfigProp("disableCheckEditPermissions")})).switchMap((function(e){var t=g(r()||{});return t?m(t).map((function(e){var t=e.canEdit;return u(t)})).startWith(u(e.canEdit)).catch((function(){return i.Observable.empty()})):i.Observable.of(u(!1))}))},updateMapLayoutEpic:function(e,t){return e.ofType(A,x,k,T,M,P,L,I,D,N,E,j,G,U,R,B).switchMap((function(){var e=t.getState();if(Z(e,"browser.mobile")){var r=o({},H(e)?{bottom:"50%"}:{bottom:void 0});return i.Observable.of(O({boundingMapRect:r}))}var n=S.getConfigProp("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}};if("embedded"===Z(e,"mode")){var a={height:"calc(100% - "+n.bottom.sm+"px)"},s=o({},H(e)?{bottom:"50%"}:{bottom:void 0});return i.Observable.of(O(o(o({},a),{},{boundingMapRect:s})))}var l=Z(e,"controls.drawer.resizedWidth"),c=q([Z(e,"controls.queryPanel.enabled")&&{left:n.left.lg}||null,Z(e,"controls.widgetBuilder.enabled")&&{left:n.left.md}||null,Z(e,"layers.settings.expanded")&&{left:n.left.md}||null,Z(e,"controls.drawer.enabled")&&{left:l||n.left.sm}||null].filter((function(e){return e})))||{left:0},u=q([Z(e,"controls.details.enabled")&&{right:n.right.md}||null,Z(e,"controls.annotations.enabled")&&{right:n.right.md}||null,Z(e,"controls.metadataexplorer.enabled")&&{right:n.right.md}||null,Z(e,"controls.measure.enabled")&&Q(e)&&{right:n.right.md}||null,Z(e,"mapInfo.enabled")&&H(e)&&{right:n.right.md}||null].filter((function(e){return e})))||{right:0},p=100*W(e),f=V(e)&&{bottom:p+"%",dockSize:p}||{bottom:n.bottom.sm},d=V(e)&&{transform:"translate(0, -"+n.bottom.sm+"px)"}||{transform:"none"},m={height:"calc(100% - "+n.bottom.sm+"px)"},y=o(o(o({},f),c),u);return i.Observable.of(O(o(o(o(o(o(o({},c),u),f),d),m),{},{boundingMapRect:y})))}))}}},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi .background-preview-button-label {\r\n    position: absolute;\r\n    overflow: hidden;\r\n    font-weight: bold;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    -webkit-transition: all 0.0s;\r\n    -moz-transition: all 0.0s;\r\n    -o-transition: all 0.0s;\r\n    transition: all 0.0s;\r\n\r\n}\r\n\r\n.msgapi .background-preview-button-label div {\r\n    overflow: hidden;\r\n    opacity: 0.8;\r\n    box-shadow: 0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -webkit-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -moz-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n}\r\n\r\n.msgapi .background-preview-button-container {\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-button-frame {\r\n    overflow: hidden;\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.msgapi .background-preview-button-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-button-container:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .background-preview-button-container:active {\r\n    opacity: 0.6;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi .background-preview-icon-frame {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi .background-preview-icon-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal {\r\n    cursor: pointer;\r\n    float: left;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal.disabled-icon {\r\n    cursor: not-allowed;\r\n    float: left;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical {\r\n    cursor: pointer;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical.disabled-icon {\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar .mapstore-tb-helpbadge {\r\n    display: block;\r\n    background-color: #777;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    top : -10px;\r\n    left: -10px;\r\n}\r\n\r\n\r\n.msgapi #helpbadge-zoomToMaxExtent {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 34px;\r\n    top: 72px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 116px;\r\n    bottom: 48px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-seachBar {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 46px;\r\n    top: 10px;\r\n    z-index: 100000\r\n}\r\n\r\n\r\n.msgapi .btn .badge {\r\n    position: absolute;\r\n    top: -10px;\r\n    left: -10px;\r\n}\r\n\r\n.msgapi .themed .btn .badge {\r\n    top: -35px;\r\n    left: -50px;\r\n}\r\n\r\n.msgapi .badge {\r\n    cursor: pointer;\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    left: 0 !important;\r\n}\r\n\r\n.msgapi #mapstore-navbar #helpbadge-search-help {\r\n    position: absolute;\r\n    left: -10px;\r\n    bottom: -8px;\r\n    z-index: 1;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .leaflet-control-minimap {\r\n    border:solid rgba(255, 255, 255, 1.0) 4px;\r\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n    border-radius: 3px;\r\n    background: #f8f8f9;\r\n    transition: all .2s;\r\n}\r\n.msgapi .leafletbottom.leafletright, .msgapi .leaflet-control-minimap{\r\n    position:relative;\r\n    bottom:5px;\r\n}\r\n.msgapi .leaflet-control-minimap a {\r\n    background-color: rgba(255, 255, 255, 1.0);\r\n    background-repeat: no-repeat;\r\n    z-index: 99999;\r\n    transition: all .2s;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomright {\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n    border-radius: 0px;\r\n    bottom: -3px;\r\n    right: -3px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topleft {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomleft {\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topright {\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display{\r\n    background-image: url("+r("./MapStore2/web/client/components/map/leaflet/img/toggle.svg")+");\r\n    background-size: cover;\r\n    position: absolute;\r\n    border-radius: 3px 0px 0px 0px;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap-toggle-display{\r\n    background-image: url("+r("./MapStore2/web/client/components/map/leaflet/img/toggle.png")+");\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomright {\r\n    bottom: 0;\r\n    right: 0;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topleft{\r\n    top: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomleft{\r\n    bottom: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topright{\r\n    top: 0;\r\n    right: 0;\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n}\r\n\r\n/* Old IE */\r\n.msgapi .leaflet-oldie .leaflet-control-minimap {\r\n    border: 1px solid #999;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a {\r\n    background-color: #fff;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a.minimized {\r\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-control button:hover, .msgapi .ol-control button:focus {\r\n    background-color: #f4f4f4;\r\n}\r\n.msgapi .ol-zoom .ol-zoom-out, .msgapi .ol-zoom .ol-zoom-in{\r\n    width: 26px;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    display: block;\r\n\r\n    color: black;\r\n    background-color: #fff;\r\n    border-width: 0;\r\n    margin:0;\r\n}\r\n.msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-in, .msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-out {\r\n    font-family: 'Lucida Console', Monaco, monospace;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi .ol-zoom .ol-zoom-out{\r\n    font-size: 18px;\r\n    border-radius: 0 0 4px 4px;\r\n}\r\n.msgapi .ol-zoom .ol-zoom-in{\r\n    border-bottom: 1px solid #ccc;\r\n    border-radius: 4px 4px 0 0;\r\n    font-size: 20px;\r\n}\r\n.msgapi .ol-zoom.ol-unselectable.ol-control{\r\n    top:10px;\r\n    left:10px;\r\n    padding:0;\r\n    box-shadow: rgba(0, 0, 0, 0.65098) 0px 1px 5px 0px;\r\n    border-radius: 4px;\r\n}\r\n\r\n.msgapi .ol-scale-line.ol-unselectable{\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-custom-overviewmap,\r\n       .msgapi .ol-custom-overviewmap.ol-uncollapsible {\r\n          bottom: 20px;\r\n          left: auto;\r\n          right: 10px;\r\n          top: auto;\r\n\r\n      }\r\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed)  {\r\n\r\n           box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n           border-radius: 1px;\r\n           transition: all .2s;\r\n      }\r\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-map {\r\n          border: none;\r\n          width: 300px;\r\n          height: 150px;\r\n\r\n      }\r\n\r\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-box {\r\n          border: 1px solid black;\r\n          cursor: pointer;\r\n          border-radius: 5px;\r\n      }\r\n\r\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed) button{\r\n          bottom: auto;\r\n          left: auto;\r\n          right: 2px;\r\n          bottom: 2px;\r\n      }\r\n\r\n      .msgapi .ol-rotate {\r\n          top: 170px;\r\n          right: 0;\r\n      }\r\n      .msgapi .ol-overview-dargbox{\r\n           border: 1px solid black;\r\n           background-color: rgba(125,125,0,.5);\r\n           border-radius: 5px;\r\n      }\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-globalspinner  {\r\n    margin: 0 !important;\r\n    width: 40px !important;\r\n    position:static !important;\r\n    border-radius: 0 !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-burger-menu {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n\r\n.msgapi .burger-menu-submenu {\r\n    display: none;\r\n    position: absolute;\r\n    left: -160px;\r\n    top: 0px;\r\n    background-color: white;\r\n    width: 160px;\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\r\n}\r\n\r\n.msgapi .burger-menu-submenu li:hover {\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a {\r\n    display: block;\r\n    padding: 10px 15px;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a:hover {\r\n    text-decoration: none;\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi #mapstore-burger-menu .dropdown-menu > li > a:hover > span > .burger-menu-submenu,\r\n.msgapi .burger-menu-submenu > li > a:hover > span > .burger-menu-submenu {\r\n    display: block;\r\n}\r\n\r\n.msgapi .burger-menu-submenu span {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi #mapstore-navbar #mapstore-burger-menu {\r\n    position: relative;\r\n    float: right;\r\n    left: 0;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .swipe-header-left-button {\r\n    float: left;\r\n}\r\n\r\n.msgapi .swipe-header-right-button {\r\n    float: right;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapErrorMessage {\r\n    font-size: 16px;\r\n    color: red;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-globalspinner  {\r\n    width: 28px;\r\n    height: 28px;\r\n    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);\r\n    background-color: white;\r\n    background-size: 80px 80px;\r\n    background-repeat: no-repeat;\r\n    border-radius: 4px;\r\n    border: 1px solid #999;\r\n    z-index: 10;\r\n    top: 90px;\r\n    left: 2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n}\r\n\r\n.msgapi #mapstore-globalspinner .circle-wrapper {\r\n    margin-left: 2px;\r\n    margin-top: 1px;\r\n}\r\n\r\n.msgapi #mapstore-toolbar #mapstore-globalspinner {\r\n    position: static;\r\n    width: 42px;\r\n    margin: 0;\r\n    margin-top: 0;\r\n    height: 35px;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .ms2-loading .sk-circle-wrapper {\r\n     width: 30px;\r\n     height: 30px;\r\n     margin-left: 10px !important;\r\n     margin-top: 10px !important;\r\n }\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"/*viewer navbar */\r\n.msgapi .navbar-dx{\r\n\tposition:absolute;\r\n\tright:0;\r\n\ttop:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul{\r\n\tpadding:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul > li{\r\n\tfloat: left;\r\n\tlist-style:none;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar{\r\n    right: 0;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .form-control,.msgapi .navbar-dx .search-wrap .form-control:focus{\r\n    border-color: #fff;\r\n    border-right: 0;\r\n    webkit-box-shadow: none;\r\n    box-shadow: none;\r\n}\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar .input-group-addon{\r\n    border: 0;\r\n}\r\n.msgapi .navbar-dx .search-result-list{\r\n    left: 0;\r\n    max-height: none;\r\n}\r\n\r\n.msgapi .navbar-dx .dropdown-menu {\r\n\tmargin:0;\r\n\tpadding-top: 0;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n    .msgapi .navbar-dx .search-wrap {\r\n       width: 500px;\r\n       height: 50px;\r\n    }\r\n}\r\n\r\n.msgapi .navbar-dx > * {\r\n\tdisplay: inline-block;\r\n}\r\n/* Page Navbar */\r\n.msgapi .navbar-home .dropdown {\r\n\tfloat: right;\r\n}\r\n.msgapi .navbar-home .navbar-header {\r\n\tmargin-top: 7px;\r\n\tmargin-left: 10px;\r\n\tmargin-right: 10px;\r\n\tdisplay: inline-block;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mappreview-scalebox {\r\n    position: relative;\r\n    top: -36px;\r\n    width: 150px;\r\n    left: 10px;\r\n}\r\n\r\n.msgapi .print-error {\r\n    height: 100px;\r\n    color: #600;\r\n    background-color: #E8BABA;\r\n    border: solid #600 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-error span, .msgapi .print-warning span {\r\n    display: inline-block;\r\n    max-height: 80px;\r\n    overflow: auto;\r\n    width: 100%;\r\n}\r\n.msgapi .print-warning {\r\n    height: 50px;\r\n    color: #660;\r\n    background-color: #E6E8BA;\r\n    border: solid #660 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-preview-panel .spinner {\r\n    display: inline-block;\r\n}\r\n\r\n.msgapi .print-mappreview-refresh {\r\n    position: relative;\r\n    top: -83px;\r\n    right: -155px;\r\n    z-index: 1000;\r\n}\r\n.msgapi #mapstore-print-panel.modal-dialog {\r\n    z-index: 2000;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body {\r\n    max-height: calc(100vh - 190px);\r\n    overflow-y: auto;\r\n}\r\n\r\n.msgapi .mapstore-print-panel {\r\n    width: 850px;\r\n    position: absolute;\r\n    top: 50px;\r\n    right: 60px;\r\n    zIndex: 100;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .form-inline label {\r\n    margin-right: 20px;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 34px;\r\n    border: solid 1px #CCC;\r\n    padding: 7px;\r\n    border-radius: 4px;\r\n    padding-right: 25px;\r\n    padding-left: 11px;\r\n    top: 2px;\r\n    position: relative;\r\n}\r\n\r\n.msgapi .print-layout .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n\r\n@media (min-width: 992px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 825px;\r\n    }\r\n}\r\n\r\n@media (max-width: 991px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 700px;\r\n    }\r\n}\r\n\r\n@media (max-width: 767px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 98%;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\r\n    top: -96px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-submit {\r\n    float: right;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n    .msgapi #mapstore-print-panel input[type=radio] {\r\n        margin: 0 8px 0 20px;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-map-preview {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-default {\r\n    border: none;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading {\r\n    padding-left: 0;\r\n    background-color: transparent;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-body {\r\n    padding: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .form-control {\r\n    padding: 0 10px;\r\n    height: 25px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download a {\r\n    color: white;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-scalebox {\r\n    /*z-index: 10;\r\n    bottom: 6px;\r\n    left: -2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n\r\n.msgapi #mapstore-scalebox-container {\r\n    /*z-index: 10;\r\n    bottom: -16px;\r\n    right: 55px;\r\n    left: auto;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar {\r\n    position: absolute;\r\n    bottom: 5px;\r\n    right: 0;\r\n    z-index: 1000;\r\n    margin-bottom: 35px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter {\r\n  opacity: 0.01;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter.toolbarexpand-enter-active {\r\n  opacity: 1;\r\n  transition: opacity 500ms ease-in;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave {\r\n  opacity: 1;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave.toolbarexpand-leave-active {\r\n  opacity: 0.01;\r\n  transition: opacity 300ms ease-in;\r\n}\r\n\r\n.msgapi #navigationBar .toolbar-panel {\r\n    bottom: 80px !important;\r\n}\r\n\r\n.msgapi #identifyBar .mapToolbar {\r\n    top: auto !important;\r\n    bottom: 5px;\r\n    right: 212px !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #zoomin-btn, .msgapi #zoomout-btn {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-zoomtomaxextent {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,'.msgapi .ol-popup {\r\n    position: absolute;\r\n    text-align: center;\r\n    font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n    -ms-transform: translate(-50%,-100%); /* IE 9 */\r\n    -webkit-transform: translate(-50%,-100%); /* Safari */\r\n    transform: translate(-50%,-100%);\r\n}\r\n.msgapi a.ol-popup-close-btn {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  padding: 4px 4px 0 0;\r\n  text-align: center;\r\n  width: 18px;\r\n  height: 14px;\r\n  font: 16px/14px Tahoma, Verdana, sans-serif;\r\n  color: #c3c3c3;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n  background: transparent;\r\n}\r\n.msgapi .ol-popup-cnt-wrapper {\r\n  padding: 1px;\r\n  text-align: left;\r\n  border-radius: 12px;\r\n}\r\n.msgapi .ol-popup-cnt-wrapper, .msgapi .ol-popup-tip {\r\n  background: white;\r\n  box-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n}\r\n.msgapi .ol-popup-cnt {\r\n  margin: 13px 19px;\r\n  line-height: 1.4;\r\n   white-space: nowrap;\r\n\r\n}\r\n.msgapi .ol-popup-tip-wrapper {\r\n  margin: 0 auto;\r\n  width: 40px;\r\n  height: 20px;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n}\r\n.msgapi .ol-popup-tip {\r\n  width: 17px;\r\n  height: 17px;\r\n  padding: 1px;\r\n  margin: -10px auto 0;\r\n  -webkit-transform: rotate(45deg);\r\n  -moz-transform: rotate(45deg);\r\n  -ms-transform: rotate(45deg);\r\n  -o-transform: rotate(45deg);\r\n  transform: rotate(45deg);\r\n}\r\n',""])},"./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt":function(e,t){e.exports='.fa-glass:before {\r\n  content: "\\f000";\r\n}\r\n.fa-music:before {\r\n  content: "\\f001";\r\n}\r\n.fa-search:before {\r\n  content: "\\f002";\r\n}\r\n.fa-envelope-o:before {\r\n  content: "\\f003";\r\n}\r\n.fa-heart:before {\r\n  content: "\\f004";\r\n}\r\n.fa-star:before {\r\n  content: "\\f005";\r\n}\r\n.fa-star-o:before {\r\n  content: "\\f006";\r\n}\r\n.fa-user:before {\r\n  content: "\\f007";\r\n}\r\n.fa-film:before {\r\n  content: "\\f008";\r\n}\r\n.fa-th-large:before {\r\n  content: "\\f009";\r\n}\r\n.fa-th:before {\r\n  content: "\\f00a";\r\n}\r\n.fa-th-list:before {\r\n  content: "\\f00b";\r\n}\r\n.fa-check:before {\r\n  content: "\\f00c";\r\n}\r\n.fa-remove:before,\r\n.fa-close:before,\r\n.fa-times:before {\r\n  content: "\\f00d";\r\n}\r\n.fa-search-plus:before {\r\n  content: "\\f00e";\r\n}\r\n.fa-search-minus:before {\r\n  content: "\\f010";\r\n}\r\n.fa-power-off:before {\r\n  content: "\\f011";\r\n}\r\n.fa-signal:before {\r\n  content: "\\f012";\r\n}\r\n.fa-gear:before,\r\n.fa-cog:before {\r\n  content: "\\f013";\r\n}\r\n.fa-trash-o:before {\r\n  content: "\\f014";\r\n}\r\n.fa-home:before {\r\n  content: "\\f015";\r\n}\r\n.fa-file-o:before {\r\n  content: "\\f016";\r\n}\r\n.fa-clock-o:before {\r\n  content: "\\f017";\r\n}\r\n.fa-road:before {\r\n  content: "\\f018";\r\n}\r\n.fa-download:before {\r\n  content: "\\f019";\r\n}\r\n.fa-arrow-circle-o-down:before {\r\n  content: "\\f01a";\r\n}\r\n.fa-arrow-circle-o-up:before {\r\n  content: "\\f01b";\r\n}\r\n.fa-inbox:before {\r\n  content: "\\f01c";\r\n}\r\n.fa-play-circle-o:before {\r\n  content: "\\f01d";\r\n}\r\n.fa-rotate-right:before,\r\n.fa-repeat:before {\r\n  content: "\\f01e";\r\n}\r\n.fa-refresh:before {\r\n  content: "\\f021";\r\n}\r\n.fa-list-alt:before {\r\n  content: "\\f022";\r\n}\r\n.fa-lock:before {\r\n  content: "\\f023";\r\n}\r\n.fa-flag:before {\r\n  content: "\\f024";\r\n}\r\n.fa-headphones:before {\r\n  content: "\\f025";\r\n}\r\n.fa-volume-off:before {\r\n  content: "\\f026";\r\n}\r\n.fa-volume-down:before {\r\n  content: "\\f027";\r\n}\r\n.fa-volume-up:before {\r\n  content: "\\f028";\r\n}\r\n.fa-qrcode:before {\r\n  content: "\\f029";\r\n}\r\n.fa-barcode:before {\r\n  content: "\\f02a";\r\n}\r\n.fa-tag:before {\r\n  content: "\\f02b";\r\n}\r\n.fa-tags:before {\r\n  content: "\\f02c";\r\n}\r\n.fa-book:before {\r\n  content: "\\f02d";\r\n}\r\n.fa-bookmark:before {\r\n  content: "\\f02e";\r\n}\r\n.fa-print:before {\r\n  content: "\\f02f";\r\n}\r\n.fa-camera:before {\r\n  content: "\\f030";\r\n}\r\n.fa-font:before {\r\n  content: "\\f031";\r\n}\r\n.fa-bold:before {\r\n  content: "\\f032";\r\n}\r\n.fa-italic:before {\r\n  content: "\\f033";\r\n}\r\n.fa-text-height:before {\r\n  content: "\\f034";\r\n}\r\n.fa-text-width:before {\r\n  content: "\\f035";\r\n}\r\n.fa-align-left:before {\r\n  content: "\\f036";\r\n}\r\n.fa-align-center:before {\r\n  content: "\\f037";\r\n}\r\n.fa-align-right:before {\r\n  content: "\\f038";\r\n}\r\n.fa-align-justify:before {\r\n  content: "\\f039";\r\n}\r\n.fa-list:before {\r\n  content: "\\f03a";\r\n}\r\n.fa-dedent:before,\r\n.fa-outdent:before {\r\n  content: "\\f03b";\r\n}\r\n.fa-indent:before {\r\n  content: "\\f03c";\r\n}\r\n.fa-video-camera:before {\r\n  content: "\\f03d";\r\n}\r\n.fa-photo:before,\r\n.fa-image:before,\r\n.fa-picture-o:before {\r\n  content: "\\f03e";\r\n}\r\n.fa-pencil:before {\r\n  content: "\\f040";\r\n}\r\n.fa-map-marker:before {\r\n  content: "\\f041";\r\n}\r\n.fa-adjust:before {\r\n  content: "\\f042";\r\n}\r\n.fa-tint:before {\r\n  content: "\\f043";\r\n}\r\n.fa-edit:before,\r\n.fa-pencil-square-o:before {\r\n  content: "\\f044";\r\n}\r\n.fa-share-square-o:before {\r\n  content: "\\f045";\r\n}\r\n.fa-check-square-o:before {\r\n  content: "\\f046";\r\n}\r\n.fa-arrows:before {\r\n  content: "\\f047";\r\n}\r\n.fa-step-backward:before {\r\n  content: "\\f048";\r\n}\r\n.fa-fast-backward:before {\r\n  content: "\\f049";\r\n}\r\n.fa-backward:before {\r\n  content: "\\f04a";\r\n}\r\n.fa-play:before {\r\n  content: "\\f04b";\r\n}\r\n.fa-pause:before {\r\n  content: "\\f04c";\r\n}\r\n.fa-stop:before {\r\n  content: "\\f04d";\r\n}\r\n.fa-forward:before {\r\n  content: "\\f04e";\r\n}\r\n.fa-fast-forward:before {\r\n  content: "\\f050";\r\n}\r\n.fa-step-forward:before {\r\n  content: "\\f051";\r\n}\r\n.fa-eject:before {\r\n  content: "\\f052";\r\n}\r\n.fa-chevron-left:before {\r\n  content: "\\f053";\r\n}\r\n.fa-chevron-right:before {\r\n  content: "\\f054";\r\n}\r\n.fa-plus-circle:before {\r\n  content: "\\f055";\r\n}\r\n.fa-minus-circle:before {\r\n  content: "\\f056";\r\n}\r\n.fa-times-circle:before {\r\n  content: "\\f057";\r\n}\r\n.fa-check-circle:before {\r\n  content: "\\f058";\r\n}\r\n.fa-question-circle:before {\r\n  content: "\\f059";\r\n}\r\n.fa-info-circle:before {\r\n  content: "\\f05a";\r\n}\r\n.fa-crosshairs:before {\r\n  content: "\\f05b";\r\n}\r\n.fa-times-circle-o:before {\r\n  content: "\\f05c";\r\n}\r\n.fa-check-circle-o:before {\r\n  content: "\\f05d";\r\n}\r\n.fa-ban:before {\r\n  content: "\\f05e";\r\n}\r\n.fa-arrow-left:before {\r\n  content: "\\f060";\r\n}\r\n.fa-arrow-right:before {\r\n  content: "\\f061";\r\n}\r\n.fa-arrow-up:before {\r\n  content: "\\f062";\r\n}\r\n.fa-arrow-down:before {\r\n  content: "\\f063";\r\n}\r\n.fa-mail-forward:before,\r\n.fa-share:before {\r\n  content: "\\f064";\r\n}\r\n.fa-expand:before {\r\n  content: "\\f065";\r\n}\r\n.fa-compress:before {\r\n  content: "\\f066";\r\n}\r\n.fa-plus:before {\r\n  content: "\\f067";\r\n}\r\n.fa-minus:before {\r\n  content: "\\f068";\r\n}\r\n.fa-asterisk:before {\r\n  content: "\\f069";\r\n}\r\n.fa-exclamation-circle:before {\r\n  content: "\\f06a";\r\n}\r\n.fa-gift:before {\r\n  content: "\\f06b";\r\n}\r\n.fa-leaf:before {\r\n  content: "\\f06c";\r\n}\r\n.fa-fire:before {\r\n  content: "\\f06d";\r\n}\r\n.fa-eye:before {\r\n  content: "\\f06e";\r\n}\r\n.fa-eye-slash:before {\r\n  content: "\\f070";\r\n}\r\n.fa-warning:before,\r\n.fa-exclamation-triangle:before {\r\n  content: "\\f071";\r\n}\r\n.fa-plane:before {\r\n  content: "\\f072";\r\n}\r\n.fa-calendar:before {\r\n  content: "\\f073";\r\n}\r\n.fa-random:before {\r\n  content: "\\f074";\r\n}\r\n.fa-comment:before {\r\n  content: "\\f075";\r\n}\r\n.fa-magnet:before {\r\n  content: "\\f076";\r\n}\r\n.fa-chevron-up:before {\r\n  content: "\\f077";\r\n}\r\n.fa-chevron-down:before {\r\n  content: "\\f078";\r\n}\r\n.fa-retweet:before {\r\n  content: "\\f079";\r\n}\r\n.fa-shopping-cart:before {\r\n  content: "\\f07a";\r\n}\r\n.fa-folder:before {\r\n  content: "\\f07b";\r\n}\r\n.fa-folder-open:before {\r\n  content: "\\f07c";\r\n}\r\n.fa-arrows-v:before {\r\n  content: "\\f07d";\r\n}\r\n.fa-arrows-h:before {\r\n  content: "\\f07e";\r\n}\r\n.fa-bar-chart-o:before,\r\n.fa-bar-chart:before {\r\n  content: "\\f080";\r\n}\r\n.fa-twitter-square:before {\r\n  content: "\\f081";\r\n}\r\n.fa-facebook-square:before {\r\n  content: "\\f082";\r\n}\r\n.fa-camera-retro:before {\r\n  content: "\\f083";\r\n}\r\n.fa-key:before {\r\n  content: "\\f084";\r\n}\r\n.fa-gears:before,\r\n.fa-cogs:before {\r\n  content: "\\f085";\r\n}\r\n.fa-comments:before {\r\n  content: "\\f086";\r\n}\r\n.fa-thumbs-o-up:before {\r\n  content: "\\f087";\r\n}\r\n.fa-thumbs-o-down:before {\r\n  content: "\\f088";\r\n}\r\n.fa-star-half:before {\r\n  content: "\\f089";\r\n}\r\n.fa-heart-o:before {\r\n  content: "\\f08a";\r\n}\r\n.fa-sign-out:before {\r\n  content: "\\f08b";\r\n}\r\n.fa-linkedin-square:before {\r\n  content: "\\f08c";\r\n}\r\n.fa-thumb-tack:before {\r\n  content: "\\f08d";\r\n}\r\n.fa-external-link:before {\r\n  content: "\\f08e";\r\n}\r\n.fa-sign-in:before {\r\n  content: "\\f090";\r\n}\r\n.fa-trophy:before {\r\n  content: "\\f091";\r\n}\r\n.fa-github-square:before {\r\n  content: "\\f092";\r\n}\r\n.fa-upload:before {\r\n  content: "\\f093";\r\n}\r\n.fa-lemon-o:before {\r\n  content: "\\f094";\r\n}\r\n.fa-phone:before {\r\n  content: "\\f095";\r\n}\r\n.fa-square-o:before {\r\n  content: "\\f096";\r\n}\r\n.fa-bookmark-o:before {\r\n  content: "\\f097";\r\n}\r\n.fa-phone-square:before {\r\n  content: "\\f098";\r\n}\r\n.fa-twitter:before {\r\n  content: "\\f099";\r\n}\r\n.fa-facebook-f:before,\r\n.fa-facebook:before {\r\n  content: "\\f09a";\r\n}\r\n.fa-github:before {\r\n  content: "\\f09b";\r\n}\r\n.fa-unlock:before {\r\n  content: "\\f09c";\r\n}\r\n.fa-credit-card:before {\r\n  content: "\\f09d";\r\n}\r\n.fa-feed:before,\r\n.fa-rss:before {\r\n  content: "\\f09e";\r\n}\r\n.fa-hdd-o:before {\r\n  content: "\\f0a0";\r\n}\r\n.fa-bullhorn:before {\r\n  content: "\\f0a1";\r\n}\r\n.fa-bell:before {\r\n  content: "\\f0f3";\r\n}\r\n.fa-certificate:before {\r\n  content: "\\f0a3";\r\n}\r\n.fa-hand-o-right:before {\r\n  content: "\\f0a4";\r\n}\r\n.fa-hand-o-left:before {\r\n  content: "\\f0a5";\r\n}\r\n.fa-hand-o-up:before {\r\n  content: "\\f0a6";\r\n}\r\n.fa-hand-o-down:before {\r\n  content: "\\f0a7";\r\n}\r\n.fa-arrow-circle-left:before {\r\n  content: "\\f0a8";\r\n}\r\n.fa-arrow-circle-right:before {\r\n  content: "\\f0a9";\r\n}\r\n.fa-arrow-circle-up:before {\r\n  content: "\\f0aa";\r\n}\r\n.fa-arrow-circle-down:before {\r\n  content: "\\f0ab";\r\n}\r\n.fa-globe:before {\r\n  content: "\\f0ac";\r\n}\r\n.fa-wrench:before {\r\n  content: "\\f0ad";\r\n}\r\n.fa-tasks:before {\r\n  content: "\\f0ae";\r\n}\r\n.fa-filter:before {\r\n  content: "\\f0b0";\r\n}\r\n.fa-briefcase:before {\r\n  content: "\\f0b1";\r\n}\r\n.fa-arrows-alt:before {\r\n  content: "\\f0b2";\r\n}\r\n.fa-group:before,\r\n.fa-users:before {\r\n  content: "\\f0c0";\r\n}\r\n.fa-chain:before,\r\n.fa-link:before {\r\n  content: "\\f0c1";\r\n}\r\n.fa-cloud:before {\r\n  content: "\\f0c2";\r\n}\r\n.fa-flask:before {\r\n  content: "\\f0c3";\r\n}\r\n.fa-cut:before,\r\n.fa-scissors:before {\r\n  content: "\\f0c4";\r\n}\r\n.fa-copy:before,\r\n.fa-files-o:before {\r\n  content: "\\f0c5";\r\n}\r\n.fa-paperclip:before {\r\n  content: "\\f0c6";\r\n}\r\n.fa-save:before,\r\n.fa-floppy-o:before {\r\n  content: "\\f0c7";\r\n}\r\n.fa-square:before {\r\n  content: "\\f0c8";\r\n}\r\n.fa-navicon:before,\r\n.fa-reorder:before,\r\n.fa-bars:before {\r\n  content: "\\f0c9";\r\n}\r\n.fa-list-ul:before {\r\n  content: "\\f0ca";\r\n}\r\n.fa-list-ol:before {\r\n  content: "\\f0cb";\r\n}\r\n.fa-strikethrough:before {\r\n  content: "\\f0cc";\r\n}\r\n.fa-underline:before {\r\n  content: "\\f0cd";\r\n}\r\n.fa-table:before {\r\n  content: "\\f0ce";\r\n}\r\n.fa-magic:before {\r\n  content: "\\f0d0";\r\n}\r\n.fa-truck:before {\r\n  content: "\\f0d1";\r\n}\r\n.fa-pinterest:before {\r\n  content: "\\f0d2";\r\n}\r\n.fa-pinterest-square:before {\r\n  content: "\\f0d3";\r\n}\r\n.fa-google-plus-square:before {\r\n  content: "\\f0d4";\r\n}\r\n.fa-google-plus:before {\r\n  content: "\\f0d5";\r\n}\r\n.fa-money:before {\r\n  content: "\\f0d6";\r\n}\r\n.fa-caret-down:before {\r\n  content: "\\f0d7";\r\n}\r\n.fa-caret-up:before {\r\n  content: "\\f0d8";\r\n}\r\n.fa-caret-left:before {\r\n  content: "\\f0d9";\r\n}\r\n.fa-caret-right:before {\r\n  content: "\\f0da";\r\n}\r\n.fa-columns:before {\r\n  content: "\\f0db";\r\n}\r\n.fa-unsorted:before,\r\n.fa-sort:before {\r\n  content: "\\f0dc";\r\n}\r\n.fa-sort-down:before,\r\n.fa-sort-desc:before {\r\n  content: "\\f0dd";\r\n}\r\n.fa-sort-up:before,\r\n.fa-sort-asc:before {\r\n  content: "\\f0de";\r\n}\r\n.fa-envelope:before {\r\n  content: "\\f0e0";\r\n}\r\n.fa-linkedin:before {\r\n  content: "\\f0e1";\r\n}\r\n.fa-rotate-left:before,\r\n.fa-undo:before {\r\n  content: "\\f0e2";\r\n}\r\n.fa-legal:before,\r\n.fa-gavel:before {\r\n  content: "\\f0e3";\r\n}\r\n.fa-dashboard:before,\r\n.fa-tachometer:before {\r\n  content: "\\f0e4";\r\n}\r\n.fa-comment-o:before {\r\n  content: "\\f0e5";\r\n}\r\n.fa-comments-o:before {\r\n  content: "\\f0e6";\r\n}\r\n.fa-flash:before,\r\n.fa-bolt:before {\r\n  content: "\\f0e7";\r\n}\r\n.fa-sitemap:before {\r\n  content: "\\f0e8";\r\n}\r\n.fa-umbrella:before {\r\n  content: "\\f0e9";\r\n}\r\n.fa-paste:before,\r\n.fa-clipboard:before {\r\n  content: "\\f0ea";\r\n}\r\n.fa-lightbulb-o:before {\r\n  content: "\\f0eb";\r\n}\r\n.fa-exchange:before {\r\n  content: "\\f0ec";\r\n}\r\n.fa-cloud-download:before {\r\n  content: "\\f0ed";\r\n}\r\n.fa-cloud-upload:before {\r\n  content: "\\f0ee";\r\n}\r\n.fa-user-md:before {\r\n  content: "\\f0f0";\r\n}\r\n.fa-stethoscope:before {\r\n  content: "\\f0f1";\r\n}\r\n.fa-suitcase:before {\r\n  content: "\\f0f2";\r\n}\r\n.fa-bell-o:before {\r\n  content: "\\f0a2";\r\n}\r\n.fa-coffee:before {\r\n  content: "\\f0f4";\r\n}\r\n.fa-cutlery:before {\r\n  content: "\\f0f5";\r\n}\r\n.fa-file-text-o:before {\r\n  content: "\\f0f6";\r\n}\r\n.fa-building-o:before {\r\n  content: "\\f0f7";\r\n}\r\n.fa-hospital-o:before {\r\n  content: "\\f0f8";\r\n}\r\n.fa-ambulance:before {\r\n  content: "\\f0f9";\r\n}\r\n.fa-medkit:before {\r\n  content: "\\f0fa";\r\n}\r\n.fa-fighter-jet:before {\r\n  content: "\\f0fb";\r\n}\r\n.fa-beer:before {\r\n  content: "\\f0fc";\r\n}\r\n.fa-h-square:before {\r\n  content: "\\f0fd";\r\n}\r\n.fa-plus-square:before {\r\n  content: "\\f0fe";\r\n}\r\n.fa-angle-double-left:before {\r\n  content: "\\f100";\r\n}\r\n.fa-angle-double-right:before {\r\n  content: "\\f101";\r\n}\r\n.fa-angle-double-up:before {\r\n  content: "\\f102";\r\n}\r\n.fa-angle-double-down:before {\r\n  content: "\\f103";\r\n}\r\n.fa-angle-left:before {\r\n  content: "\\f104";\r\n}\r\n.fa-angle-right:before {\r\n  content: "\\f105";\r\n}\r\n.fa-angle-up:before {\r\n  content: "\\f106";\r\n}\r\n.fa-angle-down:before {\r\n  content: "\\f107";\r\n}\r\n.fa-desktop:before {\r\n  content: "\\f108";\r\n}\r\n.fa-laptop:before {\r\n  content: "\\f109";\r\n}\r\n.fa-tablet:before {\r\n  content: "\\f10a";\r\n}\r\n.fa-mobile-phone:before,\r\n.fa-mobile:before {\r\n  content: "\\f10b";\r\n}\r\n.fa-circle-o:before {\r\n  content: "\\f10c";\r\n}\r\n.fa-quote-left:before {\r\n  content: "\\f10d";\r\n}\r\n.fa-quote-right:before {\r\n  content: "\\f10e";\r\n}\r\n.fa-spinner:before {\r\n  content: "\\f110";\r\n}\r\n.fa-circle:before {\r\n  content: "\\f111";\r\n}\r\n.fa-mail-reply:before,\r\n.fa-reply:before {\r\n  content: "\\f112";\r\n}\r\n.fa-github-alt:before {\r\n  content: "\\f113";\r\n}\r\n.fa-folder-o:before {\r\n  content: "\\f114";\r\n}\r\n.fa-folder-open-o:before {\r\n  content: "\\f115";\r\n}\r\n.fa-smile-o:before {\r\n  content: "\\f118";\r\n}\r\n.fa-frown-o:before {\r\n  content: "\\f119";\r\n}\r\n.fa-meh-o:before {\r\n  content: "\\f11a";\r\n}\r\n.fa-gamepad:before {\r\n  content: "\\f11b";\r\n}\r\n.fa-keyboard-o:before {\r\n  content: "\\f11c";\r\n}\r\n.fa-flag-o:before {\r\n  content: "\\f11d";\r\n}\r\n.fa-flag-checkered:before {\r\n  content: "\\f11e";\r\n}\r\n.fa-terminal:before {\r\n  content: "\\f120";\r\n}\r\n.fa-code:before {\r\n  content: "\\f121";\r\n}\r\n.fa-mail-reply-all:before,\r\n.fa-reply-all:before {\r\n  content: "\\f122";\r\n}\r\n.fa-star-half-empty:before,\r\n.fa-star-half-full:before,\r\n.fa-star-half-o:before {\r\n  content: "\\f123";\r\n}\r\n.fa-location-arrow:before {\r\n  content: "\\f124";\r\n}\r\n.fa-crop:before {\r\n  content: "\\f125";\r\n}\r\n.fa-code-fork:before {\r\n  content: "\\f126";\r\n}\r\n.fa-unlink:before,\r\n.fa-chain-broken:before {\r\n  content: "\\f127";\r\n}\r\n.fa-question:before {\r\n  content: "\\f128";\r\n}\r\n.fa-info:before {\r\n  content: "\\f129";\r\n}\r\n.fa-exclamation:before {\r\n  content: "\\f12a";\r\n}\r\n.fa-superscript:before {\r\n  content: "\\f12b";\r\n}\r\n.fa-subscript:before {\r\n  content: "\\f12c";\r\n}\r\n.fa-eraser:before {\r\n  content: "\\f12d";\r\n}\r\n.fa-puzzle-piece:before {\r\n  content: "\\f12e";\r\n}\r\n.fa-microphone:before {\r\n  content: "\\f130";\r\n}\r\n.fa-microphone-slash:before {\r\n  content: "\\f131";\r\n}\r\n.fa-shield:before {\r\n  content: "\\f132";\r\n}\r\n.fa-calendar-o:before {\r\n  content: "\\f133";\r\n}\r\n.fa-fire-extinguisher:before {\r\n  content: "\\f134";\r\n}\r\n.fa-rocket:before {\r\n  content: "\\f135";\r\n}\r\n.fa-maxcdn:before {\r\n  content: "\\f136";\r\n}\r\n.fa-chevron-circle-left:before {\r\n  content: "\\f137";\r\n}\r\n.fa-chevron-circle-right:before {\r\n  content: "\\f138";\r\n}\r\n.fa-chevron-circle-up:before {\r\n  content: "\\f139";\r\n}\r\n.fa-chevron-circle-down:before {\r\n  content: "\\f13a";\r\n}\r\n.fa-html5:before {\r\n  content: "\\f13b";\r\n}\r\n.fa-css3:before {\r\n  content: "\\f13c";\r\n}\r\n.fa-anchor:before {\r\n  content: "\\f13d";\r\n}\r\n.fa-unlock-alt:before {\r\n  content: "\\f13e";\r\n}\r\n.fa-bullseye:before {\r\n  content: "\\f140";\r\n}\r\n.fa-ellipsis-h:before {\r\n  content: "\\f141";\r\n}\r\n.fa-ellipsis-v:before {\r\n  content: "\\f142";\r\n}\r\n.fa-rss-square:before {\r\n  content: "\\f143";\r\n}\r\n.fa-play-circle:before {\r\n  content: "\\f144";\r\n}\r\n.fa-ticket:before {\r\n  content: "\\f145";\r\n}\r\n.fa-minus-square:before {\r\n  content: "\\f146";\r\n}\r\n.fa-minus-square-o:before {\r\n  content: "\\f147";\r\n}\r\n.fa-level-up:before {\r\n  content: "\\f148";\r\n}\r\n.fa-level-down:before {\r\n  content: "\\f149";\r\n}\r\n.fa-check-square:before {\r\n  content: "\\f14a";\r\n}\r\n.fa-pencil-square:before {\r\n  content: "\\f14b";\r\n}\r\n.fa-external-link-square:before {\r\n  content: "\\f14c";\r\n}\r\n.fa-share-square:before {\r\n  content: "\\f14d";\r\n}\r\n.fa-compass:before {\r\n  content: "\\f14e";\r\n}\r\n.fa-toggle-down:before,\r\n.fa-caret-square-o-down:before {\r\n  content: "\\f150";\r\n}\r\n.fa-toggle-up:before,\r\n.fa-caret-square-o-up:before {\r\n  content: "\\f151";\r\n}\r\n.fa-toggle-right:before,\r\n.fa-caret-square-o-right:before {\r\n  content: "\\f152";\r\n}\r\n.fa-euro:before,\r\n.fa-eur:before {\r\n  content: "\\f153";\r\n}\r\n.fa-gbp:before {\r\n  content: "\\f154";\r\n}\r\n.fa-dollar:before,\r\n.fa-usd:before {\r\n  content: "\\f155";\r\n}\r\n.fa-rupee:before,\r\n.fa-inr:before {\r\n  content: "\\f156";\r\n}\r\n.fa-cny:before,\r\n.fa-rmb:before,\r\n.fa-yen:before,\r\n.fa-jpy:before {\r\n  content: "\\f157";\r\n}\r\n.fa-ruble:before,\r\n.fa-rouble:before,\r\n.fa-rub:before {\r\n  content: "\\f158";\r\n}\r\n.fa-won:before,\r\n.fa-krw:before {\r\n  content: "\\f159";\r\n}\r\n.fa-bitcoin:before,\r\n.fa-btc:before {\r\n  content: "\\f15a";\r\n}\r\n.fa-file:before {\r\n  content: "\\f15b";\r\n}\r\n.fa-file-text:before {\r\n  content: "\\f15c";\r\n}\r\n.fa-sort-alpha-asc:before {\r\n  content: "\\f15d";\r\n}\r\n.fa-sort-alpha-desc:before {\r\n  content: "\\f15e";\r\n}\r\n.fa-sort-amount-asc:before {\r\n  content: "\\f160";\r\n}\r\n.fa-sort-amount-desc:before {\r\n  content: "\\f161";\r\n}\r\n.fa-sort-numeric-asc:before {\r\n  content: "\\f162";\r\n}\r\n.fa-sort-numeric-desc:before {\r\n  content: "\\f163";\r\n}\r\n.fa-thumbs-up:before {\r\n  content: "\\f164";\r\n}\r\n.fa-thumbs-down:before {\r\n  content: "\\f165";\r\n}\r\n.fa-youtube-square:before {\r\n  content: "\\f166";\r\n}\r\n.fa-youtube:before {\r\n  content: "\\f167";\r\n}\r\n.fa-xing:before {\r\n  content: "\\f168";\r\n}\r\n.fa-xing-square:before {\r\n  content: "\\f169";\r\n}\r\n.fa-youtube-play:before {\r\n  content: "\\f16a";\r\n}\r\n.fa-dropbox:before {\r\n  content: "\\f16b";\r\n}\r\n.fa-stack-overflow:before {\r\n  content: "\\f16c";\r\n}\r\n.fa-instagram:before {\r\n  content: "\\f16d";\r\n}\r\n.fa-flickr:before {\r\n  content: "\\f16e";\r\n}\r\n.fa-adn:before {\r\n  content: "\\f170";\r\n}\r\n.fa-bitbucket:before {\r\n  content: "\\f171";\r\n}\r\n.fa-bitbucket-square:before {\r\n  content: "\\f172";\r\n}\r\n.fa-tumblr:before {\r\n  content: "\\f173";\r\n}\r\n.fa-tumblr-square:before {\r\n  content: "\\f174";\r\n}\r\n.fa-long-arrow-down:before {\r\n  content: "\\f175";\r\n}\r\n.fa-long-arrow-up:before {\r\n  content: "\\f176";\r\n}\r\n.fa-long-arrow-left:before {\r\n  content: "\\f177";\r\n}\r\n.fa-long-arrow-right:before {\r\n  content: "\\f178";\r\n}\r\n.fa-apple:before {\r\n  content: "\\f179";\r\n}\r\n.fa-windows:before {\r\n  content: "\\f17a";\r\n}\r\n.fa-android:before {\r\n  content: "\\f17b";\r\n}\r\n.fa-linux:before {\r\n  content: "\\f17c";\r\n}\r\n.fa-dribbble:before {\r\n  content: "\\f17d";\r\n}\r\n.fa-skype:before {\r\n  content: "\\f17e";\r\n}\r\n.fa-foursquare:before {\r\n  content: "\\f180";\r\n}\r\n.fa-trello:before {\r\n  content: "\\f181";\r\n}\r\n.fa-female:before {\r\n  content: "\\f182";\r\n}\r\n.fa-male:before {\r\n  content: "\\f183";\r\n}\r\n.fa-gittip:before,\r\n.fa-gratipay:before {\r\n  content: "\\f184";\r\n}\r\n.fa-sun-o:before {\r\n  content: "\\f185";\r\n}\r\n.fa-moon-o:before {\r\n  content: "\\f186";\r\n}\r\n.fa-archive:before {\r\n  content: "\\f187";\r\n}\r\n.fa-bug:before {\r\n  content: "\\f188";\r\n}\r\n.fa-vk:before {\r\n  content: "\\f189";\r\n}\r\n.fa-weibo:before {\r\n  content: "\\f18a";\r\n}\r\n.fa-renren:before {\r\n  content: "\\f18b";\r\n}\r\n.fa-pagelines:before {\r\n  content: "\\f18c";\r\n}\r\n.fa-stack-exchange:before {\r\n  content: "\\f18d";\r\n}\r\n.fa-arrow-circle-o-right:before {\r\n  content: "\\f18e";\r\n}\r\n.fa-arrow-circle-o-left:before {\r\n  content: "\\f190";\r\n}\r\n.fa-toggle-left:before,\r\n.fa-caret-square-o-left:before {\r\n  content: "\\f191";\r\n}\r\n.fa-dot-circle-o:before {\r\n  content: "\\f192";\r\n}\r\n.fa-wheelchair:before {\r\n  content: "\\f193";\r\n}\r\n.fa-vimeo-square:before {\r\n  content: "\\f194";\r\n}\r\n.fa-turkish-lira:before,\r\n.fa-try:before {\r\n  content: "\\f195";\r\n}\r\n.fa-plus-square-o:before {\r\n  content: "\\f196";\r\n}\r\n.fa-space-shuttle:before {\r\n  content: "\\f197";\r\n}\r\n.fa-slack:before {\r\n  content: "\\f198";\r\n}\r\n.fa-envelope-square:before {\r\n  content: "\\f199";\r\n}\r\n.fa-wordpress:before {\r\n  content: "\\f19a";\r\n}\r\n.fa-openid:before {\r\n  content: "\\f19b";\r\n}\r\n.fa-institution:before,\r\n.fa-bank:before,\r\n.fa-university:before {\r\n  content: "\\f19c";\r\n}\r\n.fa-mortar-board:before,\r\n.fa-graduation-cap:before {\r\n  content: "\\f19d";\r\n}\r\n.fa-yahoo:before {\r\n  content: "\\f19e";\r\n}\r\n.fa-google:before {\r\n  content: "\\f1a0";\r\n}\r\n.fa-reddit:before {\r\n  content: "\\f1a1";\r\n}\r\n.fa-reddit-square:before {\r\n  content: "\\f1a2";\r\n}\r\n.fa-stumbleupon-circle:before {\r\n  content: "\\f1a3";\r\n}\r\n.fa-stumbleupon:before {\r\n  content: "\\f1a4";\r\n}\r\n.fa-delicious:before {\r\n  content: "\\f1a5";\r\n}\r\n.fa-digg:before {\r\n  content: "\\f1a6";\r\n}\r\n.fa-pied-piper-pp:before {\r\n  content: "\\f1a7";\r\n}\r\n.fa-pied-piper-alt:before {\r\n  content: "\\f1a8";\r\n}\r\n.fa-drupal:before {\r\n  content: "\\f1a9";\r\n}\r\n.fa-joomla:before {\r\n  content: "\\f1aa";\r\n}\r\n.fa-language:before {\r\n  content: "\\f1ab";\r\n}\r\n.fa-fax:before {\r\n  content: "\\f1ac";\r\n}\r\n.fa-building:before {\r\n  content: "\\f1ad";\r\n}\r\n.fa-child:before {\r\n  content: "\\f1ae";\r\n}\r\n.fa-paw:before {\r\n  content: "\\f1b0";\r\n}\r\n.fa-spoon:before {\r\n  content: "\\f1b1";\r\n}\r\n.fa-cube:before {\r\n  content: "\\f1b2";\r\n}\r\n.fa-cubes:before {\r\n  content: "\\f1b3";\r\n}\r\n.fa-behance:before {\r\n  content: "\\f1b4";\r\n}\r\n.fa-behance-square:before {\r\n  content: "\\f1b5";\r\n}\r\n.fa-steam:before {\r\n  content: "\\f1b6";\r\n}\r\n.fa-steam-square:before {\r\n  content: "\\f1b7";\r\n}\r\n.fa-recycle:before {\r\n  content: "\\f1b8";\r\n}\r\n.fa-automobile:before,\r\n.fa-car:before {\r\n  content: "\\f1b9";\r\n}\r\n.fa-cab:before,\r\n.fa-taxi:before {\r\n  content: "\\f1ba";\r\n}\r\n.fa-tree:before {\r\n  content: "\\f1bb";\r\n}\r\n.fa-spotify:before {\r\n  content: "\\f1bc";\r\n}\r\n.fa-deviantart:before {\r\n  content: "\\f1bd";\r\n}\r\n.fa-soundcloud:before {\r\n  content: "\\f1be";\r\n}\r\n.fa-database:before {\r\n  content: "\\f1c0";\r\n}\r\n.fa-file-pdf-o:before {\r\n  content: "\\f1c1";\r\n}\r\n.fa-file-word-o:before {\r\n  content: "\\f1c2";\r\n}\r\n.fa-file-excel-o:before {\r\n  content: "\\f1c3";\r\n}\r\n.fa-file-powerpoint-o:before {\r\n  content: "\\f1c4";\r\n}\r\n.fa-file-photo-o:before,\r\n.fa-file-picture-o:before,\r\n.fa-file-image-o:before {\r\n  content: "\\f1c5";\r\n}\r\n.fa-file-zip-o:before,\r\n.fa-file-archive-o:before {\r\n  content: "\\f1c6";\r\n}\r\n.fa-file-sound-o:before,\r\n.fa-file-audio-o:before {\r\n  content: "\\f1c7";\r\n}\r\n.fa-file-movie-o:before,\r\n.fa-file-video-o:before {\r\n  content: "\\f1c8";\r\n}\r\n.fa-file-code-o:before {\r\n  content: "\\f1c9";\r\n}\r\n.fa-vine:before {\r\n  content: "\\f1ca";\r\n}\r\n.fa-codepen:before {\r\n  content: "\\f1cb";\r\n}\r\n.fa-jsfiddle:before {\r\n  content: "\\f1cc";\r\n}\r\n.fa-life-bouy:before,\r\n.fa-life-buoy:before,\r\n.fa-life-saver:before,\r\n.fa-support:before,\r\n.fa-life-ring:before {\r\n  content: "\\f1cd";\r\n}\r\n.fa-circle-o-notch:before {\r\n  content: "\\f1ce";\r\n}\r\n.fa-ra:before,\r\n.fa-resistance:before,\r\n.fa-rebel:before {\r\n  content: "\\f1d0";\r\n}\r\n.fa-ge:before,\r\n.fa-empire:before {\r\n  content: "\\f1d1";\r\n}\r\n.fa-git-square:before {\r\n  content: "\\f1d2";\r\n}\r\n.fa-git:before {\r\n  content: "\\f1d3";\r\n}\r\n.fa-y-combinator-square:before,\r\n.fa-yc-square:before,\r\n.fa-hacker-news:before {\r\n  content: "\\f1d4";\r\n}\r\n.fa-tencent-weibo:before {\r\n  content: "\\f1d5";\r\n}\r\n.fa-qq:before {\r\n  content: "\\f1d6";\r\n}\r\n.fa-wechat:before,\r\n.fa-weixin:before {\r\n  content: "\\f1d7";\r\n}\r\n.fa-send:before,\r\n.fa-paper-plane:before {\r\n  content: "\\f1d8";\r\n}\r\n.fa-send-o:before,\r\n.fa-paper-plane-o:before {\r\n  content: "\\f1d9";\r\n}\r\n.fa-history:before {\r\n  content: "\\f1da";\r\n}\r\n.fa-circle-thin:before {\r\n  content: "\\f1db";\r\n}\r\n.fa-header:before {\r\n  content: "\\f1dc";\r\n}\r\n.fa-paragraph:before {\r\n  content: "\\f1dd";\r\n}\r\n.fa-sliders:before {\r\n  content: "\\f1de";\r\n}\r\n.fa-share-alt:before {\r\n  content: "\\f1e0";\r\n}\r\n.fa-share-alt-square:before {\r\n  content: "\\f1e1";\r\n}\r\n.fa-bomb:before {\r\n  content: "\\f1e2";\r\n}\r\n.fa-soccer-ball-o:before,\r\n.fa-futbol-o:before {\r\n  content: "\\f1e3";\r\n}\r\n.fa-tty:before {\r\n  content: "\\f1e4";\r\n}\r\n.fa-binoculars:before {\r\n  content: "\\f1e5";\r\n}\r\n.fa-plug:before {\r\n  content: "\\f1e6";\r\n}\r\n.fa-slideshare:before {\r\n  content: "\\f1e7";\r\n}\r\n.fa-twitch:before {\r\n  content: "\\f1e8";\r\n}\r\n.fa-yelp:before {\r\n  content: "\\f1e9";\r\n}\r\n.fa-newspaper-o:before {\r\n  content: "\\f1ea";\r\n}\r\n.fa-wifi:before {\r\n  content: "\\f1eb";\r\n}\r\n.fa-calculator:before {\r\n  content: "\\f1ec";\r\n}\r\n.fa-paypal:before {\r\n  content: "\\f1ed";\r\n}\r\n.fa-google-wallet:before {\r\n  content: "\\f1ee";\r\n}\r\n.fa-cc-visa:before {\r\n  content: "\\f1f0";\r\n}\r\n.fa-cc-mastercard:before {\r\n  content: "\\f1f1";\r\n}\r\n.fa-cc-discover:before {\r\n  content: "\\f1f2";\r\n}\r\n.fa-cc-amex:before {\r\n  content: "\\f1f3";\r\n}\r\n.fa-cc-paypal:before {\r\n  content: "\\f1f4";\r\n}\r\n.fa-cc-stripe:before {\r\n  content: "\\f1f5";\r\n}\r\n.fa-bell-slash:before {\r\n  content: "\\f1f6";\r\n}\r\n.fa-bell-slash-o:before {\r\n  content: "\\f1f7";\r\n}\r\n.fa-trash:before {\r\n  content: "\\f1f8";\r\n}\r\n.fa-copyright:before {\r\n  content: "\\f1f9";\r\n}\r\n.fa-at:before {\r\n  content: "\\f1fa";\r\n}\r\n.fa-eyedropper:before {\r\n  content: "\\f1fb";\r\n}\r\n.fa-paint-brush:before {\r\n  content: "\\f1fc";\r\n}\r\n.fa-birthday-cake:before {\r\n  content: "\\f1fd";\r\n}\r\n.fa-area-chart:before {\r\n  content: "\\f1fe";\r\n}\r\n.fa-pie-chart:before {\r\n  content: "\\f200";\r\n}\r\n.fa-line-chart:before {\r\n  content: "\\f201";\r\n}\r\n.fa-lastfm:before {\r\n  content: "\\f202";\r\n}\r\n.fa-lastfm-square:before {\r\n  content: "\\f203";\r\n}\r\n.fa-toggle-off:before {\r\n  content: "\\f204";\r\n}\r\n.fa-toggle-on:before {\r\n  content: "\\f205";\r\n}\r\n.fa-bicycle:before {\r\n  content: "\\f206";\r\n}\r\n.fa-bus:before {\r\n  content: "\\f207";\r\n}\r\n.fa-ioxhost:before {\r\n  content: "\\f208";\r\n}\r\n.fa-angellist:before {\r\n  content: "\\f209";\r\n}\r\n.fa-cc:before {\r\n  content: "\\f20a";\r\n}\r\n.fa-shekel:before,\r\n.fa-sheqel:before,\r\n.fa-ils:before {\r\n  content: "\\f20b";\r\n}\r\n.fa-meanpath:before {\r\n  content: "\\f20c";\r\n}\r\n.fa-buysellads:before {\r\n  content: "\\f20d";\r\n}\r\n.fa-connectdevelop:before {\r\n  content: "\\f20e";\r\n}\r\n.fa-dashcube:before {\r\n  content: "\\f210";\r\n}\r\n.fa-forumbee:before {\r\n  content: "\\f211";\r\n}\r\n.fa-leanpub:before {\r\n  content: "\\f212";\r\n}\r\n.fa-sellsy:before {\r\n  content: "\\f213";\r\n}\r\n.fa-shirtsinbulk:before {\r\n  content: "\\f214";\r\n}\r\n.fa-simplybuilt:before {\r\n  content: "\\f215";\r\n}\r\n.fa-skyatlas:before {\r\n  content: "\\f216";\r\n}\r\n.fa-cart-plus:before {\r\n  content: "\\f217";\r\n}\r\n.fa-cart-arrow-down:before {\r\n  content: "\\f218";\r\n}\r\n.fa-diamond:before {\r\n  content: "\\f219";\r\n}\r\n.fa-ship:before {\r\n  content: "\\f21a";\r\n}\r\n.fa-user-secret:before {\r\n  content: "\\f21b";\r\n}\r\n.fa-motorcycle:before {\r\n  content: "\\f21c";\r\n}\r\n.fa-street-view:before {\r\n  content: "\\f21d";\r\n}\r\n.fa-heartbeat:before {\r\n  content: "\\f21e";\r\n}\r\n.fa-venus:before {\r\n  content: "\\f221";\r\n}\r\n.fa-mars:before {\r\n  content: "\\f222";\r\n}\r\n.fa-mercury:before {\r\n  content: "\\f223";\r\n}\r\n.fa-intersex:before,\r\n.fa-transgender:before {\r\n  content: "\\f224";\r\n}\r\n.fa-transgender-alt:before {\r\n  content: "\\f225";\r\n}\r\n.fa-venus-double:before {\r\n  content: "\\f226";\r\n}\r\n.fa-mars-double:before {\r\n  content: "\\f227";\r\n}\r\n.fa-venus-mars:before {\r\n  content: "\\f228";\r\n}\r\n.fa-mars-stroke:before {\r\n  content: "\\f229";\r\n}\r\n.fa-mars-stroke-v:before {\r\n  content: "\\f22a";\r\n}\r\n.fa-mars-stroke-h:before {\r\n  content: "\\f22b";\r\n}\r\n.fa-neuter:before {\r\n  content: "\\f22c";\r\n}\r\n.fa-genderless:before {\r\n  content: "\\f22d";\r\n}\r\n.fa-facebook-official:before {\r\n  content: "\\f230";\r\n}\r\n.fa-pinterest-p:before {\r\n  content: "\\f231";\r\n}\r\n.fa-whatsapp:before {\r\n  content: "\\f232";\r\n}\r\n.fa-server:before {\r\n  content: "\\f233";\r\n}\r\n.fa-user-plus:before {\r\n  content: "\\f234";\r\n}\r\n.fa-user-times:before {\r\n  content: "\\f235";\r\n}\r\n.fa-hotel:before,\r\n.fa-bed:before {\r\n  content: "\\f236";\r\n}\r\n.fa-viacoin:before {\r\n  content: "\\f237";\r\n}\r\n.fa-train:before {\r\n  content: "\\f238";\r\n}\r\n.fa-subway:before {\r\n  content: "\\f239";\r\n}\r\n.fa-medium:before {\r\n  content: "\\f23a";\r\n}\r\n.fa-yc:before,\r\n.fa-y-combinator:before {\r\n  content: "\\f23b";\r\n}\r\n.fa-optin-monster:before {\r\n  content: "\\f23c";\r\n}\r\n.fa-opencart:before {\r\n  content: "\\f23d";\r\n}\r\n.fa-expeditedssl:before {\r\n  content: "\\f23e";\r\n}\r\n.fa-battery-4:before,\r\n.fa-battery:before,\r\n.fa-battery-full:before {\r\n  content: "\\f240";\r\n}\r\n.fa-battery-3:before,\r\n.fa-battery-three-quarters:before {\r\n  content: "\\f241";\r\n}\r\n.fa-battery-2:before,\r\n.fa-battery-half:before {\r\n  content: "\\f242";\r\n}\r\n.fa-battery-1:before,\r\n.fa-battery-quarter:before {\r\n  content: "\\f243";\r\n}\r\n.fa-battery-0:before,\r\n.fa-battery-empty:before {\r\n  content: "\\f244";\r\n}\r\n.fa-mouse-pointer:before {\r\n  content: "\\f245";\r\n}\r\n.fa-i-cursor:before {\r\n  content: "\\f246";\r\n}\r\n.fa-object-group:before {\r\n  content: "\\f247";\r\n}\r\n.fa-object-ungroup:before {\r\n  content: "\\f248";\r\n}\r\n.fa-sticky-note:before {\r\n  content: "\\f249";\r\n}\r\n.fa-sticky-note-o:before {\r\n  content: "\\f24a";\r\n}\r\n.fa-cc-jcb:before {\r\n  content: "\\f24b";\r\n}\r\n.fa-cc-diners-club:before {\r\n  content: "\\f24c";\r\n}\r\n.fa-clone:before {\r\n  content: "\\f24d";\r\n}\r\n.fa-balance-scale:before {\r\n  content: "\\f24e";\r\n}\r\n.fa-hourglass-o:before {\r\n  content: "\\f250";\r\n}\r\n.fa-hourglass-1:before,\r\n.fa-hourglass-start:before {\r\n  content: "\\f251";\r\n}\r\n.fa-hourglass-2:before,\r\n.fa-hourglass-half:before {\r\n  content: "\\f252";\r\n}\r\n.fa-hourglass-3:before,\r\n.fa-hourglass-end:before {\r\n  content: "\\f253";\r\n}\r\n.fa-hourglass:before {\r\n  content: "\\f254";\r\n}\r\n.fa-hand-grab-o:before,\r\n.fa-hand-rock-o:before {\r\n  content: "\\f255";\r\n}\r\n.fa-hand-stop-o:before,\r\n.fa-hand-paper-o:before {\r\n  content: "\\f256";\r\n}\r\n.fa-hand-scissors-o:before {\r\n  content: "\\f257";\r\n}\r\n.fa-hand-lizard-o:before {\r\n  content: "\\f258";\r\n}\r\n.fa-hand-spock-o:before {\r\n  content: "\\f259";\r\n}\r\n.fa-hand-pointer-o:before {\r\n  content: "\\f25a";\r\n}\r\n.fa-hand-peace-o:before {\r\n  content: "\\f25b";\r\n}\r\n.fa-trademark:before {\r\n  content: "\\f25c";\r\n}\r\n.fa-registered:before {\r\n  content: "\\f25d";\r\n}\r\n.fa-creative-commons:before {\r\n  content: "\\f25e";\r\n}\r\n.fa-gg:before {\r\n  content: "\\f260";\r\n}\r\n.fa-gg-circle:before {\r\n  content: "\\f261";\r\n}\r\n.fa-tripadvisor:before {\r\n  content: "\\f262";\r\n}\r\n.fa-odnoklassniki:before {\r\n  content: "\\f263";\r\n}\r\n.fa-odnoklassniki-square:before {\r\n  content: "\\f264";\r\n}\r\n.fa-get-pocket:before {\r\n  content: "\\f265";\r\n}\r\n.fa-wikipedia-w:before {\r\n  content: "\\f266";\r\n}\r\n.fa-safari:before {\r\n  content: "\\f267";\r\n}\r\n.fa-chrome:before {\r\n  content: "\\f268";\r\n}\r\n.fa-firefox:before {\r\n  content: "\\f269";\r\n}\r\n.fa-opera:before {\r\n  content: "\\f26a";\r\n}\r\n.fa-internet-explorer:before {\r\n  content: "\\f26b";\r\n}\r\n.fa-tv:before,\r\n.fa-television:before {\r\n  content: "\\f26c";\r\n}\r\n.fa-contao:before {\r\n  content: "\\f26d";\r\n}\r\n.fa-500px:before {\r\n  content: "\\f26e";\r\n}\r\n.fa-amazon:before {\r\n  content: "\\f270";\r\n}\r\n.fa-calendar-plus-o:before {\r\n  content: "\\f271";\r\n}\r\n.fa-calendar-minus-o:before {\r\n  content: "\\f272";\r\n}\r\n.fa-calendar-times-o:before {\r\n  content: "\\f273";\r\n}\r\n.fa-calendar-check-o:before {\r\n  content: "\\f274";\r\n}\r\n.fa-industry:before {\r\n  content: "\\f275";\r\n}\r\n.fa-map-pin:before {\r\n  content: "\\f276";\r\n}\r\n.fa-map-signs:before {\r\n  content: "\\f277";\r\n}\r\n.fa-map-o:before {\r\n  content: "\\f278";\r\n}\r\n.fa-map:before {\r\n  content: "\\f279";\r\n}\r\n.fa-commenting:before {\r\n  content: "\\f27a";\r\n}\r\n.fa-commenting-o:before {\r\n  content: "\\f27b";\r\n}\r\n.fa-houzz:before {\r\n  content: "\\f27c";\r\n}\r\n.fa-vimeo:before {\r\n  content: "\\f27d";\r\n}\r\n.fa-black-tie:before {\r\n  content: "\\f27e";\r\n}\r\n.fa-fonticons:before {\r\n  content: "\\f280";\r\n}\r\n.fa-reddit-alien:before {\r\n  content: "\\f281";\r\n}\r\n.fa-edge:before {\r\n  content: "\\f282";\r\n}\r\n.fa-credit-card-alt:before {\r\n  content: "\\f283";\r\n}\r\n.fa-codiepie:before {\r\n  content: "\\f284";\r\n}\r\n.fa-modx:before {\r\n  content: "\\f285";\r\n}\r\n.fa-fort-awesome:before {\r\n  content: "\\f286";\r\n}\r\n.fa-usb:before {\r\n  content: "\\f287";\r\n}\r\n.fa-product-hunt:before {\r\n  content: "\\f288";\r\n}\r\n.fa-mixcloud:before {\r\n  content: "\\f289";\r\n}\r\n.fa-scribd:before {\r\n  content: "\\f28a";\r\n}\r\n.fa-pause-circle:before {\r\n  content: "\\f28b";\r\n}\r\n.fa-pause-circle-o:before {\r\n  content: "\\f28c";\r\n}\r\n.fa-stop-circle:before {\r\n  content: "\\f28d";\r\n}\r\n.fa-stop-circle-o:before {\r\n  content: "\\f28e";\r\n}\r\n.fa-shopping-bag:before {\r\n  content: "\\f290";\r\n}\r\n.fa-shopping-basket:before {\r\n  content: "\\f291";\r\n}\r\n.fa-hashtag:before {\r\n  content: "\\f292";\r\n}\r\n.fa-bluetooth:before {\r\n  content: "\\f293";\r\n}\r\n.fa-bluetooth-b:before {\r\n  content: "\\f294";\r\n}\r\n.fa-percent:before {\r\n  content: "\\f295";\r\n}\r\n.fa-gitlab:before {\r\n  content: "\\f296";\r\n}\r\n.fa-wpbeginner:before {\r\n  content: "\\f297";\r\n}\r\n.fa-wpforms:before {\r\n  content: "\\f298";\r\n}\r\n.fa-envira:before {\r\n  content: "\\f299";\r\n}\r\n.fa-universal-access:before {\r\n  content: "\\f29a";\r\n}\r\n.fa-wheelchair-alt:before {\r\n  content: "\\f29b";\r\n}\r\n.fa-question-circle-o:before {\r\n  content: "\\f29c";\r\n}\r\n.fa-blind:before {\r\n  content: "\\f29d";\r\n}\r\n.fa-audio-description:before {\r\n  content: "\\f29e";\r\n}\r\n.fa-volume-control-phone:before {\r\n  content: "\\f2a0";\r\n}\r\n.fa-braille:before {\r\n  content: "\\f2a1";\r\n}\r\n.fa-assistive-listening-systems:before {\r\n  content: "\\f2a2";\r\n}\r\n.fa-asl-interpreting:before,\r\n.fa-american-sign-language-interpreting:before {\r\n  content: "\\f2a3";\r\n}\r\n.fa-deafness:before,\r\n.fa-hard-of-hearing:before,\r\n.fa-deaf:before {\r\n  content: "\\f2a4";\r\n}\r\n.fa-glide:before {\r\n  content: "\\f2a5";\r\n}\r\n.fa-glide-g:before {\r\n  content: "\\f2a6";\r\n}\r\n.fa-signing:before,\r\n.fa-sign-language:before {\r\n  content: "\\f2a7";\r\n}\r\n.fa-low-vision:before {\r\n  content: "\\f2a8";\r\n}\r\n.fa-viadeo:before {\r\n  content: "\\f2a9";\r\n}\r\n.fa-viadeo-square:before {\r\n  content: "\\f2aa";\r\n}\r\n.fa-snapchat:before {\r\n  content: "\\f2ab";\r\n}\r\n.fa-snapchat-ghost:before {\r\n  content: "\\f2ac";\r\n}\r\n.fa-snapchat-square:before {\r\n  content: "\\f2ad";\r\n}\r\n.fa-pied-piper:before {\r\n  content: "\\f2ae";\r\n}\r\n.fa-first-order:before {\r\n  content: "\\f2b0";\r\n}\r\n.fa-yoast:before {\r\n  content: "\\f2b1";\r\n}\r\n.fa-themeisle:before {\r\n  content: "\\f2b2";\r\n}\r\n.fa-google-plus-circle:before,\r\n.fa-google-plus-official:before {\r\n  content: "\\f2b3";\r\n}\r\n.fa-fa:before,\r\n.fa-font-awesome:before {\r\n  content: "\\f2b4";\r\n}\r\n.fa-handshake-o:before {\r\n  content: "\\f2b5";\r\n}\r\n.fa-envelope-open:before {\r\n  content: "\\f2b6";\r\n}\r\n.fa-envelope-open-o:before {\r\n  content: "\\f2b7";\r\n}\r\n.fa-linode:before {\r\n  content: "\\f2b8";\r\n}\r\n.fa-address-book:before {\r\n  content: "\\f2b9";\r\n}\r\n.fa-address-book-o:before {\r\n  content: "\\f2ba";\r\n}\r\n.fa-vcard:before,\r\n.fa-address-card:before {\r\n  content: "\\f2bb";\r\n}\r\n.fa-vcard-o:before,\r\n.fa-address-card-o:before {\r\n  content: "\\f2bc";\r\n}\r\n.fa-user-circle:before {\r\n  content: "\\f2bd";\r\n}\r\n.fa-user-circle-o:before {\r\n  content: "\\f2be";\r\n}\r\n.fa-user-o:before {\r\n  content: "\\f2c0";\r\n}\r\n.fa-id-badge:before {\r\n  content: "\\f2c1";\r\n}\r\n.fa-drivers-license:before,\r\n.fa-id-card:before {\r\n  content: "\\f2c2";\r\n}\r\n.fa-drivers-license-o:before,\r\n.fa-id-card-o:before {\r\n  content: "\\f2c3";\r\n}\r\n.fa-quora:before {\r\n  content: "\\f2c4";\r\n}\r\n.fa-free-code-camp:before {\r\n  content: "\\f2c5";\r\n}\r\n.fa-telegram:before {\r\n  content: "\\f2c6";\r\n}\r\n.fa-thermometer-4:before,\r\n.fa-thermometer:before,\r\n.fa-thermometer-full:before {\r\n  content: "\\f2c7";\r\n}\r\n.fa-thermometer-3:before,\r\n.fa-thermometer-three-quarters:before {\r\n  content: "\\f2c8";\r\n}\r\n.fa-thermometer-2:before,\r\n.fa-thermometer-half:before {\r\n  content: "\\f2c9";\r\n}\r\n.fa-thermometer-1:before,\r\n.fa-thermometer-quarter:before {\r\n  content: "\\f2ca";\r\n}\r\n.fa-thermometer-0:before,\r\n.fa-thermometer-empty:before {\r\n  content: "\\f2cb";\r\n}\r\n.fa-shower:before {\r\n  content: "\\f2cc";\r\n}\r\n.fa-bathtub:before,\r\n.fa-s15:before,\r\n.fa-bath:before {\r\n  content: "\\f2cd";\r\n}\r\n.fa-podcast:before {\r\n  content: "\\f2ce";\r\n}\r\n.fa-window-maximize:before {\r\n  content: "\\f2d0";\r\n}\r\n.fa-window-minimize:before {\r\n  content: "\\f2d1";\r\n}\r\n.fa-window-restore:before {\r\n  content: "\\f2d2";\r\n}\r\n.fa-times-rectangle:before,\r\n.fa-window-close:before {\r\n  content: "\\f2d3";\r\n}\r\n.fa-times-rectangle-o:before,\r\n.fa-window-close-o:before {\r\n  content: "\\f2d4";\r\n}\r\n.fa-bandcamp:before {\r\n  content: "\\f2d5";\r\n}\r\n.fa-grav:before {\r\n  content: "\\f2d6";\r\n}\r\n.fa-etsy:before {\r\n  content: "\\f2d7";\r\n}\r\n.fa-imdb:before {\r\n  content: "\\f2d8";\r\n}\r\n.fa-ravelry:before {\r\n  content: "\\f2d9";\r\n}\r\n.fa-eercast:before {\r\n  content: "\\f2da";\r\n}\r\n.fa-microchip:before {\r\n  content: "\\f2db";\r\n}\r\n.fa-snowflake-o:before {\r\n  content: "\\f2dc";\r\n}\r\n.fa-superpowers:before {\r\n  content: "\\f2dd";\r\n}\r\n.fa-wpexplorer:before {\r\n  content: "\\f2de";\r\n}\r\n.fa-meetup:before {\r\n  content: "\\f2e0";\r\n}\r\n'}}]);